'use strict';function _DYTask_(a){a?(this.id=a.id,this.cr_id=a.cr_id,this.url=a.url,this.referer=a.referer,this.page_title=a.page_title,this.text=a.text,this.title=a.title,this.size=a.size,void 0==this.size&&(this.size=-1),this.iconURL16=a.iconURL16,this.iconURL32=a.iconURL32,this.folder=a.folder,this.naming=a.naming,this.naming_auto=a.naming_auto,this.folder_auto=a.folder_auto,this.name_conflict=a.name_conflict,this.state=a.state,this.time_add=new Date(a.time_add),this.time_finish=a.time_finish?
new Date(a.time_finish):null,this.time_elapsed=a.time_elapsed,this.max_threads_config=a.max_threads_config,this.checksum=a.checksum,this.desc=a.desc,this.batch_num=a.batch_num,this.exists=a.exists,this._start_time=a._start_time,this.hash=a.hash,this.temp_file=a.temp_file,this.recycled=a.recycled,this.blocksize=a.blocksize,this.blockcnt=a.blockcnt,this.finished_blocks=a.finished_blocks,this.finished_bytes=a.finished_bytes,this.etag=a.etag,this.last_modified=a.last_modified,this.mime_type=a.mime_type,
this.file_ext=a.file_ext,this.full_path=a.full_path,this.eurl=a.eurl,this.single_thread=a.single_thread,this.error_str=a.error_str):(this.id=-1,this.cr_id=-2,this.title=this.text=this.page_title=this.referer=this.url="",this.size=-1,this.naming=this.folder=this.iconURL32=this.iconURL16="",this.naming_auto=!0,this.folder_auto=!1,this.name_conflict="",this.state=2,this.time_add=new Date,this.time_finish=null,this.time_elapsed=0,this.max_threads_config=5,this.desc=this.checksum="",this.batch_num=0,this.exists=
!1,this.temp_file=this.hash="",this.recycled=!1,this.finished_bytes=this.finished_blocks=this.blockcnt=this.blocksize=0,this.eurl=this.full_path=this.file_ext=this.mime_type=this.last_modified=this.etag="",this.single_thread=!0);0<this.size?(0<this.blocksize&&(this.finished_bytes=Math.min(this.size,this.blocksize*this.finished_blocks)),this.progress=this.finished_bytes/this.size*100):this.progress=3==this.state?100:0;this.time_remained=this.active_threads=this.max_threads=this.speed=0;this._cf={}}
;

'use strict';function ba(a){var b=0,l=0,d=[];a&&(b=a,l=Math.ceil(a/32))&&(d=new Uint32Array(Array(l)),(a%=32)&&(d[l-1]|=~((1<<a)-1)));a={sc:function(){return b},rc:function(){var p=0;if(d&&l)for(var q=0;q<l;++q){var t=d[q];t=t-(t>>>1&3681400539)-(t>>>2&1227133513);t=t+(t>>>3)&3340530119;p+=((t&2147483647)%63+((t&2147483648)>>>30))%63}return p-(32*l-b)},resize:function(p){b=p;d=[];if(l=Math.ceil(p/32))d=new Uint32Array(Array(l)),(p%=32)&&(d[l-1]|=~((1<<p)-1))},reset:function(){if(d&&l){for(var p=0;p<
l;++p)d[p]=0;(p=b%32)&&(d[l-1]|=~((1<<p)-1))}},complete:function(){if(d&&l)for(var p=0;p<l;++p)d[p]=4294967295},set:function(p,q){if(void 0==q)q=1;else if(0==q)return;q=p+q;q>b&&(q=b);for(var t,y,u=0;0<=p&&p<q;)t=Math.floor(p/32),y=p%32,0==(d[t]&1<<y)&&++u,d[t]|=1<<y,++p;return u},get:function(p){return 0<=p&&p<b?0==(d[Math.floor(p/32)]&1<<p%32)?0:1:0},clear:function(p){0<=p&&p<b&&(d[Math.floor(p/32)]&=~(1<<p%32))},Fb:function(p){if(d&&l)for(var q=0,t=0;t<l;++t)for(var y=0;32>y&&q<b;++y,++q)0!=(d[t]&
1<<y)&&p(q)},Ea:function(p){if(!b)return-1;for(var q=0,t;q<l&&65535==(d[q]&65535)&&65535==(d[q]>>16&65535);)++q;if(q==l)return-1;var y=d[q];for(t=0;y&1;)++t,y>>=1;p&&(d[q]|=1<<t);return 32*q+t}};a.set=a.set;return a};window.dataLayer=window.dataLayer||[];function ca(){window.dataLayer.push(arguments)}ca("js",new Date);var da=chrome.runtime.getManifest().version;ca("config","UA-32450437-5",{allow_google_signals:!1,anonymize_ip:!0,custom_map:{dimension1:"extVersion"}});const ea={ss:300,dz:250,fe_us:150,sf:150,sets:100,stats:50},fa={dz:.3,fe_us:.22,sf:.006,sets:.01,stats:.01},ha={sets:5,stats:5},ia={sets:{ca:0,$:0},stats:{ca:0,$:0}};
function ja(a,b){if(b){var l=fa[a[1]]||1,d=ea[a[1]];d&&Math.floor(5E3*Math.random()*b*l)<d&&(a[1]+=`[${d}][1:${5}]`,a[2]+=`[1:${b}:${l}]`,b={event_category:a[1],extVersion:da},a[3]&&(b.event_label=a[3]),a[4]&&(b.value=a[4]),a[5]&&(b.non_interaction=!0),ca("event",a[2],b))}}function ka(a){const b=ha.sets;if(b){var l=ia.sets;if(l){var d=Date.now();864E5<d-(l.$||0)&&(l.$=d,l.ca=0);l.ca++>=b||ja(["_trackEvent","sets",a,"add",void 0,void 0],b)}}}
function la(a){const b=a.length;a.forEach(function(l){for(l.unshift("_trackEvent","ss");5>l.length;)l.push(void 0);l.push(!0);ja(l,b)})}window.addEventListener("load",function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="https://www.googletagmanager.com/gtag/js?id=UA-32450437-5";document.body.appendChild(a)});var ma=localStorage;var h=chrome.i18n.getMessage,r=chrome.runtime.sendMessage;function na(a){chrome.tabs.create({url:"chrome://settings/downloads"});oa("fe_us","change_downloads_folder",a)}const pa=/^(C:\/Windows\/|C:\/ProgramData\/|C:\/Program Files\/|C:\/Program Files \(x86\)\/|C:\/Users\/[^/]+\/AppData\/)/i,qa=/^\/(Users|home|tmp)\//i;function sa(a){return 0==navigator.platform.indexOf("Win")?a&&!pa.test(a):a&&qa.test(a)}function ta(a){return a?a.trim():""}
function ua(a,b){return a&&b&&a.startsWith(b)?a.slice(b.length):a}
var wa=/^data:([^;]+)((?:;[^=]+=[^;]+)*)(?:;(base64))?,(.+)$/,xa=/^(?:(?:https?|ftp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i,ya=
/^(data:|(https?|ftp):\/\/)/,za={"3gpp":"3gp","3gpp2":"3g2",aiff:"aif","ms-asf":"asf",basic:"au",msvideo:"avi",binary:"bin",macbinary:"bin","octet-stream":"bin","windows-bmp":"bmp",bzip:"bz",bzip2:"bz2",java:"class","java-class":"class",msword:"doc","openxmlformats-officedocument.wordprocessingml.document":"docx",fortran:"f",icon:"ico","java-source":"java",jpeg:"jpg",pjpeg:"jpg",mpegurl:"m3u",rfc822:"mhtml",matroska:"mkv",quicktime:"mov",mpeg3:"mp3",mpeg:"mp4","sgi-movie":"mv",pascal:"p","portable-bitmap":"pbm",
"portable-floatmap":"pfm","portable-graymap":"pgm","portable-pixmap":"ppm",mspowerpoint:"ppt","ms-powerpoint":"ppt",powerpoint:"ppt","openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx",postscript:"ps","adobe.photoshop":"psd","script.phyton":"py","pn-realaudio":"ra","rn-realmedia":"rm",bsh:"sh","svg+xml":"svg",gnutar:"tgz",plain:"txt","ms-wma":"wma","ms-wmv":"wmv",excel:"xls",msexcel:"xls","ms-excel":"xls",
"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx",compressed:"zip","zip-compressed":"zip"};
function Aa(a){a=(a||"").trim();var b={},l=14;if(0==a.indexOf("data:")){for(;l--;)b[Ba[l]]="";b.protocol="data";(a=wa.exec(a))&&a[1]&&(a=a[1].match(/(?:[^\/]+)\/(?:x-)?(?:vnd\.)?(.+)/i))&&a[1]&&(b.file="download."+(za[a[1]]||a[1]))}else try{const n=new URL(a);{var d=n.pathname;const k=d.lastIndexOf(".");if(-1==k||k==d.length-1)var p="";else{var q=d.lastIndexOf("/");p=q>k?"":d.slice(q+1)}}{var t=n.pathname;const k=t.lastIndexOf(".");if(-1==k||k==t.length-1)var y=t;else{var u=t.lastIndexOf("/");y=u>
k?t:t.substring(0,u+1)}}return{anchor:ua(n.hash,"#"),authority:n.host,directory:y,file:p,host:n.host,password:n.password,path:n.pathname,port:n.port,protocol:n.protocol,query:ua(n.search,"?"),relative:n.pathname,source:n.href,user:n.username,userInfo:n.username&&n.password?n.username+":"+n.password:n.username}}catch(n){for(console.error(n);l--;)b[Ba[l]]=""}return b}var Ba="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
function Ca(a){a=(a||"").trim();var b=a.lastIndexOf("."),l=-1!=b;l||(b=a.length);return{R:a.substr(0,b),v:a.substr(b+1),vc:l}}function Da(a){return ya.test(a)?a:"http://"+a}function Ea(a){return(a||"").trim().replace(/(^(\\|\/|\.)+)|((\\|\/|\.)+$)/g,"").replace(/\s*(\\|\/)+\s*/g,"/").trim()}function Fa(a,b){return a.replace(/[\/\\]+$/g,"").replace(/[\/\\]+/g,"/").trim()+(0==b?"":"/")}function Ga(a,b){return a?b?a.replace(/[\/\\]+$/,"")+"/"+b.replace(/[\/\\]+$/,""):a:b}
function Ha(a){let b=0;"/"==a[a.length-1]&&(b=1);let l=a.lastIndexOf("/",a.length-1-b)+1;return[a.substring(0,l),a.substring(l,Math.max(l,a.length-b))]}function Ia(a){return a?a.substr(Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"))+1):""}function Ja(a){return a?a.substr(0,Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"))+1):""}function Ka(a){return a&&!/^ *(\.|\\|\/)/.test(a)&&""!=a.replace(/[\.\*\\\/_]/g,"").trim()}
function La(a){a=Math.round(a);if(60>a)var b="Second";else 3600>a?(a=Math.round(a/60),b="Minute"):86400>a?(a=Math.round(a/3600),b="Hour"):(a=Math.round(a/86400),b="Day");1<a&&(b+="s");return h("unit"+b,[a.toString()])}function Ma(a){return 1E3>a?+a.toFixed(2)+" B":1024E3>a?+(a/1024).toFixed(2)+" KB":1048576E3>a?+(a/1048576).toFixed(2)+" MB":+(a/1073741824).toFixed(2)+" GB"}function Na(a){return 0>a?h("phraseUnknown"):Ma(a)+"/s"}var v=0;v=0;var Oa=v++,Pa=v++,Ra=v++;v=0;
var J=v++,Ta=v++,Ua=v++,Va=v-1,Wa=v++,M=v++;v++;v=0;var Xa=v++,Ya=v++;v=0;var Za=v++;v++;var $a=v++,ab=v++;v=0;var bb=v++,cb=v++;v++;v=0;var db=v++;v++;v++;var eb=v++,fb=v++;v=0;var gb=v++,hb=v++;v=0;v++;v++;var ib=v++;v=0;v++;v++;v++;v++;v++;v++;v++;v++;v++;v++;v++;v++;v++;v++;v++;v=0;v++;v++;v++;v=0;v++;v=256;var jb=v++;v++;v++;v++;v++;v++;v=512;v++;v++;var kb="dy_proxy_enable dy_proxy dy_max_con_tasks dy_retry_count dy_retry_timeout dy_cache_max dy_cache_unit dy_bandlimit dy_file_permission".split(" ");
const lb=h("chromesysFailedGenericNetworkError"),mb=h("chromesysFailedGenericDownloadError");h("stateDownloading");h("stateQueue");h("statePaused");h("stateFinished");h("stateError");h("stateFileMiss");var nb={none:h("errorNone"),fnConflict:h("errorFNameConflict"),noID:h("errorNoID"),NETWORK_FAILED:lb,NETWORK_DISCONNECTED:lb,NETWORK_SERVER_DOWN:lb,NETWORK_INVALID_REQUEST:lb,FILE_FAILED:mb,FILE_HASH_MISMATCH:mb,SERVER_NO_RANGE:mb};function ob(a){return a?nb[a]||h("chromesysFailed_"+a)||a:""};const pb=["",[String.fromCharCode(103),String.fromCharCode(108),String.fromCharCode(99)].join(""),"1_"].join("_");function qb(a){var b=void 0;a=ma[pb+a];if(void 0!=a)try{b=JSON.parse(atob(a[1]+a.substr(3)))}catch(l){}return b}function rb(a){a=qb(a);var b=Date.now();return!a||!a._t||isNaN(a._t)||!isFinite(a._t)||6048E5<b-a._t?{_t:b}:a}
function oa(a,b,l,d){function p(t){return btoa(t.split("").map(y=>{var u=y.charCodeAt(0),n=0;"_"!=y&&(n=60<u?-55:53);return String.fromCharCode(u+n)}).join(""))}d=d||1;var q=rb(a);b=p(b)+(l?";"+p(l):"");q[b]=(q[b]||0)+d;(function(t,y){y=btoa(JSON.stringify(y));ma[pb+t]=String.fromCharCode(97+Math.floor(26*Math.random()))+y[0]+String.fromCharCode(97+Math.floor(26*Math.random()))+y.substr(1)})(a,q)}
function sb(a){if(!(0>=a)){var b=Math.round(Math.log2(a));oa("dz","sz",10>b?(1<<b)+"B":20>b?(1<<b-10)+"KB":30>b?(1<<b-20)+"MB":(1<<b-30)+"GB");oa("dz","sz_raw","",a)}};var tb,ub=!!window.Qa&&!!window.Qa.mc||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),vb="undefined"!==typeof InstallTrigger,wb=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!==typeof safari&&safari.yc).toString(),xb=!!document.documentMode,yb=!xb&&!!window.oc;tb=ub?"OPERA":vb?"FF":wb?"SAFARI":xb?"IE":yb?"EDGE":"CHROME";var zb="FF"==tb?"about:preferences#general":"chrome://settings/languages";var P=_DYTask_;
P.prototype.reset=function(a,b){this.naming_auto&&(this.naming="");this.name_conflict="";this.eurl=this.url;this.cr_id=-2;this.size=-1;this.iconURL32=this.iconURL16="";void 0!=a&&(this.state=a);this.time_finish=null;this.batch_num=this.time_elapsed=0;this.exists=!1;this.hash="";this._start_time=void 0;this.temp_file="";this.recycled=!1;this.finished_bytes=this.finished_blocks=this.blockcnt=this.blocksize=0;this.full_path=this.mime_type=this.last_modified=this.etag="";this.single_thread=!0;this.error_str=
void 0;this.time_remained=this.active_threads=this.max_threads=this.speed=this.progress=0;0!=b&&(this.time_add=new Date);Ab(this);this._cf={};delete this.lc;delete this.G;delete this.na;delete this.m};function Ab(a){a.la=void 0;a.D=void 0}
(function(){function a(d,p,q,t,y){if("mime"==p)p="mime_type";else if("addtime"==p)p="time_add";else if("refer"==p)p="referer";else if("remark"==p||"remarks"==p)p="desc";var u=null;switch(p){case "host":u=q.host;break;case "query":case "anchor":u=q[p];break;case "subdirs":u=q.directory;break;case "name":u=t?decodeURIComponent(t.R):"";break;case "ext":u=t?t.v:"";break;case "url":u=d.url;break;case "eurl":u=d.eurl;break;case "num":return d.batch_num||(d.batch_num=l++),d.batch_num;case "date":case "datetime":u=
new Date;break;case "state":case "size":case "referer":case "page_title":case "text":case "title":case "time_add":case "time_elapsed":case "checksum":case "desc":case "progress":case "finished_bytes":case "mime_type":u=d[p];break;default:1==y&&(u="_"+p+"_")}return u}function b(d,p,q){function t(k){return 10>k?"0"+k:k.toString()}function y(k,C){var H={"M+":k.getMonth()+1,"d+":k.getDate(),"h+":k.getHours(),"m+":k.getMinutes(),"s+":k.getSeconds(),S:k.getMilliseconds()};C||(C="yyyy-MM-dd hh:mm:ss");/(y+)/.test(C)&&
(C=C.replace(RegExp.$1,(k.getFullYear()+"").substr(4-RegExp.$1.length)));for(var w in H)(new RegExp("("+w+")")).test(C)&&(C=C.replace(RegExp.$1,1==RegExp.$1.length?H[w]:("00"+H[w]).substr((""+H[w]).length)));return C}p=(p||"").trim();if(!p)return"";var u=Aa(d.url),n=Ca(d.file_ext||(d.eurl!=d.url?Aa(d.eurl).file:"")||u.file);p=p.replace(/\*(flat)?([^\*]+)?\*/gi,function(k,C,H){if(H){var w=ta(H.replace(/\s+,\s+/,",")).split(",");k="";H=w[0];w=w[1];var x=new Date;switch(H){case "hh":k=t(x.getHours());
break;case "mm":k=t(x.getMinutes());break;case "ss":k=t(x.getSeconds());break;case "y":k=x.getFullYear().toString();break;case "m":k=t(x.getMonth()+1);break;case "d":k=t(x.getDate());break;case "wd":k=""+x.getDay();break;case "datetime":k=y(x,w);break;case "date":k=y(x,w||"yyyy-MM-dd");break;case "time":k=y(x,w||"hh:mm:ss");break;case "time_add":case "addtime":k=y(d.time_add,w);break;case "size_s":k=Ma(d.size);break;default:"state"!=H&&"progress"!=H&&"finished_bytes"!=H&&"time_elapsed"!=H?k=a(d,H,
u,n,!0):k="_"+H+"_"}(k=k||"")&&(C||q)&&(k=(k||"").replace(/\/|\\/g,"_"));return k}return""});return Ea(p.replace(/~|\*|\?|:|\||<|>|"/g,"_"))}var l=1;P.prototype.ub=function(d){var p=Aa(this.url),q=Ca(this.file_ext||(this.eurl!=this.url?Aa(this.eurl).file:"")||p.file);d=a(this,d,p,q);if(void 0==d||null==d)d="";return d};P.prototype.Aa=function(){return Ia(this.full_path)||this.file_ext||Aa(this.url).file};P.prototype.bb=function(){return b(this,this.naming)};P.prototype.s=function(){return Ia(this.full_path)||
this.la||(this.la=Ia(this.Sb()))};P.prototype.Sb=function(){if(this.D)return this.D;for(var d={},p=[this.naming,R.get("def_naming"),"*name*.*ext*","*subdirs*","*anchor*","*query*","*host*"],q=0,t=p.length;q<t;++q){var y=p[q];if(y&&!d[y]&&(d[y]=!0,this.D=b(this,y,2<=q),Ka(this.D)))return this.D}return this.D="_file"}})();P.prototype.reset=P.prototype.reset;P.prototype.get_raw_name=P.prototype.Aa;P.prototype.render_UI_name=P.prototype.s;function Bb(a,b){return(-1<navigator.platform.indexOf("Mac")?((b||"")&&"\u21e7")+"\u2318":"Ctrl+")+a}
var Cb={general:{name:h("titleOptionsGeneral"),sections:[{name:"CHROME"==tb?"Chrome":h("chromesysBrowser"),id:"gen-chrome",items:["override_cr","hide_cr_bar"]},{name:h("optSectionTaskDefaults"),id:"gen-new-task-def",tip:h("tipOptSectionTaskDefaults"),items:["always_use_last_location","def_addtop","def_addpause"]},{name:h("optSectionOneClick"),id:"gen-one-click",items:["doneclick_rule"]},{name:h("optSectionNetwork"),id:"gen-network",items:["dy_max_con_tasks","dy_max_per_server"]},{name:h("optSectionMisc"),
id:"gen-misc",items:["fnconflict","folder_inaccessible","down_clipboard","clear_search","recycle_cancel"]}]},"interface":{name:h("titleOptionsInterface"),sections:[{name:h("chromesysLanguageSection"),id:"int-language",description:h("msgChromeI18nLanguage")+(h("uilang").substr(0,2).toLowerCase()!=chrome.i18n.getUILanguage().substr(0,2).toLowerCase()?"<br>Oops, Chrono is not yet available in "+(h("uilangName")||"your language")+', please help us with <a target=_blank href="http://translate.chronodownloader.net">translation</a> :)':
""),items:["_uilanguage"]},{name:h("optSectionBehaviors"),id:"int-behaviors",items:["start_interrupted","slide_details_panel","dbclick_action"]},{name:h("optSectionNewTaskDialog"),id:"int-nt-dialog",items:["chrono_folder_selection"]},{name:h("optSectionMenu"),id:"int-menu",items:["menu_d_dialog","menu_d_oneclick"]},{name:h("optSectionPopup"),id:"int-popup",items:["poplist_showd_first","poplist_clear_close","poplist_max_items","poplist_remove_confirm"]},{name:h("optSectionPreview"),id:"int-preview",
items:["preview_autoplay"]},{name:h("optSectionNotifications"),id:"int-notifications",items:"OPERA"==tb?"notify_oneclick notify_finish notify_error sound_finish sound_error click_notify".split(" "):"notify_oneclick notify_finish notify_error sound_finish sound_error notify_progress notify_large_preview click_notify".split(" ")},{name:h("optSectionMisc"),id:"int-misc",items:["badge_downnum","font_size"]}]},rules:{name:h("titleOptionsRules"),sections:[{items:["match_mode","def_naming"]}]}},Db={label:"",
type:"button",buttonText:h("chromesysChange"),onclick:function(){chrome.tabs.create({url:zb})}},Eb={label:"When file name conflicts",type:"select",options:[h("optOptionUniquify"),h("optOptionOverwrite"),h("optOptionPrompt"),h("optOptionSkipPause"),h("optOptionSkipCancel")],value:db,b:"NameConflict"},Fb={label:h("fieldThreads"),type:"int",native_only:!0,value:5,min:1,max:15},Gb={label:h("optionAddTop"),type:"bool",value:!1},Hb={label:h("optItemOverrideChrome",[Bb("J",!0)]),type:"bool",value:!0,f:function(a){U.fa(a)}},
Ib={label:"Slide details panel when click on task",type:"bool",value:!0,b:"SlideDetailsPanel",tip:h("tipOptItemSlideDetailsPanel")},Kb={label:h("menuDLink"),type:"bool",value:!0,f:function(a){Jb.fc(a)},ea:function(a){this.f(a)}},Lb={label:h("menuDLinkOneClick"),type:"bool",value:!0,f:function(a){Jb.hc(a)},ea:function(a){this.f(a)}},Mb={label:"Clicking on a notification",type:"select",options:[h("menuOpenManager"),h("optOptionClearNotify"),h("optOptionClearAllNotify")],value:bb,b:"ClickNotify"},Nb=
{label:"Double-click on task",type:"select",options:[[h("optOptionDoNothing"),Za],[h("optOptionOpenFile"),$a],[h("optOptionOpenFolder"),ab]],value:ab,b:"DblClickAction"},Ob={label:h("phraseEnable"),type:"bool",value:!0,tip:h("tipOptSectionOneClick"),tipURL:"http://faq.chronodownloader.net/index.php?sid=168941&lang=en&action=artikel&cat=7&id=3"},Pb={label:h("chromesysFontSize"),type:"int",value:14,min:12,max:16,f:function(a){r({cmd:"u_font_size",data:a})}},Qb=h("uilang"),R={Ya:Cb,items:{_uilanguage:Db,
fnconflict:Eb,def_threads:Fb,def_addtop:Gb,def_addpause:{label:"Add paused",type:"bool",value:!1,b:"DefAddPaused"},down_clipboard:{label:"Download URL from Clipboard",type:"bool",value:!0,b:"DownloadClipboard"},start_interrupted:{label:"Start Button also starts interrupted tasks",type:"bool",value:!1,b:"StartInterrupted"},override_cr:Hb,hide_cr_bar:{label:"Hide Chrome's Downloads Shelf(Bar)",type:"bool",value:!0,f:function(a){chrome.downloads.setShelfEnabled&&chrome.downloads.setShelfEnabled(!a)},
b:"HideShelf"},slide_details_panel:Ib,recycle_cancel:{label:"Cancel the task when it's recycled",type:"bool",value:!1,b:"RecycleCancel"},clear_search:{label:"Clear search box when filter changes",type:"bool",value:!1,b:"ClearSearch"},menu_d_dialog:Kb,menu_d_oneclick:Lb,notify_error:{label:"When error occurs",type:"bool",value:!0,f:function(a){0==a&&Rb("terr_")},b:"NotifyError"},notify_finish:{label:"When download completes",type:"bool",value:!0,f:function(a){0==a&&Rb("tfin_")},b:"NotifyFinish"},sound_finish:{label:"Play sound when download completes",
type:"bool",value:!0,b:"SoundFinish"},sound_error:{label:"Play sound when error occurs",type:"bool",value:!0,b:"SoundError"},notify_oneclick:{label:"When adding One-Click download",type:"bool",value:!1,f:function(a){0==a&&Rb("task_")},b:"NotifyOneClick"},notify_progress:{label:"Show download progress",type:"bool",value:!1,f:function(a){0==a&&Rb("task_")},b:"NotifyProgress"},notify_large_preview:{label:"Show large preview for images",type:"bool",value:"OPERA"==tb?!1:!0,b:"NotifyLargePreview"},click_notify:Mb,
msg_singlet:{label:"Notify when task is not resumable",type:"bool",value:!0},dbclick_action:Nb,doneclick_rule:Ob,badge_downnum:{label:"Show Downloading Number",type:"bool",value:!0,b:"BadgeDownloadNum",f:function(){V.u(-1)}},font_size:Pb,poplist_max_items:{label:"Max Items",type:"int",value:15,min:1,max:50,b:"PopMaxItems"},poplist_showd_first:{label:"Show downloading tasks first",type:"bool",value:!0,b:"PopShowDLFirst"},poplist_clear_close:{label:"Close after clear",type:"bool",value:!1,b:"PopClearClose"},
dy_max_con_tasks:{label:"Concurrent downloads",type:"int",value:10,min:1,max:20,tc:jb,b:"ConcurrentDownloads",f:function(){X.M()}},dy_max_per_server:{label:"Downloads per server",type:"int",value:5,min:1,max:5,b:"DownloadsPerServer",f:function(){X.M()}},always_use_last_location:{label:Qb.startsWith("en")||Qb.startsWith("zh")?h("labelUseLastLocation"):h("labelFolderColon")+" "+h("labelUseLastLocation"),type:"bool",value:!0},chrono_folder_selection:{label:h("labelEnableFolderSelection"),type:"bool",
value:!0},folder_inaccessible:{label:h("labelUnableSaveToFolder"),type:"select",options:[h("labelDownloadToDefaultFolder"),h("labelChooseDownloadLocation")],value:gb},def_folder:{label:"Default folder",type:"string",value:"",native_only:!0,tip:h("tipOptNoRuleMatch"),b:"DefFolder"},def_naming:{label:"Default Naming Mask",type:"string",value:"*name*.*ext*",sa:"*name*.*ext*",tip:h("tipOptNoRuleMatch"),b:"DefNaming"},match_mode:{label:"Match Mode",type:"select",options:[h("optOptionFirstMatch"),h("optOptionReplace")],
value:Xa,tip:h("tipOptItemRuleMatchMode"),b:"RuleMatchMode"},tb_fit_cols:{type:"bool",value:!1},tb_sync_resize:{type:"bool",value:!1},tb_def_cols:{type:"string",value:'["state","name","progress","size","speed","active_threads","time_remained","url","time_add"]'},tb_sort_cols:{type:"string",value:'[{"field":"time_add","sortAsc":false}]'},tb_free_order:{type:"string",value:"{}"},tip_rateshare:{type:"int",value:1,message:h("msgRateShare",[h("extName"),h("chromesysWebStore")])},tip_rateshare_wait:{type:"int",
value:1},tip_translate:{type:"int",value:0},tip_notifications:{type:"int",value:0,message:h("tipmsgNotifications",[h("titleOptions")+" > "+h("titleOptionsInterface")+" > "+h("optSectionNotifications")]),set_section:"interface.int-notifications",freq:6},tip_dblclick:{type:"int",value:0,message:h("tipmsgDoubleClick",[h("titleOptions")+" > "+h("titleOptionsInterface")+" > "+h("optSectionBehaviors")]),set_section:"interface.int-behaviors",freq:3},tip_slide:{type:"int",value:0,message:h("tipmsgSlideDetailsPanel",
[h("titleOptions")+" > "+h("titleOptionsInterface")+" > "+h("optSectionBehaviors")]),set_section:"interface.int-behaviors",freq:5},tip_taskfilter:{type:"int",value:0,message:h("tipmsgTaskFilter",[h("titleOptions")+" > "+h("titleOptionsRules")]),set_section:"rules",freq:4},tip_openmanager:{type:"int",value:0,message:h("tipmsgOpenShortcut",[h("extName"),Bb("J",!0)]),freq:4},tip_grid:{type:"int",value:0,message:h("tipmsgGridSelection",[Bb("A")]),freq:8},tip_copyselurls:{type:"int",value:0,message:h("tipmsgCopySelectedURLs",
[Bb("C")]),freq:1},tip_colfit:{type:"int",value:0,message:h("tipmsgFitColumnWidth"),freq:1},pop_preview:{type:"bool",value:!0},pop_showsize:{type:"bool",value:!0},pop_content:{type:"int",value:0},pop_sniffer_hint:{type:"int",value:0},pop_clear_file:{type:"bool",value:!1},poplist_remove_confirm:{type:"select",value:ib,b:"PopDeleteAction",label:"Click 'Delete' button",options:[h("optOptionRemList"),h("optOptionRemFile"),h("optOptionRemAsk")]},preview_autoplay:{type:"bool",value:!1,b:"PreviewAutoplay"},
bg_image_enable:{type:"bool",value:!1},bg_image_everset:{type:"bool",value:!1},bg_image_url:{type:"string",value:"../icons/bg/1.jpg"},bg_image_opacity:{type:"float",value:.35,min:0,max:1},bg_image_blur:{type:"int",value:0,min:0,max:10},ui_grid_list:{type:"bool",value:!0},_glst:{type:"int",value:0},autoclear_type:{type:"string",value:"both"},autoclear_timer:{type:"int",value:-1},autoclear_lasttime:{type:"int",value:-1},search_mode:{type:"string",value:"normal"},search_case_sensitive:{type:"bool",value:!1},
downloads_home:{type:"string",value:""}}};R.items.path_fav={type:"list",value:[]};
R.load=function(){for(var a in R.items){var b=R.items[a];b.b&&(b.label=h("optItem"+b.b));var l=localStorage["#"+a];if(void 0!=l)switch(b.type){case "bool":"true"==l?b.value=!0:"false"==l&&(b.value=!1);break;case "select":case "int":l=parseInt(l);isNaN(l)||l<b.min||l>b.max?console.log(`load from storage, invalid value for "${a}"`):b.value=l;break;case "float":l=parseFloat(l);isNaN(l)||l<b.min||l>b.max?console.log(`load from storage, invalid value for "${a}"`):b.value=l;break;case "list":try{const d=
JSON.parse(l);if(!Array.isArray(d))throw"bad value";b.value=d}catch(d){console.log(`load from storage, invalid value for "${a}"`)}break;default:b.value=l}b.ea&&b.ea(b.value)}Y.load();a=0;for(b=kb.length;a<b;++a);};R.commit=function(){Y.commit()};R.J=function(){return{addtop:R.get("def_addtop")}};R.get=function(a){return(a=R.items[a])?""===a.value?void 0==a.sa?"":a.sa:a.value:null};R.ba=function(a){return R.items[a]};R.lb=function(a){return R.Ya[a]};
R.set=function(a,b){var l=R.items[a];return l&&(void 0==l.min||b>=l.min)&&(void 0==l.max||b<=l.max)?(l.value=b,localStorage["#"+a]=b,l.f&&l.f(b),!0):!1};R.Ca=function(a){var b=R.items[a];if(b){var l=b.value?++b.value:1;b.value=l;localStorage["#"+a]=l;b.f&&b.f(l)}};R.Ja=function(a,b){let l=R.items[a];if(l){var d=l.value;if(d){for(let p=0;p<d.length;p++)if(d[p]==b){if(0==p)return;d.splice(p,1);break}d.unshift(b)}else d=[b];l.value=d;localStorage["#"+a]=JSON.stringify(d)}};
R.Ka=function(a,b){var l=R.items[a];if(l&&(l=l.value)){var d=!1;for(let p=0;p<l.length;p++)if(l[p]==b){d=!0;l.splice(p,1);break}d&&(localStorage["#"+a]=JSON.stringify(l))}};R.set=R.set;R.get=R.get;R.getRaw=R.ba;R.getCat=R.lb;R.inc=R.Ca;R.prependUnique=R.Ja;R.removeFromList=R.Ka;R.get_taskdef=R.J;R.commit=R.commit;R.canFileAccess=function(){return V.canFileAccess()};window.dy_settings=R;function Sb(a,b){function l(){if(t){var n=q.length;localStorage[u]=n;for(var k=0;k<n;++k)localStorage[y+k]=JSON.stringify(q[k]);for(k=n;15>k;++k)localStorage.removeItem(y+k);t=!1}}function d(n,k){return Math.sign(k.I-n.I)+3*Math.sign(k.time-n.time)}function p(n,k){if(n){var C=0,H=q.length,w=!1;k?k=k.getTime():(k=Date.now(),w=!0);for(var x=1;C<H;++C)if(q[C].value==n){if(4E3>k-q[C].time)return;x=q[C].I+1;q[C].I=w?1E6:x;q[C].time=k;break}C>=H&&(15<=H&&q.splice(14,1),q.push({value:n,I:w?1E6:x,time:k}));
q.sort(d);w&&(q[0].I=x);t=!0;l()}}var q=[],t=!1,y=a,u=b;return{load:function(n){var k=parseInt(localStorage[u]);isNaN(k)&&(k=0);for(var C,H=0;H<k;++H)(C=localStorage[y+H])&&q.push(JSON.parse(C));t=q.length!=k;l();if(0==k)for(H=0;H<n.length;++H)p(n[H])},commit:l,ka:p,Ba:function(){for(var n=Math.min(6,q.length),k=[],C=0;C<n;++C)k.push(q[C].value);return k},vb:function(){return 0<q.length?q[0].value:null}}}var Tb=new Sb("path_rt_","path_rt_cnt"),Ub=new Sb("naming_rt_","naming_rt_cnt");var U=function(){function a(n,k){return n==k||n==k+"/"}function b(n){chrome.tabs.get(n.tabId,function(k){a("chrome://downloads/",k.url)&&p({c:!0,o:k.id})})}function l(n,k){a("chrome://downloads/",k.url)&&p({c:!0,o:n})}function d(n){a("chrome://downloads/",n.url)&&p({c:!0,o:n.id})}function p(n,k){function C(){k&&k();y=!1;if(0<u.length){var w=u.shift();p(w.Ib,w.Xa)}}function H(w){chrome.windows.getCurrent(function(x){chrome.runtime.lastError&&!x?(console.log(chrome.runtime.lastError),console.log("checking in one second"),
setTimeout(function(){H(w)},1100)):w&&w()})}y?(u.push({Ib:n,Xa:k}),console.log("still opening")):(y=!0,n||(n={c:!0}),void 0==n.c&&(n.c=!0),-1!=V.j?(n.o&&n.o!=V.j&&(console.log("opt.tabId != tab.id"),chrome.tabs.remove(n.o)),n.c&&(chrome.tabs.get(V.j,function(w){chrome.windows.update(w.windowId,{focused:!0})}),chrome.tabs.update(V.j,{active:!0})),C()):(V.Ub(C),n.o?(n.c&&chrome.tabs.get(n.o,function(w){chrome.windows.update(w.windowId,{focused:!0})}),chrome.tabs.update(n.o,{active:n.c,url:q})):H(function(){chrome.tabs.create({active:n.c,
url:q})})))}var q=chrome.extension.getURL("/ui/index.htm"),t=chrome.extension.getURL("/ui/options.htm"),y=!1,u=[];return{Ab:q,xc:t,ya:function(n){chrome.windows.getLastFocused({populate:!1},function(k){chrome.tabs.query({active:!0,windowId:k.id},function(C){n(C&&C.length?C[0]:null)})})},fa:function(n){n?(chrome.tabs.onUpdated.hasListener(l)||chrome.tabs.onUpdated.addListener(l),chrome.tabs.onCreated.hasListener(d)||chrome.tabs.onCreated.addListener(d),chrome.tabs.onActivated.hasListener(b)||chrome.tabs.onActivated.addListener(b)):
(chrome.tabs.onUpdated.removeListener(l),chrome.tabs.onCreated.removeListener(d),chrome.tabs.onActivated.removeListener(b))},h:p,T:function(n){n||(n={});(function(k,C){chrome.tabs.query({url:k},function(H){H.length?C(H):chrome.tabs.query({url:k+"?*"},function(w){w.length?C(w):chrome.tabs.query({url:k+"#*"},function(x){x.length?C(x):chrome.tabs.query({url:k+".*"},function(I){C(I)})})})})})(t,function(k){var C=t+(n.W?"#"+n.W:"");if(k&&k.length){k=k[0];var H=n.C||k.windowId;if(n&&n.C&&n.L){var w=k.index,
x=n.L;k.windowId==n.C&&w<x&&--x;chrome.tabs.move(k.id,{windowId:n.C,index:x})}chrome.windows.update(H,{focused:!0});C!=k.url?chrome.tabs.update(k.id,{url:C,active:!0}):chrome.tabs.update(k.id,{active:!0})}else n&&n.C&&n.L?chrome.tabs.create({url:C,windowId:n.C,index:n.L}):chrome.tabs.create({url:C})})}}}();var Vb=function(){function a(t){console.log("StoreMan::onerror: "+t)}function b(t,y){if(d){var u=d.transaction("tasks","readwrite").objectStore("tasks");t.Fb(function(n){var k=V.ia(n);k&&(k=u.put({id:k.id,cr_id:k.cr_id,url:k.url,referer:k.referer,page_title:k.page_title,text:k.text,title:k.title,size:k.size,iconURL16:k.iconURL16,iconURL32:k.iconURL32,folder:k.folder,naming:k.naming,naming_auto:k.naming_auto,folder_auto:k.folder_auto,name_conflict:k.name_conflict,state:k.state,time_add:k.time_add,
time_finish:k.time_finish,time_elapsed:k.time_elapsed,max_threads_config:k.max_threads_config,checksum:k.checksum,desc:k.desc,batch_num:k.batch_num,hash:k.hash,exists:k.exists,_start_time:k._start_time,temp_file:k.temp_file,recycled:k.recycled,blocksize:k.blocksize,blocks:k.nc,finished_blocks:k.finished_blocks,finished_bytes:k.finished_bytes,etag:k.etag,last_modified:k.last_modified,mime_type:k.mime_type,file_ext:k.file_ext,full_path:k.full_path,eurl:k.eurl,single_thread:k.single_thread,error_str:k.error_str}),
k.onsuccess=function(){t.clear(n)},k.onerror=function(C){console.log("IDB updateTask "+n+" fail");console.log(C)})});y&&y()}}function l(t){b(V.g,function(){t&&t()})}var d=null,p=window.indexedDB||window.webkitIndexedDB,q=null;return{open:function(t){var y=p.open("downloady",1);y.onerror=a;y.onsuccess=function(){var u=y.result;!y.hasOwnProperty("onupgradeneeded")&&u.zc?(console.log("Your Chrome's version is too low, indexedDB doesn't work well"),alert("Your Chrome's version is too low, indexedDB doesn't work well")):
(d=u,u.onerror=a,console.log("dbopened"),t&&setTimeout(t,0))};y.onupgradeneeded=function(u){console.log("dbupgradeneeded");u=u.target.result;console.log("dbupdated");u.createObjectStore("tasks",{keyPath:"id"})}},close:function(){d&&(d.close(),d=null)},clear:function(t){if(d){var y=d.transaction(["tasks"],"readwrite");y.onerror=a;y.objectStore("tasks").clear().onsuccess=function(){t&&t()}}else t&&t()},Pb:function(t){if(d){var y=d.transaction("tasks","readwrite").objectStore("tasks").delete(t);y.onsuccess=
function(){};y.onerror=function(u){console.log("IDB removeTaskById "+t+" fail");console.log(u)}}},Qb:function(t){if(d)for(var y=d.transaction("tasks","readwrite").objectStore("tasks"),u=0;u<t.length;++u)y.delete(t[u].id)},Ob:function(t){if(d)for(var y=d.transaction("tasks","readwrite").objectStore("tasks"),u=0;u<t.length;++u)y.delete(t[u])},hb:function(t){if(d){var y=[],u=d.transaction("tasks").objectStore("tasks").openCursor();u.onsuccess=function(n){(n=n.target.result)?(y.push(new P(n.value)),n.continue()):
(console.log("done"),t(y))};u.onerror=function(n){t(y);console.log(n)}}else console.log("getAllTasks: db not ready"),t([])},commit:l,ac:function(){q=setInterval(l,3E3)},cc:function(){clearInterval(q);q=null}}}();var Jb=function(){function a(w,x,I,E){void 0==H[w]&&(H[w]=chrome.contextMenus.create({title:x,contexts:I,onclick:E,documentUrlPatterns:["http://*/*","https://*/*","ftp://*/*"]}))}function b(w){var x=H[w];void 0!=x&&(chrome.contextMenus.remove(x),delete H[w])}function l(w,x,I){var E={cmd:"d_one",task:{}};E.task.referer=x;E.task.url=w;if(w=Wb.va(w))E.task.text=w.text,E.task.title=w.title,E.task.desc=w.download||w.text||w.title;chrome.tabs.sendMessage(I.id,E,function(e){e||(console.log("menu download no response"),
U.h({c:!0},function(){r(E)}))})}function d(w,x,I){var E={};E.url=w;E.referer=x;var e=R.J();x=R.get("def_addpause");e=e.addtop;chrome.tabs.sendMessage(I.id,{cmd:"d_anim",addpause:x});I="";if(w=Wb.va(w))E.text=w.text,E.title=w.title,E.desc=w.download||E.text||E.title,I=w.page_title;Xb.aa()({cmd:"new_task",add_paused:x,addtop:e,tasks:[E],notify:!0,page_title:I,source:"ctxmenu_1click"},{},function(){})}function p(){U.h()}function q(w,x){U.T({C:x.windowId,L:x.index+1,W:"help"})}function t(){chrome.tabs.create({active:!0,
url:"http://faq.chronodownloader.net"})}function y(){chrome.tabs.create({active:!0,url:"http://bugs.chronodownloader.net"})}function u(w,x){w.linkUrl&&l(w.linkUrl,w.pageUrl||w.frameUrl,x)}function n(w,x){w.srcUrl&&l(w.srcUrl,w.pageUrl||w.frameUrl,x)}function k(w,x){w.linkUrl&&d(w.linkUrl,w.pageUrl||w.frameUrl,x)}function C(w,x){w.srcUrl&&d(w.srcUrl,w.pageUrl||w.frameUrl,x)}var H={};return{fc:function(w){w?(a("d_link",h("menuDLink"),["link"],u),a("d_image",h("menuDImage"),["image"],n),a("d_video",
h("menuDVideo"),["video"],n),a("d_audio",h("menuDAudio"),["audio"],n)):(b("d_link"),b("d_image"),b("d_video"),b("d_audio"))},hc:function(w){w?(a("d_link_oneclick",h("menuDLinkOneClick"),["link"],k),a("d_image_oneclick",h("menuDImageOneClick"),["image"],C),a("d_video_oneclick",h("menuDVideoOneClick"),["video"],C),a("d_audio_oneclick",h("menuDAudioOneClick"),["audio"],C)):(b("d_link_oneclick"),b("d_image_oneclick"),b("d_video_oneclick"),b("d_audio_oneclick"))},Ra:function(){a("ba_openmanager",h("menuOpenManager"),
["browser_action"],p);a("ba_changedir",h("tipBtnChangeDefaultLocation"),["browser_action"],na.bind(void 0,"ba"));a("ba_help",h("menuGetHelp"),["browser_action"],q);a("ba_faq",h("btnFAQ"),["browser_action"],t);a("ba_report",h("menuReportIssue"),["browser_action"],y);"zh-CN"!=chrome.i18n.getUILanguage()&&a("ba_translate","Help us with translation",["browser_action"],function(){chrome.tabs.create({active:!0,url:"http://translate.chronodownloader.net"})})}}}();var Wb=function(){function a(u,n,k){u=V.Z(u,n);if(!u)return null;R.J();k?(u.mime_type=k.mime,u.size=k.totalBytes,u.exists=k.exists):u.exists=!0;(k=t[u.url])?(u.text=k.text,u.title=k.title,u.desc=k.download||u.text||u.title,u.page_title=k.page_title):console.log("url desc not found");return u}function b(u){const n=u.url;if(n!=Yb.Na)if(q[n]){var k=q[n];k.state=J;p[u.id]=k;delete q[n]}else if("in_progress"==u.state&&(u.byExtensionId&&console.log(u.byExtensionId),!Z.wb(u))){var C=u.referrer;if(Y.Eb(n))chrome.downloads.cancel(u.id,
function(){chrome.downloads.erase({id:u.id})}),U.ya(function(w){var x={cmd:"d_one",task:{}};x.task.url=n;x.task.referer=C;var I=t[n];I?(x.task.text=I.text,x.task.title=I.title,x.task.desc=I.download||I.text||I.title):console.log("desc not found");chrome.tabs.sendMessage(w.id,x,function(E){E||U.h({c:!0},function(){r(x)})})});else{k=R.get("def_addpause");var H=a(n,C,u);H?k||!Z.yb()?(chrome.downloads.cancel(u.id,function(){chrome.downloads.erase({id:u.id})}),H.reset(k?Ua:Ta),k||(X.enqueue(H),V.u(!0)),
V.qa(H,k)):(H.state=J,p[u.id]=H):(chrome.downloads.cancel(u.id,function(){chrome.downloads.erase({id:u.id})}),U.h({c:!0},function(){r({cmd:"u_alert",data:nb.noID})}))}}}function l(u){var n=p[u.id];if(n){for(var k in u){var C=u[k].current;switch(k){case "url":n.eurl=C;break;case "mime":n.mime_type=C;break;case "exists":n.exists=C;break;case "endTime":n.time_finish=new Date(C);break;case "state":"interrupted"==C?n.state=M:"complete"==C?n.state=Wa:"in_progress"==C&&(C=u.paused,n.state=C&&C.current?Ua:
J);break;case "paused":u.state||(n.state=C?Ua:J);break;case "error":if((n.error_str=C)&&0==C.toUpperCase().indexOf("USER_")){delete p[u.id];console.log("cancel in Save As: "+u.id);return}break;case "totalBytes":case "fileSize":n.size=C;break;case "danger":"safe"!=C&&"accepted"!=C&&(n.X=!0)}}(k=u.filename)&&!k.previous&&(delete p[u.id],n.full_path=k.current,Z.oa(n,u.id,k.current,!1))}}function d(u){p[u]&&(console.log("cancel in Save As: "+u),delete p[u])}var p={};const q={};var t={},y=[];return{pa:function(u,
n){n=a(u,n);if(!n)return!1;n.Oa=!0;q[u]=n;chrome.downloads.download({url:u,method:"GET",saveAs:!0},function(){});return!0},sb:function(u){return p[u]},va:function(u){return t[u]},Vb:function(u,n,k,C,H){if(u){if(void 0!=t[u])for(var w=0;w<y.length;++w)if(y[w]==u){y.splice(w,1);break}18<=y.length&&(delete t[y[0]],y.shift());y.push(u);t[u]={download:n,text:k,title:C,page_title:H}}},start:function(){chrome.downloads.onCreated.hasListener(b)||chrome.downloads.onCreated.addListener(b);chrome.downloads.onChanged.hasListener(l)||
chrome.downloads.onChanged.addListener(l);chrome.downloads.onErased.hasListener(d)||chrome.downloads.onErased.addListener(d)},stop:function(){chrome.downloads.onCreated.removeListener(b);chrome.downloads.onChanged.removeListener(l);chrome.downloads.onErased.removeListener(d)}}}();var Y=function(){function a(E){return E.replace(/\[([^\]]+)\]/gi,function(e,z){e=z?z.trim().toLowerCase():"";if(1==I[e])throw"dy_rules.expand_exts: loop of link filter ["+e+"] detected";I[e]=!0;z=b(e);delete I[e];if(!z)throw"dy_rules.expand_exts: ref link filter ["+e+"] not found";return"("+z+")"})}function b(E){for(var e=0;e<k.length;++e)if(k[e].int_name==E)try{return a(k[e].exts)}catch(z){console.log(z);break}return null}function l(E,e){for(var z in E)E.hasOwnProperty(z)&&!e.hasOwnProperty(z)&&
(e[z]=E[z]);return e}function d(){y=!0;q()}function p(){t=!0;q()}function q(){t&&(localStorage.lfilters=JSON.stringify(k),t=!1);if(y){localStorage.rules=JSON.stringify(w);for(var E=y=!1,e={},z=0,D=w.length;z<D;++z){for(var O=-1,Q=0,aa=x.length;Q<aa;Q+=2)if(x[Q]==w[z].id){O=Q;e[w[z].id]=1;break}w[z].as_filter?-1==O&&(x.push(w[z].id),x.push(0),E=!0,e[w[z].id]=1):0<=O&&(x.splice(O,2),E=!0)}for(Q=x.length-2;0<=Q;Q-=2)e[x[Q]]||(x.splice(Q,2),E=!0);E&&(localStorage.disp_filters=JSON.stringify(x));r({cmd:"u_filters",
rebuild:E})}}var t=!0,y=!0,u=new ba(500),n={caption:h("extsNew"),int_name:"",exts:".*",filter_links:!1},k=[{caption:h("extsImage"),int_name:"ext_image",exts:"bmp|cur|dds|exr|gif|ico|jpg|jpeg|pcx|pbm|pfm|pgm|ppm|png|psd|svg|tga|tif|tiff|webp",filter_links:!0},{caption:h("extsVideo"),int_name:"ext_video",exts:"3gp|3g2|asf|avi|f4f|f4i|f4m|f4v|flv|h264|m4v|mkv|mov|mp4|mpg|ogg|ogv|qt|rm|rmvb|ts|vob|webm|wmv",filter_links:!0},{caption:h("extsAudio"),int_name:"ext_audio",exts:"aac|aif|ape|flac|oga|opus|m3u|m4a|mid|midi|mp3|ra|wav|wma|weba",
filter_links:!0},{caption:h("extsDocument"),int_name:"ext_doc",exts:"c|cfg|cpp|cs|css|csv|dat|doc|docx|h|hpp|ini|js|log|m|pdf|ppt|pptx|ps|py|rtf|sh|tex|torrent|txt|xls|xlsx",filter_links:!0},{caption:h("extsArchive"),int_name:"ext_arch",exts:"7z|bin|cbr|cue|deb|dmg|gz|iso|mdf|pkg|rar|rpm|sitx|tar.gz|vcd|zip",filter_links:!0},{caption:h("extsApp"),int_name:"ext_app",exts:"apk|app|bat|cgi|com|dll|exe|gadget|jar|msi|pif|sys",filter_links:!0},{caption:h("extsAll"),int_name:"ext_all",exts:"[ext_audio]|[ext_video]|[ext_image]|[ext_doc]|[ext_arch]|[ext_app]",
filter_links:!1}],C={id:-1,int_name:"",condition:"true",as_filter:!1,caption:h("ruleNew"),active:!1,folder:"",naming:"",post_action:""},H=1,w=[{id:H++,int_name:"r_recent",condition:"*time_add*>=[3_days_ago]",as_filter:!0,caption:h("ruleRecent"),active:!1,folder:"",naming:"",post_action:"",init_indent:0},{id:H++,int_name:"r_downloading",condition:"*state*!=[finished]&&*state*!=[interrupted]",as_filter:!0,caption:h("ruleDownloading"),active:!1,folder:"",naming:"",post_action:"",init_indent:0},{id:H++,
int_name:"r_done",condition:"*state*==[finished]",as_filter:!0,caption:h("ruleFinished"),active:!1,folder:"",naming:"",post_action:"",init_indent:0},{id:H++,int_name:"r_done_image",condition:"{r_done}&&*ext*.is([ext_image])",as_filter:!0,caption:h("ruleImage"),active:!1,folder:"./images",naming:"",post_action:"<file>",init_indent:1},{id:H++,int_name:"r_done_video",condition:"{r_done}&&*ext*.is([ext_video])",as_filter:!0,caption:h("ruleVideo"),active:!1,folder:"./videos",naming:"",post_action:"",init_indent:1},
{id:H++,int_name:"r_done_audio",condition:"{r_done}&&*ext*.is([ext_audio])",as_filter:!0,caption:h("ruleAudio"),active:!1,folder:"./music",naming:"",post_action:"",init_indent:1},{id:H++,int_name:"r_done_doc",condition:"{r_done}&&*ext*.is([ext_doc])",as_filter:!0,caption:h("ruleDocument"),active:!1,folder:"./docs",naming:"",post_action:"<file>",init_indent:1},{id:H++,int_name:"r_done_other",condition:"{r_done}&&!(*ext*.is([ext_audio])||*ext*.is([ext_video])||*ext*.is([ext_image])||*ext*.is([ext_doc]))",
as_filter:!0,caption:h("ruleOther"),active:!1,folder:"",naming:"",post_action:"",init_indent:1},{id:H++,int_name:"r_interrupted",condition:"*state*==[interrupted]",as_filter:!0,caption:h("ruleInterrupted"),active:!1,folder:"",naming:"",post_action:"",init_indent:0},{id:H++,active:!1,caption:h("ruleSmallFiles"),int_name:"r_smallf",condition:"*size*>0&&*size*<kb(1024)",folder:"./small_files",naming:"",as_filter:!1,post_action:"<folder>"}],x=[],I={};return{Eb:function(){return 1!=R.get("doneclick_rule")},
Bb:"aac|aif|ape|flac|oga|opus|m3u|m4a|mid|midi|mp3|ra|wav|wma|weba",Da:"3gp|3g2|asf|avi|f4f|f4i|f4m|f4v|flv|h264|m4v|mkv|mov|mp4|mpg|ogg|ogv|qt|rm|rmvb|ts|vob|webm|wmv",Cb:"bmp|cur|dds|exr|gif|ico|jpg|jpeg|pcx|pbm|pfm|pgm|ppm|png|psd|svg|tga|tif|tiff|webp",qb:function(){return k},za:function(){return w},tb:function(){for(var E=[],e=0,z=x.length;e<z;e+=2)for(var D=0,O=w.length;D<O;++D)w[D].id==x[e]&&1==w[D].as_filter&&E.push({id:w[D].id,caption:w[D].caption,filter:w[D].condition,indent:x[e+1]});return E},
Xb:function(E){x=E;localStorage.disp_filters=JSON.stringify(x)},Ta:function(E){E=l(C,E);E.id=u.Ea(!0);w.push(E);d();ka("rules")},Sa:function(E){E=l(n,E);k.push(E);p();ka("ext_filters")},Nb:function(E){for(var e=0;e<w.length;++e)if(w[e].int_name==E)return w[e].condition;return null},Lb:function(E){I={};return b(E)},Mb:function(E){I={};var e=null;if(0<=E&&E<k.length)try{e=a(k[E].exts)}catch(z){console.log(z)}return e},Hb:d,Gb:p,load:function(){var E=localStorage.getItem("lfilters");E&&(k=JSON.parse(E));
(E=localStorage.getItem("rules"))&&(w=JSON.parse(E));if(E=localStorage.getItem("disp_filters"))x=JSON.parse(E);else for(x=[],E=0;E<w.length;++E){var e=w[E];void 0!=e.init_indent&&(x.push(e.id),x.push(e.init_indent))}for(E=0;E<w.length;++E)u.set(w[E].id);t=y=!1},commit:q,match:function(E){for(var e=R.get("match_mode"),z={},D=0;D<w.length;++D)if(w[D].active&&Zb.dc(E,w[D].condition))if(e==Xa){E=w[D];z.naming=E.naming;z.folder=E.folder;z.post_action=E.post_action;break}else if(e==Ya){var O=ta(w[D].naming);
O&&(z.naming=O)}z.naming||(z.naming=R.get("def_naming"));return z},cb:function(){return{naming:R.get("def_naming"),folder:R.get("def_folder")}}}}();Y.internal_video=Y.Da;Y.getLinkFilters=Y.qb;Y.getRules=Y.za;Y.get_display_filters=Y.tb;Y.set_display_filters=Y.Xb;Y.ref_filteri=Y.Mb;Y.addRule=Y.Ta;Y.addFilter=Y.Sa;Y.on_rules_change=Y.Hb;Y.on_filters_change=Y.Gb;window.dy_rules=Y;var Zb=function(){function a(){var e=new Date;u=e.getTime();q=e.getDay();t=e.getMonth();y=e.getFullYear();e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);n=e.getTime();k=n+864E5-1}function b(e){return e.replace(/\.match/g,".bmatch").replace(/\*([^\*]+)\*/gi,function(z,D){return"Fd('"+D.trim().toLowerCase()+"')"}).replace(/\{([^\}]+)\}/gi,function(z,D){z=D?D.trim().toLowerCase():"";if(1==x[z])throw"circular dependency of rules detected";D=Y.Nb(z);if(null==D||void 0==D)throw"referenced rule {"+
z+"} not found";x[z]=!0;D="("+b(D)+")";delete x[z];return D}).replace(/\[([^\]]+)\]/gi,function(z,D){z=D?D.trim().toLowerCase():"";a:if(D=C[z],void 0!=D)D="function"==typeof D?"new Date("+D()+")":D;else{var O;if(O=z.match(/(\d+)_([a-z]+_ago_?)/)){D=parseInt(O[1]);if(isNaN(D)||0>=D)throw"bad number in: "+z;if(O=C[O[2]]){D="new Date("+O(D)+")";break a}throw"not supported function: "+z;}D=null}if(void 0!=D&&null!=D)return D;D=Y.Lb(z);if(void 0==D||null==D)throw"constant/referenced ext filter ["+z+"] not found";
return'"'+D+'"'})}function l(e,z){if(!e||""==e||"true"==e)return"true";0!=z&&a();z=null;try{x={},z=b(e)}catch(D){return console.log("Invalid filter expression: "+D),null}return z}function d(e,z,D){if(!e)throw Error();if(z.recycled)return!1;I.da=z;I.Ga=D;e=(new Function("with(this) { 'use strict';return ( "+e+" )}")).call(I);I.da=void 0;I.Ga=void 0;return e}function p(e,z,D,O){try{return d(e,z,D)}catch(Q){return r({cmd:"u_badfilter",filter:O||""}),Q.message&&console.log("Invalid filter expression: "+
Q),!1}}String.prototype.bmatch=function(e){return null!=this.match(e)};String.prototype.is=function(e){return(new RegExp("^("+e+")$")).test(this)};String.prototype.has=function(e){return(new RegExp(e)).test(this)};String.prototype.beginwith=function(e){return(new RegExp("^("+e+")")).test(this)};String.prototype.endwith=function(e){return(new RegExp("("+e+")$")).test(this)};Date.prototype.is=function(e){var z=C[e],D=C[e+"_"];if(null!=z&&null!=D)return"function"==typeof z&&(z=z()),"function"==typeof D&&
(D=D()),this.getTime()>=z&&this.getTime()<=D;if(D=e.match(/(\d+)_([a-z]+)_ago/)){var O=parseInt(D[1]);if(isNaN(O)||0>=O)throw"bad number in: "+e;z=C[D[2]+"_ago"];D=C[D[2]+"_ago_"];if(z&&D)return z=z(O),D=D(O),this.getTime()>=z&&this.getTime()<=D}throw"fail to parse: "+e;};Date.prototype.btwn=function(e,z){"string"==typeof e&&(e=Date.parse(e));"string"==typeof z&&(z=Date.parse(z));return this.getTime()>e&&this.getTime()<z};Date.prototype._btwn=function(e,z){"string"==typeof e&&(e=Date.parse(e));"string"==
typeof z&&(z=Date.parse(z));return this.getTime()>=e&&this.getTime()<z};Date.prototype.btwn_=function(e,z){"string"==typeof e&&(e=Date.parse(e));"string"==typeof z&&(z=Date.parse(z));return this.getTime()>e&&this.getTime()<=z};Date.prototype._btwn_=function(e,z){"string"==typeof e&&(e=Date.parse(e));"string"==typeof z&&(z=Date.parse(z));return this.getTime()>=e&&this.getTime()<=z};Date.prototype.b4=function(e){"string"==typeof e&&(e=Date.parse(e));return this.getTime()<e};Date.prototype.b4_=function(e){"string"==
typeof e&&(e=Date.parse(e));return this.getTime()<=e};Date.prototype.aft=function(e){"string"==typeof e&&(e=Date.parse(e));return this.getTime()>e};Date.prototype.aft_=function(e){"string"==typeof e&&(e=Date.parse(e));return this.getTime()>=e};var q=0,t=0,y=0,u=0,n=0,k=0,C={mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:0,download:J,inqueue:Ta,paused:Ua,finished:Wa,interrupted:M,now:function(){return u},today:function(){return n},today_:function(){return k},yesterday:function(){return n-864E5},yesterday_:function(){return n-
1},this_week:function(){return n-864E5*q},this_week_:function(){return C.this_week()+6048E5-1},last_week:function(){return C.this_week()-6048E5},last_week_:function(){return C.this_week()-1},this_month:function(){var e=new Date(n);e.setDate(1);return e.getTime()},this_month_:function(){var e=new Date(n);e.setMonth(t+1);e.setDate(1);return e.getTime()-1},last_month:function(){var e=new Date(n);e.setMonth(t-1);e.setDate(1);return e.getTime()},last_month_:function(){return C.this_month()-1},this_year:function(){var e=
new Date(n);e.setMonth(0);e.setDate(1);return e.getTime()},this_year_:function(){var e=new Date(n);e.setYear(y+1);e.setMonth(0);e.setDate(1);return e.getTime()-1},last_year:function(){var e=new Date(n);e.setYear(y-1);e.setMonth(0);e.setDate(1);return e.getTime()},last_year_:function(){return C.this_year()-1},days_ago:function(e){return n-864E5*e},days_ago_:function(e){return n-864E5*(e-1)-1},weeks_ago:function(e){return C.this_week()-6048E5*e},weeks_ago_:function(e){return C.this_week()-6048E5*(e-
1)-1},months_ago:function(e){var z=new Date(C.this_month());z.setMonth(t-e);return z.getTime()},months_ago_:function(e){return C.months_ago(e-1)-1},years_ago:function(e){var z=new Date(C.this_year());z.setFullYear(y-e);return z.getTime()},years_ago_:function(e){return C.years_ago(e-1)-1}};a();var H="true",w,x={},I={},E;for(E in this)I[E]=void 0;I.eval=void 0;I.uneval=void 0;I.Function=void 0;I.Genertor=void 0;I.GenertorFunction=void 0;I.Promise=void 0;I.Object=void 0;I.String=String;I.Date=Date;I.Fd=
function(e){if(1==this.Ga){var z=this.da,D=Aa(z),O;D.file&&""!=D.file&&(O=Ca(D.file));var Q=null;switch(e){case "host":Q=D.host;break;case "query":case "anchor":Q=D[e];break;case "subdirs":Q=D.directory;break;case "name":Q=O?O.R:"";break;case "ext":Q=O?O.v:"";break;case "url":Q=z}e=Q||""}else e=this.da.ub(e);return e};I.yearof=function(e){return(new Date(e)).getFullYear()};I.monthof=function(e){return(new Date(e)).getMonth()};I.dateof=function(e){return(new Date(e)).getDate()};I.dayof=function(e){return(new Date(e)).getDay()};
I.hourof=function(e){return(new Date(e)).getHours()};I.minuteof=function(e){return(new Date(e)).getMinutes()};I.secondof=function(e){return(new Date(e)).getSeconds()};I.kb=function(e){return e<<10};I.mb=function(e){return e<<20};I.gb=function(e){return e<<30};I.sec=function(e){return 1E3*e};I.min=function(e){return 6E4*e};I.hr=function(e){return 36E5*e};I.hour=function(e){return 36E5*e};return{nb:function(){return H},ab:function(e){return p(H,e,void 0,w)},dc:function(e,z,D){D=l(z,D);return p(D,e,
!1,z)},$a:function(e,z){H=l(e,z)||"";w=e},compile:l,ec:d}}();Zb.compileCache=Zb.$a;Zb.compiledTest=Zb.ab;Zb.getCompiledFilter=Zb.nb;window.dy_taskfilter=Zb;function $b(a,b,l){"CHROME"!=tb&&delete b.buttons;chrome.notifications.create(a,b,l)}
chrome.notifications.onClicked.addListener(function(a){if(-1!=a.indexOf("task_")||-1!=a.indexOf("terr_")||-1!=a.indexOf("tfin_")||-1!=a.indexOf("tmsg_")){var b=R.get("click_notify");b==bb?(U.h({c:!0},function(){r({cmd:"u_scroll",id:a.substring(5)})}),chrome.notifications.clear(a,function(){})):b==cb?chrome.notifications.clear(a,function(){}):ac()}else-1!=a.indexOf("tip_")?(R.set(a,100),chrome.notifications.clear(a,function(){})):-1!=a.indexOf("int_")&&(chrome.notifications.clear(a,function(){}),U.h({c:!0}))});
chrome.notifications.onButtonClicked.addListener(function(a,b){if("reload_update"==a){if(0==b){chrome.runtime.reload();return}}else if(-1!=a.indexOf("task_")||-1!=a.indexOf("terr_"))U.h({c:!0},function(){r({cmd:"u_scroll",id:a.substring(5)})});else if(-1!=a.indexOf("tfin_")){var l=V.ia(a.substring(5));0==b?bc.exec(l):1==b&&bc.fb(l)}else-1!=a.indexOf("tip_")&&(R.set(a,100),1==b&&(b=R.ba(a))&&(b.set_section?U.T({W:b.set_section}):b.set_page&&chrome.tabs.create({url:b.set_page})));chrome.notifications.clear(a,
function(){})});function cc(a){if(!localStorage["noup_"+a]){var b={type:"basic",title:h("msgTitleUpdateAvail",[a]),priority:2,message:h("msgTextUpdateAvail"),iconUrl:"../icons/noty/update.png",buttons:[{title:h("btnUpdateReload")},{title:h("btnLater")}]};$b("reload_update",b,function(){});localStorage["noup_"+a]=1}}
function dc(){var a=R.ba("tip_notifications");if(a&&a.message&&!(a.value>=a.freq)&&!a.Zb&&(R.Ca("tip_notifications"),!a.freq||a.value==a.freq)){R.set("tip_notifications",0);var b={type:"basic",title:h("titleTips"),priority:1,message:a.message,iconUrl:"../icons/logo/48.png",buttons:[{title:h("btnGotIt"),iconUrl:"../icons/tick.png"}]};(a.set_section||a.set_page)&&b.buttons.push({title:h("btnTakeMeThere"),iconUrl:"../icons/noty/gear.png"});$b("tip_notifications",b,function(){});a.Zb=!0}}
function ec(a,b){a&&!a.G&&a.state!=Wa&&a.state!=M&&(b={type:"basic",title:a.m?a.m():a.s(),message:b?h("msgTaskAddPaused"):h("msgTaskStart"),iconUrl:a.iconURL32||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACEElEQVRYhe2XsZLaMBCGfyfmmAMSGJ7k6stkGOBxrsprpKG5VEdDYV6DV7hH4A2SSUOj1aawZdaWtLIIXaKZHayV0ffvaiUB8K+3IuSsqooBgJmFAQwGAj7Xr4cZ5aj89ftyWX97eXm/SVVVVUxEnhlppm+GrbV8PB75fD7z237/c7fbPaVYH0JOZgYAWGtB1oKoNksEkmYJhq5mrQUALJdLbNabxWQ6PaVEqAI8f/sUXLm2ERHm889YrVaL8ePk9F0RoQoIywDgxiMvGGNARPg0m+Hrl+fFbDw+xaYqlfnRVRGTw+hn5HA4dCEPD4s8AQ7G0udaUfeaD8k3hrDZbkUAjPJjiepYxfhhATIF3Im88NNfOCV1m89FsMwoyzK6VIBSA6zBA0L9FRJBKAoSu6BowALWLjd70fcxrq8JiBehhDZg5y/AYFl4oeg7ycnNgCsyB5ZaWMKvoFj09VeyM8DXuQW4FiTSHoSzrmawALfHuIEWIuoE3OPnZqCeoSnAwsfE0h6Co7ktswR0MtCDBsGRyN27WhEOPgnDYB2eujPiAtqDKNV0+F+cAyl0fPv14a6fKSAA7D1qV/UddgH7J6EGTYBuLsJ0DbRk9d2bivAe4CHzDayBzmi88u8noHcUIw8YmDBTQFMFQ1ciyVfG1J9ko1F4OFvALTXw+vqjORG7f7uuPndt+77WD9H/3yLtD31m5EbWJHnAAAAAAElFTkSuQmCC",
buttons:[{title:h("btnOpenManager"),iconUrl:"../icons/noty/table.png"}]},$b("task_"+a.id,b,function(){}),setTimeout(function(){dc()},0))}function fc(a){if(a&&a.length&&!(3>=a.length)){for(let d=0;d<a.length-1;d++)a[d].G=!0;var b=a[0],l=a[a.length-1];l.m=()=>[b.s(),"...",l.s()].join(", ")}}
function gc(a){if(a&&!a.G&&a.state==J){var b=function(q){if(0>=q.size)return 0<q.finished_bytes?Ma(q.finished_bytes):h("phraseUnknownSize");var t=Ma(q.size);return q.state==Wa||q.state==M?t:h("statusDownloadedSize",[Ma(q.finished_bytes),t])}(a),l=Na(a.speed),d=La(a.time_remained),p=b+"\n"+l+" - "+h("statusTimeLeft",[d]);chrome.notifications.update("task_"+a.id,{progress:Math.round(a.progress),message:p},function(q){chrome.runtime.lastError&&console.log(chrome.runtime.lastError);if(!q){-1<navigator.platform.indexOf("Mac")?
chrome.notifications.clear("task_"+a.id,t):t();function t(){a.state==J&&$b("task_"+a.id,{type:"progress",priority:2,title:a.m?a.m():a.s(),iconUrl:a.iconURL32||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACEElEQVRYhe2XsZLaMBCGfyfmmAMSGJ7k6stkGOBxrsprpKG5VEdDYV6DV7hH4A2SSUOj1aawZdaWtLIIXaKZHayV0ffvaiUB8K+3IuSsqooBgJmFAQwGAj7Xr4cZ5aj89ftyWX97eXm/SVVVVUxEnhlppm+GrbV8PB75fD7z237/c7fbPaVYH0JOZgYAWGtB1oKoNksEkmYJhq5mrQUALJdLbNabxWQ6PaVEqAI8f/sUXLm2ERHm889YrVaL8ePk9F0RoQoIywDgxiMvGGNARPg0m+Hrl+fFbDw+xaYqlfnRVRGTw+hn5HA4dCEPD4s8AQ7G0udaUfeaD8k3hrDZbkUAjPJjiepYxfhhATIF3Im88NNfOCV1m89FsMwoyzK6VIBSA6zBA0L9FRJBKAoSu6BowALWLjd70fcxrq8JiBehhDZg5y/AYFl4oeg7ycnNgCsyB5ZaWMKvoFj09VeyM8DXuQW4FiTSHoSzrmawALfHuIEWIuoE3OPnZqCeoSnAwsfE0h6Co7ktswR0MtCDBsGRyN27WhEOPgnDYB2eujPiAtqDKNV0+F+cAyl0fPv14a6fKSAA7D1qV/UddgH7J6EGTYBuLsJ0DbRk9d2bivAe4CHzDayBzmi88u8noHcUIw8YmDBTQFMFQ1ciyVfG1J9ko1F4OFvALTXw+vqjORG7f7uuPndt+77WD9H/3yLtD31m5EbWJHnAAAAAAElFTkSuQmCC",
buttons:[{title:h("btnOpenManager"),iconUrl:"../icons/noty/table.png"}],progress:Math.round(a.progress),message:p},function(){})}}})}}
function hc(a){if(a&&!a.G){var b=!1;R.get("sound_finish")&&((new Audio("../snds/finish.ogg")).play(),b=!0);if(R.get("notify_finish")){var l=/^(jpe?g|gif|png|bmp|ico|webp|svg)$/i;b={type:"basic",title:a.m?a.m():a.s(),iconUrl:a.iconURL32||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACEElEQVRYhe2XsZLaMBCGfyfmmAMSGJ7k6stkGOBxrsprpKG5VEdDYV6DV7hH4A2SSUOj1aawZdaWtLIIXaKZHayV0ffvaiUB8K+3IuSsqooBgJmFAQwGAj7Xr4cZ5aj89ftyWX97eXm/SVVVVUxEnhlppm+GrbV8PB75fD7z237/c7fbPaVYH0JOZgYAWGtB1oKoNksEkmYJhq5mrQUALJdLbNabxWQ6PaVEqAI8f/sUXLm2ERHm889YrVaL8ePk9F0RoQoIywDgxiMvGGNARPg0m+Hrl+fFbDw+xaYqlfnRVRGTw+hn5HA4dCEPD4s8AQ7G0udaUfeaD8k3hrDZbkUAjPJjiepYxfhhATIF3Im88NNfOCV1m89FsMwoyzK6VIBSA6zBA0L9FRJBKAoSu6BowALWLjd70fcxrq8JiBehhDZg5y/AYFl4oeg7ycnNgCsyB5ZaWMKvoFj09VeyM8DXuQW4FiTSHoSzrmawALfHuIEWIuoE3OPnZqCeoSnAwsfE0h6Co7ktswR0MtCDBsGRyN27WhEOPgnDYB2eujPiAtqDKNV0+F+cAyl0fPv14a6fKSAA7D1qV/UddgH7J6EGTYBuLsJ0DbRk9d2bivAe4CHzDayBzmi88u8noHcUIw8YmDBTQFMFQ1ciyVfG1J9ko1F4OFvALTXw+vqjORG7f7uuPndt+77WD9H/3yLtD31m5EbWJHnAAAAAAElFTkSuQmCC",message:h("msgTaskFinish"),
silent:b,buttons:[{title:h("optOptionOpenFile"),iconUrl:"../icons/noty/file.png"},{title:h("optOptionOpenFolder"),iconUrl:"../icons/noty/folder_open.png"}]};var d="";if(V.P&&a.full_path){var p=Ca(a.Aa());p.v&&l.test(p.v)&&(d="file:///"+a.full_path)}d&&(R.get("notify_large_preview")?(b.type="image",b.imageUrl=d):(b.iconUrl=d,a.na=!0));$b("tfin_"+a.id,b,function(){ic(a)});setTimeout(function(){dc()},0)}else ic(a)}}
function jc(a){if(a&&!a.G){var b=!1;R.get("sound_error")&&((new Audio("../snds/error.ogg")).play(),b=!0);R.get("notify_error")?(b={type:"basic",title:a.m?a.m():a.s(),iconUrl:a.iconURL32||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACEElEQVRYhe2XsZLaMBCGfyfmmAMSGJ7k6stkGOBxrsprpKG5VEdDYV6DV7hH4A2SSUOj1aawZdaWtLIIXaKZHayV0ffvaiUB8K+3IuSsqooBgJmFAQwGAj7Xr4cZ5aj89ftyWX97eXm/SVVVVUxEnhlppm+GrbV8PB75fD7z237/c7fbPaVYH0JOZgYAWGtB1oKoNksEkmYJhq5mrQUALJdLbNabxWQ6PaVEqAI8f/sUXLm2ERHm889YrVaL8ePk9F0RoQoIywDgxiMvGGNARPg0m+Hrl+fFbDw+xaYqlfnRVRGTw+hn5HA4dCEPD4s8AQ7G0udaUfeaD8k3hrDZbkUAjPJjiepYxfhhATIF3Im88NNfOCV1m89FsMwoyzK6VIBSA6zBA0L9FRJBKAoSu6BowALWLjd70fcxrq8JiBehhDZg5y/AYFl4oeg7ycnNgCsyB5ZaWMKvoFj09VeyM8DXuQW4FiTSHoSzrmawALfHuIEWIuoE3OPnZqCeoSnAwsfE0h6Co7ktswR0MtCDBsGRyN27WhEOPgnDYB2eujPiAtqDKNV0+F+cAyl0fPv14a6fKSAA7D1qV/UddgH7J6EGTYBuLsJ0DbRk9d2bivAe4CHzDayBzmi88u8noHcUIw8YmDBTQFMFQ1ciyVfG1J9ko1F4OFvALTXw+vqjORG7f7uuPndt+77WD9H/3yLtD31m5EbWJHnAAAAAAElFTkSuQmCC",
message:h("msgTaskInterrupt"),silent:b,buttons:[{title:h("btnOpenManager"),iconUrl:"../icons/noty/table.png"}]},a.error_str&&(b.contextMessage=ob(a.error_str)),$b("terr_"+a.id,b,function(){ic(a)}),setTimeout(function(){dc()},0)):ic(a)}}function kc(a,b){chrome.notifications.update("task_"+a.id,{title:b},function(){});chrome.notifications.update("tfin_"+a.id,{title:b},function(){});chrome.notifications.update("terr_"+a.id,{title:b},function(){})}
function lc(a,b){chrome.notifications.update("task_"+a.id,{iconUrl:b},function(){});a.na||chrome.notifications.update("tfin_"+a.id,{iconUrl:b},function(){});chrome.notifications.update("terr_"+a.id,{iconUrl:b},function(){})}function mc(a){(R.get("notify_oneclick")||R.get("notify_progress"))&&chrome.notifications.clear("task_"+a,function(){});R.get("notify_finish")&&chrome.notifications.clear("tfin_"+a,function(){});R.get("notify_error")&&chrome.notifications.clear("terr_"+a,function(){})}
function nc(a){mc(a.id)}function ic(a){chrome.notifications.clear("task_"+a.id,function(){})}function Rb(a){chrome.notifications.getAll(function(b){for(var l in b)-1!=l.indexOf(a)&&chrome.notifications.clear(l,function(){})})}function ac(){chrome.notifications.getAll(function(a){for(var b in a)chrome.notifications.clear(b,function(){})})};var pc=function(){function a(d){if(-1!=d.tabId){var p=-1,q="",t="";if(d.responseHeaders)for(var y=0;y<d.responseHeaders.length;++y){var u=d.responseHeaders[y];if("content-type"==u.name.toLowerCase())q=(u.value||"").trim();else if("content-length"==u.name.toLowerCase()){if(p=parseInt(u.value),isNaN(p)||!isFinite(p))p=-1}else"content-disposition"==u.name.toLowerCase()&&(t=(t=u.value)?(t=t.match(/filename="([^"]+)"/i))?t[1]||"":"":"")}y=Ca(t).v||Ca(Aa(d.url).file).v;if(q&&l.test(q)||y&&b.test(y))y||
(q=q.match(/(?:[^\/]+)\/(?:x-)?(?:vnd\.)?(.+)/i))&&q[1]&&(y=za[q[1]]||q[1]),p={cmd:"stream_url",url:d.url,size:p,need_send:d.tabId==V.Ia},t&&(p.desc=t),y&&(p.fext=y),chrome.tabs.sendMessage(d.tabId,p)}}var b=new RegExp("^(("+Y.Cb+")|("+Y.Da+")|("+Y.Bb+"))$","i"),l=/(^(image|audio|video))|(application\/vnd.rn-realmedia)/i;return{start:function(){if(!chrome.webRequest.onHeadersReceived.hasListener(a))try{chrome.webRequest.onHeadersReceived.addListener(a,{urls:["http://*/*","https://*/*"],types:"main_frame sub_frame stylesheet script image font object xmlhttprequest ping csp_report media websocket other".split(" ")},
["responseHeaders"])}catch(d){console.log("Failed to add listener"),console.log(d)}},stop:function(){chrome.webRequest.onHeadersReceived.removeListener(a)}}}();var Z={Ha:0,i:function(){qc=Date.now()/1E3;var a=1==Z.i.N%10;1E4<=Z.i.N++&&(Z.i.N=0);Z.Jb(function(b,l,d){Z.Ha=b;b=[];for(l=0;l<d.length;++l){var p=d[l];b.push(p.id);p._start_time||(p._start_time=qc);p.time_elapsed+=qc-p._start_time;p._start_time=qc;0<p.size&&(p.progress=p.finished_bytes/p.size*100,p.progress=Math.min(100,p.progress),isFinite(p.progress)||console.log("f: "+p.finished_bytes+" sz: "+p.size));p._cf={}}V.B({cmd:"u_prog",ids:b});if(R.get("notify_progress")&&!V.U&&!V.F)for(l=0;l<d.length;++l)gc(d[l]);
if(a)for(l=0;l<d.length;++l)V.g.set(d[l].id)})}};Z.i.N=1;
var X=function(){function a(){for(var q=0,t=V.a.length;q<t;++q){var y=V.a[q];if(y&&0==y.recycled&&y.state==Ta&&!y.O)return y}return null}function b(){if(!l){V.u(!1);var q=a();q&&(l=!0,Z.xb(q,function(t){V.u(t!=Oa);if(t==Pa)l=!1;else{if(t==Oa){delete d[q.id];if(!Z.download(q)){l=!1;return}q.O&&(delete q.O,delete p[q.id])}else t==Ra&&(q.O=!0,p[q.id]=q);l=!1;setTimeout(b,0)}}))}}var l=!1,d={},p={};return{Kb:function(){return Object.keys(d).length},enqueue:function(q){d[q.id]=!0},eb:function(q){delete d[q.id]},
V:function(){for(var q in p)delete p[q].O;p={};b()},M:b}}();window.dy_engine=Z;Z.pollProgress=Z.i;Z.getOverallSpeed=function(){return Z.Ha};Z.version=1;
(function(){function a(c){c=c.toLowerCase();return"c:"==c||"c:/"==c?"ChronoDownloads/":""}function b(c,B){c=l(c);B=l(B);return c==B}function l(c){c=/^(https?|ftp|data):/i.test(c)?c:"http://"+c;return"/"==c[c.length-1]?c:c+"/"}function d(c){c._start_time=Date.now()/1E3;V.l(c,"state",J);D.add(c);Z.i.ja||(Z.i.ja=setInterval(Z.i,1E3),Z.i())}function p(c,B){D.remove(c);0==D.length()&&(clearInterval(Z.i.ja),Z.i.ja=void 0);delete c.H;c._start_time&&(c.time_elapsed+=Math.max(0,Date.now()/1E3-c._start_time));
delete c._start_time;c.active_threads=0;0!=B?chrome.downloads.search({id:c.cr_id},function(G){G&&G.length&&(c.finished_bytes=G[0].bytesReceived);c.state==Wa?(c.size=c.finished_bytes,c.progress=100):c.progress=0<c.size?c.finished_bytes/c.size*100:0;V.A(c,["progress","size","time_elapsed"])}):V.A(c,["time_elapsed"])}function q(c,B,G){t(B,c.id);c.cr_id=B;z[B]=c;if(0!=G)for(B=aa.find(c.url);B;)c.eurl=B,B=aa.find(B);V.g.set(c.id)}function t(c,B){var G=z[c];G&&G.id!=B&&y(G,c)}function y(c,B){c.cr_id=-2;
V.g.set(c.id);delete z[B]}function u(c){aa.map[l(c.url)]=c.redirectUrl}function n(c){-1!=V.j||V.U?r({cmd:"u_accept",crid:c}):U.h({c:!0},function(){r({cmd:"u_accept",crid:c})})}function k(c){var B=z[c];B&&(y(B,c),D.remove(B),console.log("onerased"))}function C(c){var B=z[c.id];if(B){var G=!1;c.exists&&!c.exists.current&&(G=!0);var N=!1,K=[],f;for(f in c){var g=c[f].current;switch(f){case "url":B.eurl=g;var m="eurl";break;case "filename":g=E(B,g,!1);(m=c.danger?c.danger.current:"")&&!g&&"safe"!=m&&
"accepted"!=m&&n(c.id);m="naming";break;case "mime":B.mime_type=g;break;case "exists":B.exists=g;m="exists";break;case "endTime":B.time_finish=new Date(g);m="time_finish";break;case "state":if(!G){if("interrupted"==g)g=M;else if("complete"==g)g=Wa;else break;e(B,g)}break;case "error":B.error_str=g;break;case "paused":if(G||c.state)break;1==g?g=Ua:(g=J,B.state!=J&&d(B));e(B,g);break;case "totalBytes":sb(g);case "fileSize":B.size=g;m="size";break;case "danger":c.filename||"safe"==g||"accepted"==g||
n(c.id)}N||("_all_"==m?N=!0:m&&K.push(m))}N?(V.g.set(B.id),Ab(B),B._cf={},V.B({cmd:"u_tasks",ids:[B.id]})):0<K.length&&V.A(B,K)}}function H(){var c=R.get("fnconflict");if(0>c||5<=c)c=0;return va[c]}function w(c,B){if(!Yb.onDeterminingFilename(c,B)){var G=Wb.sb(c.id)||z[c.id];if(!G)console.log("Task not found, could be a canceled to-pause task?");else if(!G.Oa){a:{var N=c.id;c=c.filename;G.file_ext=c;var K=Y.cb();!G.naming&&(K=Y.match(G));G.naming||(G.naming=K.naming);K=G.bb();Ka(K)?c=K:(G.naming=
c,console.log("naming mask not good, changing to provided:"+c));G.Pa=c;!G.folder&&R.get("always_use_last_location")&&(K=Tb.vb())&&(G.folder=K);K="";G.folder&&(K=Yb.jb());if(K){const f=Fa(G.folder);let g=f.startsWith(K)?f.substr(K.length):f;if(!g){if(g=a(K))G.folder=Ga(K,g)}else if(g==f){if(hb==R.get("folder_inaccessible")){0>G.cr_id&&(G.cr_id=N);V.ha(G,!0);Wb.pa(G.url,G.referer);G="";break a}g=a(K);G.folder=Ga(K,g)}G.ma=f;c=Ga(g,c)}else G.folder="";Ab(G);V.A(G,["naming","folder"]);G=c}G?B({filename:G,
conflictAction:H()}):B()}}}function x(c){function B(N){Z.erase(N,!0);N.reset(J);V.g.set(N.id);I(N);V.B({cmd:"u_tasks",ids:[N.id]})}function G(N){if(0>=N.size)B(N);else{var K=h("confirmCantResumeRestart",[N.s()]);r({cmd:"u_confirm",data:K},function(f){void 0==f&&(f=confirm(K));f?B(N):e(N,M)})}}d(c);void 0==c.cr_id||0>c.cr_id?G(c):chrome.downloads.search({id:c.cr_id},function(N){N&&N.length&&(N[0].canResume||"in_progress"==N[0].state&&!N[0].paused)?chrome.downloads.resume(c.cr_id,function(){}):G(c)})}
function I(c){if(0<=c.cr_id)console.log("dy_engine.newDownload: call restart/resume instead");else{delete c.H;d(c);for(var B=0;B<W.length;++B)if(W[B].id==c.id&&W[B].url==c.url){console.log("duplicate issue!!");return}chrome.downloads.download({url:c.url,method:"GET",saveAs:!1,conflictAction:H()},function(G){if(void 0==G){for(G=0;G<W.length;++G)if(W[G].id==c.id){W.splice(G,1);break}c.cr_id=-2;chrome.runtime.lastError&&chrome.runtime.lastError.message&&(c.error_str=chrome.runtime.lastError.message);
D.has(c.id)&&e(c,M);console.log("fail to start download, "+JSON.stringify(chrome.runtime.lastError))}});W.push(c);return!0}}function E(c,B,G){let N=!1;if(!c||void 0==c.cr_id||0>c.cr_id)return N;c.full_path=B;var K=Fa(B,!1),f=Fa(c.Pa||"",!1);B=!!f&&K.endsWith(f);let [g,m]=Ha(f);if(g){"/"!=g[0]&&"\\"!=g[0]&&(g="/"+g);var A=K.lastIndexOf(g);-1==A?(console.error(`missing subdir ${g} in filename ${K}`),[f,K]=Ha(K)):(f=K.slice(0,A+1),K=K.slice(A+g.length))}else[f,K]=Ha(K);c.folder=Fa(f);c.ma!=c.folder&&
console.warn(`folder changed: ${c.ma} => ${c.folder}`);if(!B&&m&&m!=K&&(f=R.get("fnconflict"),f==fb||f==eb)){A=Ca(m).R||"";const F=Ca(K).R||"";F.length>A.length&&0==F.indexOf(A)&&(f==fb?(V.ha(c,!0,"bg"),console.log("file name conflicts: "+m+", removing the task"),r({cmd:"u_skipcancel",filename:m})):f==eb&&(Z.erase(c,!0,!0),c.reset(),c.error_str="fnConflict",e(c,M),console.log("file name conflicts: "+m+", pausing the task")),N=!0)}N||B||(c.name_conflict=K,Ab(c),0!=G&&V.A(c,["naming"]),kc(c,K));oa("dz",
"fex",Ca(K||"").v||"_undefined_");N||(chrome.downloads.getFileIcon(c.cr_id,{size:16},function(F){V.l(c,"iconURL16",F)}),chrome.downloads.getFileIcon(c.cr_id,{size:32},function(F){V.l(c,"iconURL32",F);lc(c,F)}),sa(c.folder)&&Tb.ka(c.folder));c._cf={};V.g.set(c.id);return N}function e(c,B){if(c){var G=c.state;c.state=B;B!=J&&(p(c),X.V(),B==Wa?G!=B&&hc(c):B==M?G!=B&&jc(c):R.get("notify_progress")&&ic(c));V.A(c,["state"])}}var z={};Z.Yb=function(){for(var c=0;c<V.a.length;++c){var B=V.a[c].cr_id;0<=B&&
(z[B]=V.a[c])}chrome.downloads.onChanged.addListener(C);chrome.downloads.onErased.addListener(k);chrome.downloads.onDeterminingFilename&&chrome.downloads.onDeterminingFilename.addListener(w);chrome.webRequest.onBeforeRedirect.addListener(u,{urls:["http://*/*","https://*/*"]});return!0};var D={},O={},Q={};D.ib=function(c){return Q[c]};D.add=function(c){if(c&&c.url){O[c.id]=!0;var B=Aa(c.url).authority;void 0==Q[B]&&(Q[B]={});Q[B][c.id]=!0;V.u(-1)}};D.remove=function(c){if(c){delete O[c.id];var B=Aa(c.url).authority,
G=Q[B];G&&(delete G[c.id],0==Object.keys(G).length&&delete Q[B]);V.u(-1)}};D.has=function(c){return 1==O[c]};D.length=function(){return Object.keys(O).length};var aa={map:{}};aa.pc=setInterval(function(){aa.map={}},3E5);aa.find=function(c){if(0!=c.indexOf("data:")){c=l(c);var B=aa.map[c];return B?(delete aa.map[c],B):null}};Z.Fa=function(){return D.length()};Z.wb=function(c){t(c.id);for(var B=null,G=c.url,N=0;N<W.length;++N)if(b(W[N].url,G)){B=W[N];W.splice(N,1);break}if(!B)return!1;if(B.H)return delete B.H,
chrome.downloads.cancel(c.id,function(){chrome.downloads.erase({id:c.id},function(){e(B,Ua)})}),console.log("ignore a _topause/erased task, cr_id:"+c.id),!0;q(B,c.id);c.referrer&&(B.referer=c.referrer);B.mime_type=c.mime;B.exists=c.exists;V.l(B,"size",c.totalBytes);sb(B.size);return!0};Z.oa=function(c,B,G,N){q(c,B,!N);N||V.qa(c,!1);c.state==J&&d(c);var K=!1;N?(c.full_path=G,V.g.set(c.id)):K=G?E(c,G):!1;c.X&&(K||setTimeout(function(){n(B)},0),delete c.X);0<c.size&&sb(c.size)};var va=["uniquify","overwrite",
"prompt","uniquify","uniquify"];Z.download=function(c){if(!c)return!1;void 0==c.cr_id||0>c.cr_id?I(c):x(c);return!0};Z.pause=function(c){void 0==c.cr_id||0>c.cr_id?c.H=!0:chrome.downloads.pause(c.cr_id,function(){})};var W=[];Z.erase=function(c,B,G,N){p(c,!1);c.H=!0;var K=c.cr_id;void 0==K||0>K||(y(c,K),0!=N&&(B?c.state==Wa?1!=G?Z.removeFile(K,function(){chrome.downloads.erase({id:K},function(){})}):chrome.downloads.erase({id:K},function(){}):chrome.downloads.cancel(K,function(){chrome.downloads.erase({id:K},
function(){})}):chrome.downloads.erase({id:K},function(){})))};Z.removeFile=function(c,B){void 0==c||0>c?B&&B():chrome.downloads.search({id:c},function(G){G&&G.length&&"complete"==G[0].state&&G[0].exists&&chrome.downloads.removeFile(c,function(){});B&&B()})};Z.yb=function(){var c=R.get("dy_max_con_tasks");return D.length()<c};Z.xb=function(c,B){var G=R.get("dy_max_con_tasks");if(D.length()>=G)B(Pa);else{var N=Aa(c.url).authority;chrome.downloads.search({state:"in_progress",urlRegex:"^((https?|ftp)://)?"+
N+".*"},function(K){var f=R.get("dy_max_con_tasks");if(D.length()>=f)B(Pa);else{f=R.get("dy_max_per_server");var g=!1,m=D.ib(N),A=m?Object.keys(m):[];m={};if(A&&A.length)for(var F=0;F<A.length;++F)m[A[F]]=!0;A=Object.keys(m).length;if(K&&K.length){var L=-10;for(F=0;F<K.length;++F){var T=z[K[F].id];T=T?T.id:L--;m[T]=!0}}if(Object.keys(m).length<f||A<f&&1==m[c.id])g=!0;B(g?Oa:Ra)}})}};Z.Jb=function(c){chrome.downloads.search({state:"in_progress",paused:!1},function(B){var G=0,N=B.length,K=[];if(B.length){var f=
B.length;f=10<f?10:5<f?5:3;for(var g=Z.i.N%f,m=0;m<B.length;++m){var A=B[m],F=A.id,L=A.bytesReceived,T=A.totalBytes-L,S=.001*(new Date(A.estimatedEndTime)).getTime(),ra=S-qc,Sa=0;0<T&&0<ra&&(Sa=T/ra,G+=Sa);F%f==g&&(F=z[F])&&(F.speed=Sa,F.finished_bytes=L,F.time_remained=void 0==A.estimatedEndTime?8553600:S-qc,K.push(F))}c(G,N,K)}else c(G,N,[])})};Z.qc=function(){};Z.uc=function(c){c(1)}})();Z.numDownloading=Z.Fa;Z.erase=Z.erase;Z.pause=Z.pause;let bc=(()=>{function a(b,l){if(!b)return l&&l(!1,h("errorFileNotExist")),!1;if(!(0<=b.cr_id))return l&&l(!1,h("errorRemovedFromChrome")),!1;chrome.downloads.search({id:b.cr_id},function(d){var p=!0,q="";d&&d.length?(b.exists!=d[0].exists&&V.l(b,"exists",d[0].exists),b.exists||(p=!1,q=h("errorFileNotExist"))):0<b.time_elapsed&&(p=!1,q=h("errorRemovedFromChrome"));l&&l(p,q)});return!0}return{fb:function(b,l){a(b,l)&&(b=chrome.downloads.show(b.cr_id),chrome.runtime.lastError&&console.log(`explore ${b} lastError: '${JSON.stringify(chrome.runtime.lastError)}'`))},
exec:function(b,l){a(b,l)&&(b=chrome.downloads.open(b.cr_id),chrome.runtime.lastError&&console.log(`exec ${b} lastError: '${JSON.stringify(chrome.runtime.lastError)}'`))}}})();var Xb=function(){function a(d){switch(d.cmd){case "open_ui":U.h();break;case "open_options":case "open_set":U.T({})}}function b(d,p){d.url=d.url.replace(/ /g,"%20");var q=d.url;q=q||"";var t=0==q.indexOf("data:"),y=q.indexOf("\r");-1==y&&(y=q.indexOf("\n"));-1!=y?q=q.substr(0,t?Math.min(y,1024):y):t&&1024<q.length&&(q=q.substr(0,1024));if(t?!wa.test(q):!xa.test(q))return console.log("bad url in new_task()"),console.log(d.url),null;0==/^(https?|ftp|data):/i.test(d.url)&&(d.url="http://"+d.url);q=
V.Z(d.url,d.referer);if(!q)return-1;q.naming=d.naming;d.folder&&(q.folder=d.folder);q.text=d.text||"";q.title=d.title||"";q.desc=d.desc;q.page_title=p;q.max_threads_config=5;q.naming&&Ub.ka(q.naming);return q}function l(d,p,q){switch(d.cmd){case "open_ui":U.h({c:d.activate,o:d.tabId});q("y");break;case "open_options":U.T({W:d.section,C:d.uiWinId,L:d.pos});break;case "clear_noty":d.tid?mc(d.tid):d.type&&Rb(d.type);break;case "reschedule":X.V();break;case "blog":console.log(d.data);break;case "path_list_recents":q({list:Tb.Ba()});
break;case "path_list_favs":q({list:R.get("path_fav")||[]});break;case "fav_path":1==d.fav?R.Ja("path_fav",d.path):R.Ka("path_fav",d.path);break;case "naming_list":q({list:Ub.Ba()});break;case "dlg_options":q({fontSize:R.get("font_size"),useLastLocation:R.get("always_use_last_location"),folderSelection:R.get("chrono_folder_selection"),taskDef:R.J(),canFileAccess:R.canFileAccess()});break;case "browser_home_path_normalized":return Yb.pb().then(E=>{q(E)}),!0;case "save_as":d=Da(d.url);Wb.pa(d);break;
case "new_task":if(d.tasks){var t=p=!1,y=d.add_paused,u=d.addtop,n=d.page_title,k=V.a.length+10,C=d.notify&&R.get("notify_oneclick");const E=[];for(var H=0,w=d.tasks.length;H<w;++H){var x=b(d.tasks[H],n);if(-1==x){p=!0;break}else if(null!=x){y||(x.state=Ta,X.enqueue(x),t=!0);var I=V.ga(x,u,!y);I<k&&(k=I);E.push(x)}}fc(E);if(C)for(n=0;n<E.length;n++)ec(E[n],y);oa("fe_us","dl_src",d.source||"unkown",d.tasks.length||1);k<V.a.length&&(r({cmd:"u_new",idx:k,addtop:u,scroll_id:V.a[u?0:V.a.length-1].id}),
V.Ua(),t&&X.M());p&&U.h({c:!0},function(){r({cmd:"u_alert",data:nb.noID})})}q("y");break;case "url_desc":Wb.Vb(d.url,d.download,d.text,d.title,d.page_title||(p.tab?p.tab.title:""));break;case "poll_progress":Z.i();break;case "import":if("chrome"==d.src)return V.zb(q),!0}}return{wa:function(){return a},aa:function(){return l}}}();let Yb=(()=>{function a(x,I,E){const e=new Promise(z=>{H=setTimeout(E,I,z)});return Promise.race([x,e])}function b(){if(k)return k;t||(chrome.downloads.onCreated.addListener(l),chrome.downloads.onChanged.addListener(q),t=!0);return k=a(new Promise(x=>{C=x;chrome.downloads.download({url:y,filename:"Chrono testing download configuration, please click Cancel. Please make sure the browser save-as dialog is turned off and the default downloads location is writable (not a system folder).txt",method:"GET",
saveAs:!1,conflictAction:"overwrite"},function(I){k||C?n=I:(console.error(`got did: ${I} but no pending, cleanup again`),p(I))})}),800,x=>{(k||C)&&console.error("timeout");x("")}).then(x=>{u=x;R.set("downloads_home",u);p();return x})}function l(x){d(x,"onCreated")}function d(x,I){!n&&x.url.startsWith(y)&&(k||C?n=x.id:(console.error(`${I} got did: ${x.id} but no pending, cleanup again`),p(x.id)))}function p(x){const I=x||n;n=void 0;H&&clearTimeout(H);C=k=H=void 0;I||console.error("cleanup missing did");
I&&chrome.downloads.cancel(I,function(){Z.removeFile(I,()=>{chrome.downloads.erase({id:I},()=>{})})})}function q(x){n&&n==x.id&&(x.error&&"USER_CANCELED"==x.error.current||x.state&&"interrupted"==x.state.current?C&&C(""):x.filename&&x.filename.current&&(x=Fa(Ja(x.filename.current)),C&&C(x)))}let t=!1,y=chrome.extension.getURL("bg/chrono_testing.txt"),u="",n,k,C,H,w=0;return{Na:y,pb:b,jb:()=>{const x=Date.now();12E3<x-w&&(w=x,b());return u},onDeterminingFilename:function(x,I){if(!x.url.startsWith(y))return!1;
d(x,"onDeterminingFilename");I({filename:"Chrono testing download configuration, please click Cancel. Please make sure the browser save-as dialog is turned off and the default downloads location is writable (not a system folder).txt",conflictAction:"overwrite"});return!0}}})();var qc=Date.now()/1E3,V={kc:window.location.href,j:-1,Ia:-1,U:!1};
(function(){function a(f){for(var g=V.a.length,m=0;m<g;++m)if(V.a[m].id==f)return m;return-1}function b(){r({cmd:"u_updated",data:z})}function l(f,g){return f[0]-g[0]||f[1]-g[1]||f[2]-g[2]}function d(f){f=f.split(".");for(var g=Array(3),m=0;m<f.length&&3>m;++m){var A=parseInt(f[m]);if(isNaN(A)||!isFinite(A))A=0;g[m]=A}for(;3>m;++m)g[m]=0;return g}function p(f){f=d(f);if(0>l(f,[0,7,3]))for(var g in R.items)if(0==g.indexOf("tip_")&&"tip_rateshare"!=g&&"tip_translate"!=g){var m=R.items[g];0<m.value&&
(m.value=100,localStorage["#"+g]=m.value)}l(f,[0,9,0]);0>l(f,[0,10,0])&&R.set("tip_translate",0);console.log("onVerUpdated process")}function q(){function f(g){var m=qb(g);if(m){var A=m._t;if(A&&(A=Math.round(Math.max(0,(Date.now()-A)/864E5-.1999)),!(1>A))){var F=Object.keys(m).length,L;for(L in m)if("_t"!=L){var T=Math.round(m[L]/A);if(isNaN(T)||!isFinite(T))T=0;var S=L.split(";");ja(["_trackEvent",g,S[0],S[1],T,!0],F)}ma.removeItem(pb+g)}}}(function(){var g=Date.now(),m=R.get("_glst");if(!m)R.set("_glst",
g);else if(!(1>Math.round(Math.max(0,(g-m)/864E5-.1999)))){m=["ui_mode",1==R.get("ui_grid_list")?"list":"table"];var A=R.get("bg_image_enable")?(A=R.get("bg_image_url"))?"#"==A[0]?"color":A.startsWith("../")||A.startsWith("chrome-extension://")?"builtin":"url":"unknown":"disabled";m=[m,["bg_theme",A],["search_mode",""+R.get("search_mode")],["fnconflict",""+R.get("fnconflict")],["override_cr",""+R.get("override_cr")],["dbclick_action",""+R.get("dbclick_action")],["oneclick_enabled",""+R.get("doneclick_rule")],
["slide_details_panel",""+R.get("slide_details_panel")],["pop_ing_first",""+R.get("poplist_showd_first")],["custom_naming",""+("*name*.*ext*"!=R.get("def_naming"))],["match_mode",""+R.get("match_mode")],["autoclear",0<R.get("autoclear_timer")?R.get("autoclear_type"):"disabled"],["use_last_folder",""+R.get("always_use_last_location")],["folder_selection",""+R.get("chrono_folder_selection")],["folder_inaccessible",""+R.get("folder_inaccessible")],["#task_n",void 0,V.a.length],["#pop_max_items",void 0,
R.get("poplist_max_items")],["#max_con_tasks",void 0,R.get("dy_max_con_tasks")],["#max_per_server",void 0,R.get("dy_max_per_server")],["file_access",""+V.P]];V.a.length&&(A=R.get("downloads_home")||"",m.push(["homeD",A[0]||"!"]),A&&m.push(["#home_lev",void 0,A.slice(1).split("/").length-1]));la(m);R.set("_glst",g)}})();f("fe_us");f("dz");f("sf")}function t(){var f=/((ftp)|(https?)):\/\/.+/;chrome.windows.getAll({populate:!0},function(g){var m=["cs/sniffer.js","cs/main.js"];var A=[!0,!1];for(var F=
0;F<g.length;F++)for(var L=g[F].tabs,T=0;T<L.length;T++)if(f.test(L[T].url))for(var S=0;S<m.length;++S)chrome.tabs.executeScript(L[T].id,{file:m[S],allFrames:A[S]},function(){chrome.runtime.lastError&&console.log(chrome.runtime.lastError)})})}function y(){R.load();Tb.load([R.get("def_folder")]);var f=["*page_title*.*ext*","*title*.*ext*","*text*.*ext*","*name*.*ext*"];f.push(R.get("def_naming"));Ub.load(f);I&&p(I);chrome.downloads.setShelfEnabled&&chrome.downloads.setShelfEnabled(0==R.get("hide_cr_bar"));
Wb.start();pc.start();R.get("override_cr")&&U.fa(!0);chrome.tabs.onActivated.addListener(function(g){chrome.tabs.get(g.tabId,function(m){V.F=m&&0==m.url.indexOf(U.Ab);V.F&&R.get("notify_progress")&&Rb("task_")})});chrome.windows.onFocusChanged.addListener(function(g){-1!=V.j?chrome.tabs.get(V.j,function(m){chrome.runtime.lastError?V.F=!1:(V.F=m&&m.windowId==g&&m.active,V.F&&R.get("notify_progress")&&Rb("task_"))}):V.F=!1});1==R.get("pop_content")?(chrome.browserAction.setPopup({popup:"/pop/sniffer.htm"}),
chrome.browserAction.setTitle({title:h("tipBrowserAction")})):(chrome.browserAction.setPopup({popup:"/pop/pop.htm"}),chrome.browserAction.setTitle({title:h("extName")}));Jb.Ra();chrome.runtime.onMessage.addListener(Xb.aa());chrome.runtime.onMessageExternal.addListener(Xb.wa());Vb.ac();E&&U.h({c:!0},function(){b();e=!0});chrome.webRequest.onBeforeRequest.addListener(function(){return{cancel:!0}},{urls:[V.kc+"*"]},["blocking"]);t();chrome.runtime.requestUpdateCheck&&(setTimeout(function(){chrome.runtime.requestUpdateCheck(function(){})},
3E4),setInterval(function(){chrome.runtime.requestUpdateCheck(function(){})},18E6));X.M();(function(){for(var g=[],m=Y.za(),A=0;A<m.length;++A)if(m[A].as_filter){var F=Zb.compile(m[A].condition);F&&(g.push(m[A].condition),g.push(F))}K.add(function(L,T){L._cf||(L._cf={});for(var S=0;S<T.length;S+=2)if(void 0==L._cf[T[S]])try{L._cf[T[S]]=Zb.ec(T[S+1],L)}catch(ra){console.log("Invalid filter expression: "+ra)}},V.a,200,!1,0,g)})();chrome.alarms.clear("auto-clear-tasks",function(){var g=R.get("autoclear_type"),
m=R.get("autoclear_timer");w(g,m)&&(g=R.get("autoclear_lasttime"),-1==g&&(g=Date.now(),R.set("autoclear_lasttime",g)),g=m-Math.max(0,Date.now()-g)/6E4,g=Math.max(1,Math.ceil(g)),chrome.alarms.create("auto-clear-tasks",{delayInMinutes:g,periodInMinutes:m}),console.log("auto_clear will run in "+g+" mins"))});console.log("done");V.isInited=!0}function u(f){r({cmd:"u_hi"},function(g){"hi"==g?(console.log("ui connected"),f&&f()):(console.log("connecting to ui, try again"),u(f))})}function n(f){if(!f.filename)return null;
var g=V.Z(f.url,f.referrer);if(!g)return-1;let m=f.filename;g.full_path=m;g.naming="*name*.*ext*";g.file_ext=Ia(m);g.folder=Ja(m);g.finished_bytes=f.bytesReceived;g.size=f.fileSize||f.totalBytes;g.exists=f.exists;g.wc=f.mime;g.time_add=new Date(f.startTime);f.endTime&&(g.time_finish=new Date(f.endTime),g.time_elapsed=(g.time_finish-g.time_add)/1E3);f.error&&(g.error_str=f.error);g.state=Ua;"in_progress"==f.state?f.paused||(g.state=J):"complete"==f.state?g.state=Wa:"interrupted"==f.state&&(g.state=
M);g.state==Wa?(g.size=g.finished_bytes,g.progress=100):g.progress=0<g.size?g.finished_bytes/g.size*100:0;"safe"!=f.danger&&"accepted"!=f.danger&&(g.X=!0);return g}function k(){va=!0;V.B=function(){}}function C(){V.B=r;va=!1}function H(){B+=1/36;W.save();W.clearRect(0,0,16,16);W.translate(8,8);W.rotate((1-Math.sin(Math.PI/2+B*Math.PI))/2*Math.PI*2);W.drawImage(c,-8,-8);W.restore();chrome.browserAction.setIcon({imageData:W.getImageData(0,0,16,16)});1>=B?setTimeout(H,10):(B=0,chrome.browserAction.setIcon({path:"../icons/logo/16.png"}))}
function w(f,g){G=void 0;N&&(clearTimeout(N),N=void 0);if(0>g)return!1;var m=6E4*g;switch(f){case "finished":var A=function(F){return F.state==Wa&&Date.now()-F.time_add>m};break;case "interrupted":A=function(F){return F.state==M&&Date.now()-F.time_add>m};break;case "both":A=function(F){return(F.state==Wa||F.state==M)&&Date.now()-F.time_add>m};break;default:return!1}console.log("setup auto_clear: "+f+", "+g+" mins, now: "+(new Date).toLocaleString());G=A;return!0}V.P=!0;chrome.extension.isAllowedFileSchemeAccess(function(f){V.P=
f});var x=new ba(9999);V.g=new ba(9999);V.a=[];V.ob=function(){return V.a};V.rb=function(f){f||(f=15);for(var g=[],m=V.a.length,A=0;A<m;++A)V.a[A].recycled||g.push(A);R.get("poplist_showd_first")?g.sort(function(F,L){F=V.a[F];L=V.a[L];return F.state==L.state?L.time_add-F.time_add:F.state<=Va?F.state-L.state:L.state<=Va?1:L.time_add-F.time_add}):g.sort(function(F,L){return V.a[L].time_add-V.a[F].time_add});return g.slice(0,f)};V.ia=function(f){f=a(f);return-1==f?null:V.a[f]};chrome.runtime.onUpdateAvailable.addListener(function(f){cc(f.version)});
var I,E=!1,e=!1,z=!1;(function(){var f=localStorage.ver,g=chrome.runtime.getManifest().version,m=!1,A=f||g;localStorage.ver1&&localStorage.ver1_t||(localStorage.ver1=A,localStorage.ver1_t=Date.now());if(f){A=d(f);var F=d(g);"0.11.1"!==g&&"0.11.2"!==g&&(A[2]=F[2]=0);0>l(A,F)&&(m=!0);f!=g&&(I=f)}else m=z=!0;m&&(E=!0,e&&b());localStorage.ver=g})();window.addEventListener("load",function(){Vb.open(function(){Vb.hb(function(f){for(var g=0;g<f.length;++g){var m=f[g];x.set(m.id);m.state==J&&(m.state=Ta,
V.g.set(m.id),X.enqueue(m));-1==m.cr_id&&(m.cr_id=-2)}V.a=f;Z.Yb()&&(y(),setTimeout(q,8E3))})})});window.onunload=function(){chrome.runtime.onMessage.removeListener(Xb.aa());chrome.runtime.onMessageExternal.removeListener(Xb.wa());Vb.cc();Tb.commit();Ub.commit();Wb.stop();pc.stop();U.fa(!1);Vb.commit(Vb.close)};var D=[];V.Ub=function(f){D.push(f)};var O=1;V.jc=function(f){-1!=V.j?(console.warn("closing ui tab "+V.j),chrome.tabs.remove(V.j,()=>{V.Ma(f)})):V.Ma(f)};V.Ma=function(f){V.j=f;u(function(){for(;0<
D.length;)D.shift()()});f=new XMLHttpRequest;f.open("GET","https://www.chronodownloader.net?i="+O++,!0);f.send()};V.ic=function(){V.j=-1;console.log("ui disconnected")};V.zb=function(f){function g(m){chrome.downloads.getFileIcon(m.cr_id,{size:16},function(A){chrome.runtime.lastError||V.l(m,"iconURL16",A)});chrome.downloads.getFileIcon(m.cr_id,{size:32},function(A){chrome.runtime.lastError||(V.l(m,"iconURL32",A),m.state==J&&lc(m,A))})}chrome.downloads.search({},function(m){if(m&&m.length){k();for(var A=
V.a.length+10,F=0;F<m.length;++F){var L=n(m[F]);if(L){if(-1==L){U.h({c:!0},function(){r({cmd:"u_alert",data:nb.noID})});break}Z.oa(L,m[F].id,m[F].filename,!0);L=V.ga(L,!1,!1);L<A&&(A=L)}}C();A<V.a.length&&(r({cmd:"u_new",idx:A,scroll_id:V.a[V.a.length-1].id}),m=V.a.slice(A),m.reverse(),K.add(g,m,15,!1,100))}f&&f()})};var Q,aa=0;V.u=function(f){if(!va&&!Q){var g=Date.now(),m=aa;aa=g;500>g-m?Q=setTimeout(function(){Q=void 0;V.u(-1)},500):(g="",R.get("badge_downnum")&&(m=Z.Fa(),99<m?g="99+":0<m&&(g=
m.toString(),-1==f&&(f=0<X.Kb()),f&&(g+="+"))),chrome.browserAction.setBadgeText({text:g}))}};V.B=r;var va=!1;V.A=function(f,g,m){V.g.set(f.id);f._cf={};0!=m&&V.B({cmd:"u_fields",id:f.id,fields:g})};V.l=function(f,g,m,A){f[g]=m;V.A(f,[g],A)};var W=document.createElement("canvas").getContext("2d");var c=new Image;c.src="../icons/logo/16.png";var B=0;V.Ua=H;V.qa=function(f,g){var m=R.J().addtop,A=V.ga(f,m,!g);V.B({cmd:"u_new",ids:[f.id],idx:A,addtop:m,scroll_id:f.id});U.ya(function(F){chrome.tabs.sendMessage(F.id,
{cmd:"d_anim",addpause:g})});H();R.get("notify_oneclick")&&ec(f,g);oa("fe_us","dl_src","chrome")};V.Z=function(f,g){var m=new P;m.id=x.Ea(!0);if(-1==m.id)return null;m.referer=g||"";m.eurl=m.url=f;return m};V.ga=function(f,g,m){if(!f)return-1;f.naming_auto=!f.naming;!m&&f.folder&&(m=Fa(f.folder),sa(m)&&Tb.ka(m,f.time_add));g?(V.a.unshift(f),g=0):(V.a.push(f),g=V.a.length-1);V.g.set(f.id);return g};V.$b=function(f){f||(f=V.a);var g=-1234;R.get("start_interrupted")&&(g=M);for(var m=[],A=0,F=f.length;A<
F;++A){var L=f[A];if(L.state==Ua||L.state==g)V.l(L,"state",Ta,!1),X.enqueue(L),m.push(L.id)}m.length&&(X.M(),r({cmd:"u_tasks_by_field",ids:m,field:"state"}))};V.bc=function(f){f||(f=V.a);for(var g=[],m=0,A=f.length;m<A;++m){var F=f[m];F.state==Ta?(V.l(F,"state",Ua,!1),X.eb(F),g.push(F.id)):F.state==J&&(Z.pause(F),g.push(F.id))}g.length&&(r({cmd:"u_tasks_by_field",ids:g,field:"state"}),X.V())};V.Tb=function(f){f||(f=V.a);var g=!1,m=[];k();for(var A=0,F=f.length;A<F;++A){var L=f[A];Z.erase(L,!0);L.reset();
L.state==J?Z.download(L):(L.state=Ta,X.enqueue(L),g=!0);m.push(L.id);L._cf={};V.g.set(L.id)}C();g&&X.V();r({cmd:"u_tasks",ids:m})};V.ha=function(f,g,m){f.state==Ta&&(f.state=Ua);Z.erase(f,g);x.clear(f.id);V.g.clear(f.id);Vb.Pb(f.id);g=a(f.id);-1!=g&&V.a.splice(g,1);setTimeout(function(){mc(f.id)},200);m&&r({cmd:"u_clear",src:m})};V.Rb=function(f,g,m){k();for(var A=0,F=f.length;A<F;++A){var L=f[A];L.state==Ta&&(L.state=Ua);Z.erase(L,g);x.clear(L.id);V.g.clear(L.id)}C();K.add(Vb.Qb,f,200,!0);K.add(nc,
f,50,!1,150);m&&r({cmd:"u_clear",src:m,count:1<f.length?f.length:0})};V.xa=function(f){for(var g=[],m=V.a.length-1;0<=m;--m)f(V.a[m])&&g.push(m);return g};V.Za=function(f){return V.ra(V.xa(f),!1,"bg")};V.ra=function(f,g,m){if(!f||!f.length)return 0;console.log("Begin clearing tasks");var A=!1,F=[];k();for(var L=0;L<f.length;++L){var T=f[L],S=V.a[T];A||S.state!=J&&S.state!=Ta||(A=!0);Z.erase(S,g);x.clear(S.id);V.g.clear(S.id);F.push(S.id);V.a.splice(T,1)}C();K.add(Vb.Ob,F,200,!0);K.add(mc,F,50,!1,
150);r({cmd:"u_clear",count:F.length,src:m});A&&V.u(-1);console.log(F.length+" task(s) cleared");return F.length};var G,N;V.Wb=function(f,g){chrome.alarms.clear("auto-clear-tasks",function(){R.set("autoclear_type",f);R.set("autoclear_timer",g);w(f,g)?(R.set("autoclear_lasttime",Date.now()),chrome.alarms.create("auto-clear-tasks",{delayInMinutes:g,periodInMinutes:g})):console.log("autoclear disabled")})};chrome.alarms.onAlarm.addListener(function(f){f&&"auto-clear-tasks"==f.name&&G&&(f={type:"basic",
title:h("tipBtnClear"),priority:1,message:h("statusScheduledAutoClear",[60]),contextMessage:"@"+(new Date(Date.now()+6E4)).toLocaleString(),iconUrl:"../icons/logo/48.png"},chrome.notifications.create("int_auto_clear",f,function(){}),N&&(clearTimeout(N),N=void 0),N=setTimeout(function(){if(G){var g=V.Za(G);R.set("autoclear_lasttime",Date.now());0<g&&(g={type:"basic",title:h("tipBtnClear"),priority:1,message:h("statusTasksCleared",[g]),iconUrl:"../icons/logo/48.png"},chrome.notifications.create("int_auto_clear",
g,function(){}))}},6E4))});V.reset=function(){k();for(var f=0;f<V.a.length;++f)Z.erase(V.a[f],!1,!0,!1);V.a.splice(0,V.a.length);f=localStorage.ver1;var g=localStorage.ver1_t;localStorage.clear();f&&(localStorage.ver1=f);g&&(localStorage.ver1_t=g);Vb.clear(function(){chrome.runtime.reload()})};V.Db=function(){return K.Wa()};var K=function(){function f(){m=void 0;if(g.length){var A=g[0];if(A.Va)A.ua(A.p.slice(A.K,A.K+A.Y),A.ta);else for(var F=A.K,L=F+A.Y;F<L&&F<A.La;++F)A.ua(A.p[F],A.ta);(A.K+=A.Y)>=
A.La&&g.shift();g.length?m=setTimeout(f,g[0].iv):(r({cmd:"u_bgbusy",data:!1}),console.log("work queue empty"))}}var g=[],m;return{add:function(A,F,L,T,S,ra){S=S||150;g.push({ua:A,p:F,La:F.length,Y:L,Va:T,iv:S,K:0,ta:ra});m||(m=setTimeout(f,S),r({cmd:"u_bgbusy",data:!0}))},Wa:function(){return void 0!=m||0<g.length}}}()})();V.canFileAccess=function(){return V.P};V.setPopListOpen=function(a){V.U=a};V.isPopListOpen=function(){return V.U};V.setPopSnifferTabId=function(a){V.Ia=a};V.getUITabId=function(){return V.j};
V.getRecents=V.rb;V.getDatas=V.ob;V.task_by_id=V.ia;V.start_tasks=V.$b;V.stop_tasks=V.bc;V.restart_tasks=V.Tb;V.remove_tasks=V.Rb;V.remove_task_completely=V.ha;V.clear_tasks=V.ra;V.getFilteredTaskIndices=V.xa;V.reset=V.reset;V.update_field=V.l;V.set_auto_clear=V.Wb;V.isBusy=V.Db;V.ui_ready=V.jc;V.ui_close=V.ic;window.dy_bkg=V;
