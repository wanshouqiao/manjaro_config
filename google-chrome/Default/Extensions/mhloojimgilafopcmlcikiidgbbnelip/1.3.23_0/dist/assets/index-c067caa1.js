import{_ as i}from"./d-dialog-563b2957.js";import{w as e}from"./runtime-dom.esm-bundler-8f945973.js";import{jidicOpenBrowseApi as t,jidicOpenSearch as s,jidicOpenRankApi as o}from"./jikipedia-6a1d4eac.js";/* empty css             *//* empty css                 *//* empty css                */import{E as a}from"./el-skeleton-item-3488c43b.js";/* empty css                        *//* empty css                  *//* empty css                */import{L as r}from"./index-4f6840b9.js";import{r as l}from"./vue.runtime.esm-bundler-07884c49.js";import n from"./indexdb-76ab5eed.js";import{_ as p}from"./_plugin-vue_export-helper-1b428a4d.js";import{E as m}from"./index-e52000c7.js";import{E as c}from"./index-6ed52375.js";import{ElImage as d}from"./index-ff2d0a55.js";import{E as j}from"./index-f72b3ea9.js";import{ElButton as u}from"./index-40ae5b07.js";import{b as f,u as h,t as b}from"./reactivity.esm-bundler-72867dac.js";import{w as g,aj as v,o as x,a as k,b as w,f as y,e as _,g as C,l as A,F as S,m as D,h as E,j as B,p as M,i as z}from"./runtime-core.esm-bundler-77b13fca.js";import"./preload-helper-706a0e5c.js";import"./el-dialog-9345927c.js";import"./index-08eda97d.js";import"./_MapCache-31dad113.js";import"./isSymbol-1e3d4c76.js";import"./icon-b1cf815e.js";import"./index-11ecaac6.js";import"./focus-trap-a7ebc7ce.js";import"./aria-60e0cdc6.js";import"./style-ac750348.js";import"./index-e1484003.js";import"./index-9f7efeb4.js";import"./error-c58402b8.js";import"./scroll-f7c38f71.js";/* empty css                   */import"./utils-73d66301.js";import"./main-f5b07798.js";import"./d-text-icon-0c972c3a.js";import"./_baseClone-93129bef.js";import"./local-82fd2aea.js";import"./globStorageState-d3feed6a.js";import"./index-ea316b3a.js";import"./dayjs.min-39fed9c4.js";import"./_commonjsHelpers-e5557959.js";import"./browser-c7a4f02b.js";import"./week-7975c4f4.js";import"./global-3c385e89.js";import"./Plus-9ce421bd.js";import"./Check-63155ac6.js";import"./icon-a5a7f81d.js";import"./icon-fdb117a5.js";import"./d-calendar-9992ce38.js";import"./icon-92d26b08.js";import"./dateTime-73945ad3.js";import"./icon-0ad693e8.js";import"./dateTools-6203f8f7.js";import"./icon-e7ca50f5.js";import"./icon2-d4bc0c65.js";import"./icon3-aa79709d.js";import"./icon-73c56842.js";import"./icon-9c80e3eb.js";import"./icon-c3851054.js";import"./icon-8d5583fa.js";import"./icon-cc372385.js";import"./icon-c1c85589.js";import"./icon-5996535b.js";import"./icon-c531cb5b.js";import"./icon-e1d7edae.js";import"./notes-a9d23bdb.js";import"./icon-2b215e9e.js";import"./icon-eca13f38.js";import"./icon-51af1d1d.js";import"./stocks-0eb3a6ed.js";import"./icon-133d69b9.js";import"./icon-dd45f250.js";import"./icon-d391b03b.js";import"./todo-998e5e96.js";import"./icon-60032c73.js";import"./icon-a65bc46c.js";import"./icon-0ba8aff4.js";import"./icon-6322d102.js";import"./icon-1216e893.js";import"./icon-4fbf9766.js";/* empty css                  */import"./icon-3f2dfd1c.js";import"./icon-449c1bca.js";import"./icon-7d2de9c9.js";/* empty css                                                 */import"./Close-20719dd3.js";import"./baseRequest-a74f719c.js";import"./axios-a986ab8c.js";import"./version-62e2ec50.js";import"./localforage-5beca937.js";import"./_commonjs-dynamic-modules-3e972b61.js";import"./index-854ce82e.js";import"./index-62715ce7.js";import"./typescript-5028724d.js";import"./index-de1201fd.js";import"./index-2e34e30b.js";import"./throttle-c9305476.js";import"./debounce-c2dba7cb.js";import"./position-7d705053.js";var V={};Object.defineProperty(V,"__esModule",{value:!0});const H=l,L={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48"},R=[(0,H.createElementVNode)("g",{fill:"none"},[(0,H.createElementVNode)("path",{d:"M11.25 8.5a4.75 4.75 0 0 0-4.75 4.75v15.5a4.75 4.75 0 0 0 4.75 4.75h3.25v7.838L25.603 33.5H36.75a4.75 4.75 0 0 0 4.75-4.75v-15.5a4.75 4.75 0 0 0-4.75-4.75h-25.5zM4 13.25A7.25 7.25 0 0 1 11.25 6h25.5A7.25 7.25 0 0 1 44 13.25v15.5A7.25 7.25 0 0 1 36.75 36H26.397l-10.85 7.658C14.057 44.71 12 43.644 12 41.82V36h-.75A7.25 7.25 0 0 1 4 28.75v-15.5z",fill:"currentColor"})],-1)];var F=V.default=(0,H.defineComponent)({name:"Comment48Regular",render:function(i,e){return(0,H.openBlock)(),(0,H.createElementBlock)("svg",L,R)}}),N={};Object.defineProperty(N,"__esModule",{value:!0});const O=l,q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},P=[(0,O.createElementVNode)("path",{d:"M24.832 16.969c-.272-.647-.582-1.38-.883-2.285c-.79-2.369 1.734-4.953 1.758-4.977l-1.414-1.414c-.14.14-3.423 3.478-2.242 7.023c.326.978.652 1.75.938 2.43A9.381 9.381 0 0 1 24 22a6.24 6.24 0 0 1-4.19 5.293a8.52 8.52 0 0 0-2.103-8l-1.044-1.044l-.582 1.357c-1.836 4.284-4.021 6.154-5.306 6.934A5.844 5.844 0 0 1 8 22a9.624 9.624 0 0 1 .929-3.629A11.333 11.333 0 0 0 10 14v-1.778c.874.36 2 1.303 2 3.778v2.603l1.743-1.934c3.112-3.454 2.463-7.567 1.206-10.308A4.486 4.486 0 0 1 18 11h2c0-5.537-4.579-7-7-7h-2l1.2 1.599c.137.185 2.862 3.927 1.353 7.688A4.943 4.943 0 0 0 9 10H8v4a9.624 9.624 0 0 1-.929 3.629A11.333 11.333 0 0 0 6 22c0 3.848 3.823 8 10 8s10-4.152 10-8a11.377 11.377 0 0 0-1.168-5.031zM12.835 27.526a16.499 16.499 0 0 0 4.367-5.598a6.105 6.105 0 0 1 .257 5.971A11.321 11.321 0 0 1 16 28a10.328 10.328 0 0 1-3.165-.474z",fill:"currentColor"},null,-1)];var $=N.default=(0,O.defineComponent)({name:"Fire",render:function(i,e){return(0,O.openBlock)(),(0,O.createElementBlock)("svg",q,P)}});const G={class:"app-jikipedia d-layout"},I={class:"d-layout-content d-cell pt10"},K={class:"d-flex-between",style:{"--bg-input":"var(--bg-card)"}},T={key:0,class:"mb5 ml5"},Z={class:"d-auto-y",style:{height:"calc(100% - 40px)"}},J={class:"wallScroll d-scrollbar hfull",style:{overflow:"auto"},"infinite-scroll-distance":"50","infinite-scroll-delay":"100","infinite-scroll-immediate":!1},Q={class:"mb10 f16 b d-main"},U={class:"f13"},W={class:"jikipedia-item-imgs"},X={class:"jikipedia-item-user mt10 d-flex-between"},Y=["href"],ii=["href"],ei={class:"ac"},ti={class:"d-layout-aside ml10 mt10",style:{width:"220px"}},si={class:"pl10 pr10 pt20",style:{"background-color":"var(--bg-card)","border-radius":"6px"}},oi={class:"b f16 pb10 bb"},ai={class:"mt10"},ri=["href"],li={class:"f14 d-elip"},ni={class:"f12 d-sub mt5 d-elip"},pi=(i=>(M("data-v-5b09f788"),i=i(),z(),i))((()=>w("p",{class:"f12 d-sub"},[B(" 本页数据由 "),w("a",{style:{color:"#ffbc40"},href:"https://jikipedia.com/",target:"_blank"},"小鸡词典"),B("提供 ")],-1))),mi={name:"appJikipedia"},ci=p(Object.assign(mi,{setup(i){const l=f({listData:[],rankData:[],phrase:"",loading:!1,isSearch:!1,placeholder:""}),p={page:1,size:12};async function M(i){i?(p.page=1,l.loading=!0):p.page+=1;let e=`jidicList_${p.page}`;if(!l.isSearch){let t=await n.get(e);if(t)return l.listData=i?t:[...l.listData,...t],void(l.loading=!1)}let o=t(p);l.isSearch&&(p.phrase=l.phrase,o=s(p)),o.then((t=>{var s;let o=(null==(s=t.data)?void 0:s.data)||[];l.isSearch||n.set(e,o,18e5),l.listData=i?o:[...l.listData,...o]})).finally((()=>{l.loading=!1}))}function z(){l.phrase=""}function V(i){l.phrase||(l.phrase=l.placeholder),l.isSearch=!0,M(!0)}return M(!0),async function(){let i=await n.get("jidicRank");if(!i){i=(await o()).data||[],n.set("jidicRank",i,12e5)}l.rankData=i;let e=Math.floor(Math.random()*l.rankData.length);l.placeholder=l.rankData[e].phrase}(),g((()=>l.phrase),(i=>{!i&&l.isSearch&&(l.isSearch=!1,M(!0))})),(i,t)=>{const s=v("infinite-scroll");return x(),k("div",G,[w("div",I,[w("div",K,[y(h(m),{"prefix-icon":h(r),onClear:z,clearable:"",onKeyup:e(V,["enter"]),style:{width:"320px"},placeholder:l.placeholder,class:"mb10",modelValue:l.phrase,"onUpdate:modelValue":t[0]||(t[0]=i=>l.phrase=i)},null,8,["prefix-icon","onKeyup","placeholder","modelValue"])]),l.isSearch?(x(),k("h3",T,"搜索结果:")):_("",!0),w("div",Z,[C((x(),k("div",J,[y(h(a),{loading:l.loading,rows:3,count:1,animated:""},{default:A((()=>[(x(!0),k(S,null,D(l.listData,(i=>(x(),E(h(c),{class:"mb10 jikipedia-item",key:i.id},{default:A((()=>[w("h2",Q,b(i.texts[0].content),1),w("p",U,b(i.texts[1].content),1),w("ul",W,[(x(!0),k(S,null,D(i.images,((e,t)=>(x(),E(h(d),{"preview-teleported":"","hide-on-click-modal":"",fit:"cover","initial-index":t,previewSrcList:i.images.map((i=>i.path)),key:t,src:e.path},null,8,["initial-index","previewSrcList","src"])))),128))]),w("ul",X,[(x(!0),k(S,null,D(i.users,(i=>(x(),k("a",{class:"d-sub f12",target:"_blank",key:i.id,href:i.path},b(i.name),9,Y)))),128)),w("a",{class:"d-sub f12 mr20",target:"_blank",href:i.path},[y(h(j),{size:18},{default:A((()=>[y(h(F))])),_:1})],8,ii)])])),_:2},1024)))),128))])),_:1},8,["loading"]),w("p",ei,[y(h(u),{onClick:t[1]||(t[1]=i=>M())},{default:A((()=>[B("加载更多")])),_:1})])])),[[s,M]])])]),w("div",ti,[w("div",si,[w("h2",oi,[y(h(j),{color:"#fe2d46",style:{"vertical-align":"-1px"}},{default:A((()=>[y(h($))])),_:1}),B("热门搜索 ")]),w("ul",ai,[(x(!0),k(S,null,D(l.rankData,((i,e)=>(x(),k("a",{href:`https://jikipedia.com/search?phrase=${i.phrase}`,target:"_blank",key:e,class:"mb10 bb pb5 jikiRank-item"},[w("i",null,b(e+1),1),w("span",null,[w("h2",li,b(i.phrase),1),w("p",ni,b(i.desc),1)])],8,ri)))),128))])]),pi])])}}}),[["__scopeId","data-v-5b09f788"]]),di={__name:"index",setup:e=>(e,t)=>(x(),E(i,{destroyOnClose:!0},{default:A((()=>[y(ci)])),_:1}))};export{di as default};
