import{w as e,a}from"./runtime-dom.esm-bundler-8f945973.js";import{d as t,r as i,u as l,a as n,t as o,n as s,J as r}from"./reactivity.esm-bundler-72867dac.js";import{b as c,d as u,E as d,_ as v,w as m}from"./index-f72b3ea9.js";import{l as p}from"./index-4f6840b9.js";import{i as f}from"./icon-b1cf815e.js";import{i as y}from"./validator-c5991710.js";import{U as b,C as h,I as g}from"./focus-trap-a7ebc7ce.js";import{i as k,c as x,a as I}from"./style-ac750348.js";import{u as C,a as V}from"./index-2e34e30b.js";import{u as S,d as w}from"./index-62715ce7.js";import{u as j}from"./index-08eda97d.js";import{a as T}from"./index-9f7efeb4.js";import{d as B,t as _}from"./error-c58402b8.js";import{q as N,c as E,w as P,t as z,o as K,a as U,b as q,h as A,l as F,r as H,e as J,f as $,k as D,v as G}from"./runtime-core.esm-bundler-77b13fca.js";const L=c({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:f},inactiveIcon:{type:f},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:u(Function)},size:{type:String,validator:y},tabindex:{type:[String,Number]}}),M={[b]:e=>k(e)||t(e)||x(e),[h]:e=>k(e)||t(e)||x(e),[g]:e=>k(e)||t(e)||x(e)},O=["onClick"],Q=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],R=["aria-hidden"],W=["aria-hidden"],X=["aria-hidden"],Y="ElSwitch",Z=N({name:Y});const ee=m(v(N({...Z,props:L,emits:M,setup(t,{expose:c,emit:u}){const v=t,m=D(),{formItem:f}=C(),y=S(),x=j("switch");T({from:'"value"',replacement:'"model-value" or "v-model"',scope:Y,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},E((()=>{var e;return!!(null==(e=m.vnode.props)?void 0:e.value)})));const{inputId:N}=V(v,{formItemContext:f}),L=w(E((()=>v.loading))),M=i(!1!==v.modelValue),Z=i(),ee=i(),ae=E((()=>[x.b(),x.m(y.value),x.is("disabled",L.value),x.is("checked",le.value)])),te=E((()=>({width:I(v.width)})));P((()=>v.modelValue),(()=>{M.value=!0})),P((()=>v.value),(()=>{M.value=!1}));const ie=E((()=>M.value?v.modelValue:v.value)),le=E((()=>ie.value===v.activeValue));[v.activeValue,v.inactiveValue].includes(ie.value)||(u(b,v.inactiveValue),u(h,v.inactiveValue),u(g,v.inactiveValue)),P(le,(e=>{var a;Z.value.checked=e,v.validateEvent&&(null==(a=null==f?void 0:f.validate)||a.call(f,"change").catch((e=>B())))}));const ne=()=>{const e=le.value?v.inactiveValue:v.activeValue;u(b,e),u(h,e),u(g,e),G((()=>{Z.value.checked=le.value}))},oe=()=>{if(L.value)return;const{beforeChange:e}=v;if(!e)return void ne();const a=e();[r(a),k(a)].includes(!0)||_(Y,"beforeChange must return type `Promise<boolean>` or `boolean`"),r(a)?a.then((e=>{e&&ne()})).catch((e=>{})):a&&ne()},se=E((()=>x.cssVarBlock({...v.activeColor?{"on-color":v.activeColor}:null,...v.inactiveColor?{"off-color":v.inactiveColor}:null,...v.borderColor?{"border-color":v.borderColor}:null})));return z((()=>{Z.value.checked=le.value})),c({focus:()=>{var e,a;null==(a=null==(e=Z.value)?void 0:e.focus)||a.call(e)},checked:le}),(t,i)=>(K(),U("div",{class:n(l(ae)),style:s(l(se)),onClick:a(oe,["prevent"])},[q("input",{id:l(N),ref_key:"input",ref:Z,class:n(l(x).e("input")),type:"checkbox",role:"switch","aria-checked":l(le),"aria-disabled":l(L),name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:l(L),tabindex:t.tabindex,onChange:ne,onKeydown:e(oe,["enter"])},null,42,Q),t.inlinePrompt||!t.inactiveIcon&&!t.inactiveText?J("v-if",!0):(K(),U("span",{key:0,class:n([l(x).e("label"),l(x).em("label","left"),l(x).is("active",!l(le))])},[t.inactiveIcon?(K(),A(l(d),{key:0},{default:F((()=>[(K(),A(H(t.inactiveIcon)))])),_:1})):J("v-if",!0),!t.inactiveIcon&&t.inactiveText?(K(),U("span",{key:1,"aria-hidden":l(le)},o(t.inactiveText),9,R)):J("v-if",!0)],2)),q("span",{ref_key:"core",ref:ee,class:n(l(x).e("core")),style:s(l(te))},[t.inlinePrompt?(K(),U("div",{key:0,class:n(l(x).e("inner"))},[t.activeIcon||t.inactiveIcon?(K(),A(l(d),{key:0,class:n(l(x).is("icon"))},{default:F((()=>[(K(),A(H(l(le)?t.activeIcon:t.inactiveIcon)))])),_:1},8,["class"])):t.activeText||t.inactiveText?(K(),U("span",{key:1,class:n(l(x).is("text")),"aria-hidden":!l(le)},o(l(le)?t.activeText:t.inactiveText),11,W)):J("v-if",!0)],2)):J("v-if",!0),q("div",{class:n(l(x).e("action"))},[t.loading?(K(),A(l(d),{key:0,class:n(l(x).is("loading"))},{default:F((()=>[$(l(p))])),_:1},8,["class"])):J("v-if",!0)],2)],6),t.inlinePrompt||!t.activeIcon&&!t.activeText?J("v-if",!0):(K(),U("span",{key:1,class:n([l(x).e("label"),l(x).em("label","right"),l(x).is("active",l(le))])},[t.activeIcon?(K(),A(l(d),{key:0},{default:F((()=>[(K(),A(H(t.activeIcon)))])),_:1})):J("v-if",!0),!t.activeIcon&&t.activeText?(K(),U("span",{key:1,"aria-hidden":!l(le)},o(t.activeText),9,X)):J("v-if",!0)],2))],14,O))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{ee as E};
