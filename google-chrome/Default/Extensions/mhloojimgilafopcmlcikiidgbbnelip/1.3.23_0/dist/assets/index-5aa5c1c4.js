import{_ as i}from"./d-dialog-563b2957.js";import{b as o}from"./runtime-dom.esm-bundler-8f945973.js";import{d as e}from"./dayjs.min-39fed9c4.js";/* empty css             *//* empty css                   */import{o as s,b as t}from"./main-f5b07798.js";import{yiyanInfoApi as a,yiyanLikeApi as r,yiyanShareApi as n}from"./yiyan-c73094b7.js";import{getRandomInt as l,copyText as m}from"./utils-73d66301.js";import{g as p}from"./index-ea316b3a.js";import{l as c}from"./local-82fd2aea.js";import{w as d}from"./week-7975c4f4.js";import{_ as j}from"./_plugin-vue_export-helper-1b428a4d.js";import{q as u,o as y,a as v,b as f,w as g,v as h,u as x,j as w,g as k,f as _,e as b,h as C,l as Y}from"./runtime-core.esm-bundler-77b13fca.js";import{ElMessage as z}from"./index-da9a90a7.js";import{r as M,b as A,t as D,a as L,u as H,n as B}from"./reactivity.esm-bundler-72867dac.js";import"./preload-helper-706a0e5c.js";import"./el-dialog-9345927c.js";import"./index-f72b3ea9.js";import"./index-08eda97d.js";import"./_MapCache-31dad113.js";import"./isSymbol-1e3d4c76.js";import"./style-ac750348.js";import"./icon-b1cf815e.js";import"./index-4f6840b9.js";import"./index-11ecaac6.js";import"./focus-trap-a7ebc7ce.js";import"./aria-60e0cdc6.js";import"./index-e1484003.js";import"./index-9f7efeb4.js";import"./error-c58402b8.js";import"./scroll-f7c38f71.js";/* empty css                   *//* empty css                                                 */import"./Close-20719dd3.js";import"./_commonjsHelpers-e5557959.js";import"./d-text-icon-0c972c3a.js";import"./_baseClone-93129bef.js";import"./globStorageState-d3feed6a.js";import"./browser-c7a4f02b.js";import"./vue.runtime.esm-bundler-07884c49.js";import"./global-3c385e89.js";import"./Plus-9ce421bd.js";import"./Check-63155ac6.js";import"./icon-a5a7f81d.js";import"./icon-fdb117a5.js";import"./d-calendar-9992ce38.js";import"./icon-92d26b08.js";import"./dateTime-73945ad3.js";import"./icon-0ad693e8.js";import"./dateTools-6203f8f7.js";import"./icon-e7ca50f5.js";import"./icon2-d4bc0c65.js";import"./icon3-aa79709d.js";import"./icon-73c56842.js";import"./icon-9c80e3eb.js";import"./icon-c3851054.js";import"./icon-8d5583fa.js";import"./icon-cc372385.js";import"./icon-c1c85589.js";import"./icon-5996535b.js";import"./icon-c531cb5b.js";import"./icon-e1d7edae.js";import"./notes-a9d23bdb.js";import"./icon-2b215e9e.js";import"./icon-eca13f38.js";import"./icon-51af1d1d.js";import"./stocks-0eb3a6ed.js";import"./icon-133d69b9.js";import"./icon-dd45f250.js";import"./icon-d391b03b.js";import"./todo-998e5e96.js";import"./icon-60032c73.js";import"./icon-a65bc46c.js";import"./icon-0ba8aff4.js";import"./icon-6322d102.js";import"./icon-1216e893.js";import"./icon-4fbf9766.js";/* empty css                 *//* empty css                  */import"./icon-3f2dfd1c.js";import"./icon-449c1bca.js";import"./icon-7d2de9c9.js";import"./baseRequest-a74f719c.js";import"./axios-a986ab8c.js";import"./version-62e2ec50.js";import"./config-provider-6b9f90d0.js";import"./index-62715ce7.js";import"./index-854ce82e.js";import"./typescript-5028724d.js";const $={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},F=[f("g",{fill:"none"},[f("path",{d:"M3 5.25A2.25 2.25 0 0 1 5.25 3h1.865a.75.75 0 1 1 0 1.5H5.25a.75.75 0 0 0-.75.75v1.865a.75.75 0 1 1-1.5 0V5.25zm9.135-1.5a.75.75 0 0 1 .75-.75h1.865A2.25 2.25 0 0 1 17 5.25v1.865a.75.75 0 0 1-1.5 0V5.25a.75.75 0 0 0-.75-.75h-1.865a.75.75 0 0 1-.75-.75zM3.75 12.135a.75.75 0 0 1 .75.75v1.865c0 .414.336.75.75.75h1.865a.75.75 0 0 1 0 1.5H5.25A2.25 2.25 0 0 1 3 14.75v-1.865a.75.75 0 0 1 .75-.75zm12.5 0a.75.75 0 0 1 .75.75v1.865A2.25 2.25 0 0 1 14.75 17h-1.865a.75.75 0 0 1 0-1.5h1.865a.75.75 0 0 0 .75-.75v-1.865a.75.75 0 0 1 .75-.75z",fill:"currentColor"})],-1)],I=u({name:"FullScreenMaximize20Filled",render:function(i,o){return y(),v("svg",$,F)}}),V={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},q=[f("g",{fill:"none"},[f("path",{d:"M12.82 5.58l-.82.822l-.824-.824a5.375 5.375 0 1 0-7.601 7.602l7.895 7.895a.75.75 0 0 0 1.06 0l7.902-7.897a5.376 5.376 0 0 0-.001-7.599a5.38 5.38 0 0 0-7.611 0zm6.548 6.54L12 19.485L4.635 12.12a3.875 3.875 0 1 1 5.48-5.48l1.358 1.357a.75.75 0 0 0 1.073-.012L13.88 6.64a3.88 3.88 0 0 1 5.487 5.48z",fill:"currentColor"})],-1)],S=u({name:"Heart24Regular",render:function(i,o){return y(),v("svg",V,q)}}),R={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},T=[f("g",{fill:"none"},[f("path",{d:"M7.5 2A2.5 2.5 0 0 0 5 4.5v8A2.5 2.5 0 0 0 7.5 15h8a2.5 2.5 0 0 0 2.5-2.5v-8A2.5 2.5 0 0 0 15.5 2h-8zM17 4.5V5h-6.5a.5.5 0 0 1-.5-.5V3h5.5A1.5 1.5 0 0 1 17 4.5zm-8 0A1.5 1.5 0 0 0 10.5 6H17v6.5a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 6 12.5v-8A1.5 1.5 0 0 1 7.5 3H9v1.5zM12.5 18a2.5 2.5 0 0 0 2.45-2h-1.035a1.5 1.5 0 0 1-1.415 1H6a3 3 0 0 1-3-3V7.5a1.5 1.5 0 0 1 1-1.415V5.05A2.5 2.5 0 0 0 2 7.5V14a4 4 0 0 0 4 4h6.5z",fill:"currentColor"})],-1)],E=u({name:"TabDesktopCopy20Regular",render:function(i,o){return y(),v("svg",R,T)}}),G={class:"app-yiyan-body ac d-relative pt50",style:{"z-index":"1"}},O={class:"f14"},K={class:"app-yiyan-text"},N={class:"app-yiyan-footer"},P={key:0,class:"yiyan-icon"},Z={class:"f12 number"},J={class:"f12 number"},Q=j({__name:"Content",setup(i){const j=M(null),{toggle:u,isFullscreen:C}=p(j),Y=A({randomBg:l(7),isLikeClick:!1,isLike:!1,isFullScreen:!1,date:"",day:""}),$=M(c.get("app-yiyan")||{});var F;a(F).then((i=>{$.value=i.data||{}})),q();let V=null;function q(i=!1){let o=d[e().day()];i?(Y.date=`${e().format("YYYY.MM.DD")} 星期${o}`,Y.day=e().format("HH:mm:ss")):(Y.date=`${e().format("YYYY.MM")} 星期${o}`,Y.day=e().format("DD"))}function R(i){Y.isLike=!1;let o=e($.value.date).valueOf();"next"==i?o+=864e5:o-=864e5;let s=e(o).format("YYYYMMDD");s>e().format("YYYYMMDD")?z.warning("明天怎么翻也翻不过去"):s<20220706?z.warning("不能再往前查看了"):a({date:s}).then((i=>{$.value=i.data||{},Y.randomBg=l(7);let o=d[e($.value.date).day()];Y.date=`${e($.value.date).format("YYYY.MM")} 星期${o}`,Y.day=e($.value.date).format("DD")}))}function T(i){"F11"===i.code&&(i.preventDefault(),u())}function Q(){Y.isLike=!Y.isLike,Y.isLike&&(r({_id:$.value._id}).then((i=>{$.value=i.data||{},c.set("app-yiyan",i.data||{})})),Y.isLikeClick=!0,setTimeout((()=>{Y.isLikeClick=!1}),600))}function U(){m($.value.content),z.success("已复制到剪贴板"),n({_id:$.value._id}).then((i=>{$.value=i.data||{}}))}return V&&clearInterval(V),g(C,(i=>{q(i),i?(V&&clearInterval(V),V=setInterval((()=>{q(i)}),1e3)):V&&clearInterval(V)})),h((()=>{s(document,"keydown",T)})),x((()=>{clearInterval(V),t(document,"keydown",T)})),(i,e)=>(y(),v("div",{ref_key:"yiyanRef",ref:j,class:"app-yiyan-wrap d-relative hfull",style:B(`background-image:url(https://files.codelife.cc/itab/widget/yiyan/${Y.randomBg}.jpg?x-oss-process=image/resize,limit_0,m_fill,w_1920,h_1080/quality,q_90)`)},[f("div",G,[f("i",{class:"prev arrow-icon d-icon",onClick:e[0]||(e[0]=i=>R("prev"))}),f("i",{class:"next arrow-icon d-icon",onClick:e[1]||(e[1]=i=>R("next"))}),f("span",O,D(Y.date),1),f("p",{class:L(["app-yiyan-day",{fullscreen:H(C)}])},D(Y.day),3),f("p",K,[w(D($.value.content)+" ",1),k(f("span",{class:"app-yiyan-author f12 d-block",style:{opacity:".4","font-weight":"400"}}," -"+D($.value.author),513),[[o,$.value.author]])]),f("p",N,[H(C)?b("",!0):(y(),v("span",P,[f("i",{title:"分享",onClick:U,class:"d-icon",style:{"font-size":"30px"}},[_(H(E))]),f("em",Z,D($.value.share||0),1)])),f("span",{class:L(["yiyan-icon",{fullscreen:H(C)}])},[f("i",{class:"d-icon",title:"设为屏保",onClick:e[2]||(e[2]=(...i)=>H(u)&&H(u)(...i)),style:{"font-size":"30px"}},[_(H(I))])],2),H(C)?b("",!0):(y(),v("span",{key:1,class:L(["yiyan-icon yiyan-like",[{like:Y.isLike},{click:Y.isLikeClick}]])},[f("i",{title:"喜欢",class:"d-icon",style:{"font-size":"30px"},onClick:Q},[_(H(S),{class:"heart"})]),f("em",J,D($.value.like||0),1)],2))])])],4))}},[["__scopeId","data-v-5469c35e"]]),U={__name:"index",setup:o=>(o,e)=>(y(),C(i,{width:"860px",height:"550px",destroyOnClose:!0},{default:Y((()=>[_(Q)])),_:1}))};export{U as default};
