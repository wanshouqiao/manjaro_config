/* empty css             */import{E as e}from"./el-input-number-df4ef677.js";/* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                  */import{SAVE_CONFIG as a}from"./save_config-35e78de8.js";import{_ as t}from"./_plugin-vue_export-helper-1b428a4d.js";import{a as l,E as i}from"./index-ece06083.js";import{b as o,d as n,_ as r,w as s}from"./index-f72b3ea9.js";import{b as u,u as d}from"./index-62715ce7.js";import{h as m,r as p,a2 as v,b as c,aa as g,t as f,u as b,a as y,n as h,d as V}from"./reactivity.esm-bundler-72867dac.js";import{U as w,I as x,C as S}from"./focus-trap-a7ebc7ce.js";import{c as k}from"./style-ac750348.js";import{u as B}from"./index-08eda97d.js";import{E as C}from"./aria-60e0cdc6.js";import{t as j,v as E,c as z,y as L,w as N,q as T,o as M,a as P,f as D,l as I,b as F,n as _,ag as X,h as Y,e as A,F as U,m as W,K as $,a6 as K}from"./runtime-core.esm-bundler-77b13fca.js";import{d as R}from"./debounce-c2dba7cb.js";import{u as O}from"./index-11ecaac6.js";import{u as q,a as H}from"./index-2e34e30b.js";import{t as G,d as J}from"./error-c58402b8.js";import{b as Q}from"./index-854ce82e.js";const Z=Symbol("sliderContextKey"),ee=o({modelValue:{type:n([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:u,inputSize:u,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:n(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:n(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:l,default:"top"},marks:{type:n(Object)},validateEvent:{type:Boolean,default:!0}}),ae=e=>k(e)||m(e)&&e.every(k),te={[w]:ae,[x]:ae,[S]:ae},le=(e,a,t)=>{const{form:l,formItem:i}=q(),o=v(),n=p(),r=p(),s={firstButton:n,secondButton:r},u=z((()=>e.disabled||(null==l?void 0:l.disabled)||!1)),d=z((()=>Math.min(a.firstValue,a.secondValue))),m=z((()=>Math.max(a.firstValue,a.secondValue))),c=z((()=>e.range?100*(m.value-d.value)/(e.max-e.min)+"%":100*(a.firstValue-e.min)/(e.max-e.min)+"%")),g=z((()=>e.range?100*(d.value-e.min)/(e.max-e.min)+"%":"0%")),f=z((()=>e.vertical?{height:e.height}:{})),b=z((()=>e.vertical?{height:c.value,bottom:g.value}:{width:c.value,left:g.value})),y=()=>{o.value&&(a.sliderSize=o.value["client"+(e.vertical?"Height":"Width")])},h=t=>{const l=(t=>{const l=e.min+t*(e.max-e.min)/100;if(!e.range)return n;let i;return i=Math.abs(d.value-l)<Math.abs(m.value-l)?a.firstValue<a.secondValue?"firstButton":"secondButton":a.firstValue>a.secondValue?"firstButton":"secondButton",s[i]})(t);return l.value.setPosition(t),l},V=e=>{t(w,e),t(x,e)},k=async()=>{await E(),t(S,e.range?[d.value,m.value]:e.modelValue)},B=t=>{var l,i,n,r,s,d;if(u.value||a.dragging)return;y();let m=0;if(e.vertical){const e=null!=(n=null==(i=null==(l=t.touches)?void 0:l.item(0))?void 0:i.clientY)?n:t.clientY;m=(o.value.getBoundingClientRect().bottom-e)/a.sliderSize*100}else{m=((null!=(d=null==(s=null==(r=t.touches)?void 0:r.item(0))?void 0:s.clientX)?d:t.clientX)-o.value.getBoundingClientRect().left)/a.sliderSize*100}return m<0||m>100?void 0:h(m)};return{elFormItem:i,slider:o,firstButton:n,secondButton:r,sliderDisabled:u,minValue:d,maxValue:m,runwayStyle:f,barStyle:b,resetSize:y,setPosition:h,emitChange:k,onSliderWrapperPrevent:e=>{var a,t;((null==(a=s.firstButton.value)?void 0:a.dragging)||(null==(t=s.secondButton.value)?void 0:t.dragging))&&e.preventDefault()},onSliderClick:e=>{B(e)&&k()},onSliderDown:async e=>{const a=B(e);a&&(await E(),a.value.onButtonDown(e))},setFirstValue:t=>{a.firstValue=t,V(e.range?[d.value,m.value]:t)},setSecondValue:t=>{a.secondValue=t,e.range&&V([d.value,m.value])}}},{left:ie,down:oe,right:ne,up:re,home:se,end:ue,pageUp:de,pageDown:me}=C,pe=(e,a,t)=>{const{disabled:l,min:i,max:o,step:n,showTooltip:r,precision:s,sliderSize:u,formatTooltip:d,emitChange:m,resetSize:v,updateDragging:c}=L(Z),{tooltip:g,tooltipVisible:f,formatValue:b,displayTooltip:y,hideTooltip:h}=((e,a,t)=>{const l=p(),i=p(!1),o=z((()=>a.value instanceof Function)),n=z((()=>o.value&&a.value(e.modelValue)||e.modelValue)),r=R((()=>{t.value&&(i.value=!0)}),50),s=R((()=>{t.value&&(i.value=!1)}),50);return{tooltip:l,tooltipVisible:i,formatValue:n,displayTooltip:r,hideTooltip:s}})(e,d,r),V=p(),x=z((()=>(e.modelValue-i.value)/(o.value-i.value)*100+"%")),S=z((()=>e.vertical?{bottom:x.value}:{left:x.value})),k=e=>{l.value||(a.newPosition=Number.parseFloat(x.value)+e/(o.value-i.value)*100,M(a.newPosition),m())},B=e=>{let a,t;return e.type.startsWith("touch")?(t=e.touches[0].clientY,a=e.touches[0].clientX):(t=e.clientY,a=e.clientX),{clientX:a,clientY:t}},C=t=>{a.dragging=!0,a.isClick=!0;const{clientX:l,clientY:i}=B(t);e.vertical?a.startY=i:a.startX=l,a.startPosition=Number.parseFloat(x.value),a.newPosition=a.startPosition},j=t=>{if(a.dragging){let l;a.isClick=!1,y(),v();const{clientX:i,clientY:o}=B(t);e.vertical?(a.currentY=o,l=(a.startY-a.currentY)/u.value*100):(a.currentX=i,l=(a.currentX-a.startX)/u.value*100),a.newPosition=a.startPosition+l,M(a.newPosition)}},T=()=>{a.dragging&&(setTimeout((()=>{a.dragging=!1,a.hovering||h(),a.isClick||M(a.newPosition),m()}),0),window.removeEventListener("mousemove",j),window.removeEventListener("touchmove",j),window.removeEventListener("mouseup",T),window.removeEventListener("touchend",T),window.removeEventListener("contextmenu",T))},M=async l=>{if(null===l||Number.isNaN(+l))return;l<0?l=0:l>100&&(l=100);const r=100/((o.value-i.value)/n.value);let u=Math.round(l/r)*r*(o.value-i.value)*.01+i.value;u=Number.parseFloat(u.toFixed(s.value)),u!==e.modelValue&&t(w,u),a.dragging||e.modelValue===a.oldValue||(a.oldValue=e.modelValue),await E(),a.dragging&&y(),g.value.updatePopper()};return N((()=>a.dragging),(e=>{c(e)})),{disabled:l,button:V,tooltip:g,tooltipVisible:f,showTooltip:r,wrapperStyle:S,formatValue:b,handleMouseEnter:()=>{a.hovering=!0,y()},handleMouseLeave:()=>{a.hovering=!1,a.dragging||h()},onButtonDown:e=>{l.value||(e.preventDefault(),C(e),window.addEventListener("mousemove",j),window.addEventListener("touchmove",j),window.addEventListener("mouseup",T),window.addEventListener("touchend",T),window.addEventListener("contextmenu",T),V.value.focus())},onKeyDown:e=>{let a=!0;[ie,oe].includes(e.key)?k(-n.value):[ne,re].includes(e.key)?k(n.value):e.key===se?l.value||(M(0),m()):e.key===ue?l.value||(M(100),m()):e.key===me?k(4*-n.value):e.key===de?k(4*n.value):a=!1,a&&e.preventDefault()},setPosition:M}},ve=o({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:l,default:"top"}}),ce={[w]:e=>k(e)},ge=["tabindex"],fe=T({name:"ElSliderButton"});var be=r(T({...fe,props:ve,emits:ce,setup(e,{expose:a,emit:t}){const l=e,o=B("slider"),n=c({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:l.modelValue}),{disabled:r,button:s,tooltip:u,showTooltip:d,tooltipVisible:m,wrapperStyle:p,formatValue:v,handleMouseEnter:V,handleMouseLeave:w,onButtonDown:x,onKeyDown:S,setPosition:k}=pe(l,n,t),{hovering:C,dragging:j}=g(n);return a({onButtonDown:x,onKeyDown:S,setPosition:k,hovering:C,dragging:j}),(e,a)=>(M(),P("div",{ref_key:"button",ref:s,class:y([b(o).e("button-wrapper"),{hover:b(C),dragging:b(j)}]),style:h(b(p)),tabindex:b(r)?-1:0,onMouseenter:a[0]||(a[0]=(...e)=>b(V)&&b(V)(...e)),onMouseleave:a[1]||(a[1]=(...e)=>b(w)&&b(w)(...e)),onMousedown:a[2]||(a[2]=(...e)=>b(x)&&b(x)(...e)),onTouchstart:a[3]||(a[3]=(...e)=>b(x)&&b(x)(...e)),onFocus:a[4]||(a[4]=(...e)=>b(V)&&b(V)(...e)),onBlur:a[5]||(a[5]=(...e)=>b(w)&&b(w)(...e)),onKeydown:a[6]||(a[6]=(...e)=>b(S)&&b(S)(...e))},[D(b(i),{ref_key:"tooltip",ref:u,visible:b(m),placement:e.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!b(d),persistent:""},{content:I((()=>[F("span",null,f(b(v)),1)])),default:I((()=>[F("div",{class:y([b(o).e("button"),{hover:b(C),dragging:b(j)}])},null,2)])),_:1},8,["visible","placement","popper-class","disabled"])],46,ge))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);var ye=T({name:"ElSliderMarker",props:o({mark:{type:n([String,Object]),default:void 0}}),setup(e){const a=B("slider"),t=z((()=>V(e.mark)?e.mark:e.mark.label)),l=z((()=>V(e.mark)?void 0:e.mark.style));return()=>_("div",{class:a.e("marks-text"),style:l.value},t.value)}});const he=["id","role","aria-label","aria-labelledby"],Ve={key:1},we=T({name:"ElSlider"});const xe=s(r(T({...we,props:ee,emits:te,setup(a,{expose:t,emit:l}){const i=a,o=B("slider"),{t:n}=O(),r=c({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:u,firstButton:m,secondButton:v,sliderDisabled:f,minValue:V,maxValue:S,runwayStyle:k,barStyle:C,resetSize:L,emitChange:T,onSliderWrapperPrevent:I,onSliderClick:_,onSliderDown:$,setFirstValue:K,setSecondValue:R}=le(i,r,l),{stops:q,getStopStyle:ee}=((e,a,t,l)=>({stops:z((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return[];const i=(e.max-e.min)/e.step,o=100*e.step/(e.max-e.min),n=Array.from({length:i-1}).map(((e,a)=>(a+1)*o));return e.range?n.filter((a=>a<100*(t.value-e.min)/(e.max-e.min)||a>100*(l.value-e.min)/(e.max-e.min))):n.filter((t=>t>100*(a.firstValue-e.min)/(e.max-e.min)))})),getStopStyle:a=>e.vertical?{bottom:`${a}%`}:{left:`${a}%`}}))(i,r,V,S),{inputId:ae,isLabeledByFormItem:te}=H(i,{formItemContext:s}),ie=d(),oe=z((()=>i.inputSize||ie.value)),ne=z((()=>i.label||n("el.slider.defaultLabel",{min:i.min,max:i.max}))),re=z((()=>i.range?i.rangeStartLabel||n("el.slider.defaultRangeStartLabel"):ne.value)),se=z((()=>i.formatValueText?i.formatValueText(ge.value):`${ge.value}`)),ue=z((()=>i.rangeEndLabel||n("el.slider.defaultRangeEndLabel"))),de=z((()=>i.formatValueText?i.formatValueText(fe.value):`${fe.value}`)),me=z((()=>[o.b(),o.m(ie.value),o.is("vertical",i.vertical),{[o.m("with-input")]:i.showInput}])),pe=(e=>z((()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort(((e,a)=>e-a)).filter((a=>a<=e.max&&a>=e.min)).map((a=>({point:a,position:100*(a-e.min)/(e.max-e.min),mark:e.marks[a]}))):[])))(i);((e,a,t,l,i,o)=>{const n=e=>{i(w,e),i(x,e)},r=()=>e.range?![t.value,l.value].every(((e,t)=>e===a.oldValue[t])):e.modelValue!==a.oldValue,s=()=>{var t,l;if(e.min>e.max)return void G("Slider","min should not be greater than max.");const i=e.modelValue;e.range&&Array.isArray(i)?i[1]<e.min?n([e.min,e.min]):i[0]>e.max?n([e.max,e.max]):i[0]<e.min?n([e.min,i[1]]):i[1]>e.max?n([i[0],e.max]):(a.firstValue=i[0],a.secondValue=i[1],r()&&(e.validateEvent&&(null==(t=null==o?void 0:o.validate)||t.call(o,"change").catch((e=>J()))),a.oldValue=i.slice())):e.range||"number"!=typeof i||Number.isNaN(i)||(i<e.min?n(e.min):i>e.max?n(e.max):(a.firstValue=i,r()&&(e.validateEvent&&(null==(l=null==o?void 0:o.validate)||l.call(o,"change").catch((e=>J()))),a.oldValue=i)))};s(),N((()=>a.dragging),(e=>{e||s()})),N((()=>e.modelValue),((e,t)=>{a.dragging||Array.isArray(e)&&Array.isArray(t)&&e.every(((e,a)=>e===t[a]))&&a.firstValue===e[0]&&a.secondValue===e[1]||s()}),{deep:!0}),N((()=>[e.min,e.max]),(()=>{s()}))})(i,r,V,S,l,s);const ve=z((()=>{const e=[i.min,i.max,i.step].map((e=>{const a=`${e}`.split(".")[1];return a?a.length:0}));return Math.max.apply(null,e)})),{sliderWrapper:ce}=((e,a,t)=>{const l=p();return j((async()=>{e.range?(Array.isArray(e.modelValue)?(a.firstValue=Math.max(e.min,e.modelValue[0]),a.secondValue=Math.min(e.max,e.modelValue[1])):(a.firstValue=e.min,a.secondValue=e.max),a.oldValue=[a.firstValue,a.secondValue]):("number"!=typeof e.modelValue||Number.isNaN(e.modelValue)?a.firstValue=e.min:a.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),a.oldValue=a.firstValue),Q(window,"resize",t),await E(),t()})),{sliderWrapper:l}})(i,r,L),{firstValue:ge,secondValue:fe,sliderSize:we}=g(r);return X(Z,{...g(i),sliderSize:we,disabled:f,precision:ve,emitChange:T,resetSize:L,updateDragging:e=>{r.dragging=e}}),t({onSliderClick:_}),(a,t)=>{var l,i;return M(),P("div",{id:a.range?b(ae):void 0,ref_key:"sliderWrapper",ref:ce,class:y(b(me)),role:a.range?"group":void 0,"aria-label":a.range&&!b(te)?b(ne):void 0,"aria-labelledby":a.range&&b(te)?null==(l=b(s))?void 0:l.labelId:void 0,onTouchstart:t[2]||(t[2]=(...e)=>b(I)&&b(I)(...e)),onTouchmove:t[3]||(t[3]=(...e)=>b(I)&&b(I)(...e))},[F("div",{ref_key:"slider",ref:u,class:y([b(o).e("runway"),{"show-input":a.showInput&&!a.range},b(o).is("disabled",b(f))]),style:h(b(k)),onMousedown:t[0]||(t[0]=(...e)=>b($)&&b($)(...e)),onTouchstart:t[1]||(t[1]=(...e)=>b($)&&b($)(...e))},[F("div",{class:y(b(o).e("bar")),style:h(b(C))},null,6),D(be,{id:a.range?void 0:b(ae),ref_key:"firstButton",ref:m,"model-value":b(ge),vertical:a.vertical,"tooltip-class":a.tooltipClass,placement:a.placement,role:"slider","aria-label":a.range||!b(te)?b(re):void 0,"aria-labelledby":!a.range&&b(te)?null==(i=b(s))?void 0:i.labelId:void 0,"aria-valuemin":a.min,"aria-valuemax":a.range?b(fe):a.max,"aria-valuenow":b(ge),"aria-valuetext":b(se),"aria-orientation":a.vertical?"vertical":"horizontal","aria-disabled":b(f),"onUpdate:modelValue":b(K)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),a.range?(M(),Y(be,{key:0,ref_key:"secondButton",ref:v,"model-value":b(fe),vertical:a.vertical,"tooltip-class":a.tooltipClass,placement:a.placement,role:"slider","aria-label":b(ue),"aria-valuemin":b(ge),"aria-valuemax":a.max,"aria-valuenow":b(fe),"aria-valuetext":b(de),"aria-orientation":a.vertical?"vertical":"horizontal","aria-disabled":b(f),"onUpdate:modelValue":b(R)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):A("v-if",!0),a.showStops?(M(),P("div",Ve,[(M(!0),P(U,null,W(b(q),((e,a)=>(M(),P("div",{key:a,class:y(b(o).e("stop")),style:h(b(ee)(e))},null,6)))),128))])):A("v-if",!0),b(pe).length>0?(M(),P(U,{key:2},[F("div",null,[(M(!0),P(U,null,W(b(pe),((e,a)=>(M(),P("div",{key:a,style:h(b(ee)(e.position)),class:y([b(o).e("stop"),b(o).e("marks-stop")])},null,6)))),128))]),F("div",{class:y(b(o).e("marks"))},[(M(!0),P(U,null,W(b(pe),((e,a)=>(M(),Y(b(ye),{key:a,mark:e.mark,style:h(b(ee)(e.position))},null,8,["mark","style"])))),128))],2)],64)):A("v-if",!0)],38),a.showInput&&!a.range?(M(),Y(b(e),{key:0,ref:"input","model-value":b(ge),class:y(b(o).e("input")),step:a.step,disabled:b(f),controls:a.showInputControls,min:a.min,max:a.max,debounce:a.debounce,size:b(oe),"onUpdate:modelValue":b(K),onChange:b(T)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):A("v-if",!0)],42,he)}}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]])),Se=p(null),ke={name:"dSlider",components:{ElSlider:xe},props:{modelValue:{required:!0},title:String,unit:{default:"px"},async:{type:Boolean,default:!1},value:[String,Number]},setup:(e,t)=>({handleInput:l=>{t.emit("update:modelValue",l),e.async&&a("baseConfig")},sliderRef:Se})},Be={class:"d-flex-between d-slider"},Ce={key:0,class:"d-slider-title"},je={class:"d-slider-value"};const Ee=t(ke,[["render",function(e,a,t,l,i,o){const n=$("el-slider");return M(),P("div",Be,[t.title?(M(),P("span",Ce,f(t.title),1)):A("",!0),D(n,K({"show-tooltip":!1,class:"d-cell",ref:"sliderRef"},e.$attrs,{size:"small","data-content":"12","model-value":t.modelValue,"onUpdate:modelValue":l.handleInput}),null,16,["model-value","onUpdate:modelValue"]),F("span",je,f(~~t.value||t.modelValue)+f(t.unit),1)])}]]);export{Ee as D};
