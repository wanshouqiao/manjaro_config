import{_ as o}from"./d-dialog-563b2957.js";import{T as t,a as s,w as e,v as i}from"./runtime-dom.esm-bundler-8f945973.js";/* empty css             *//* empty css                  *//* empty css                   */import{a as r,c as l,E as a}from"./el-main-e7d2c9c5.js";/* empty css                 */import{E as n}from"./el-date-picker-01f0379b.js";/* empty css                  */import{D as p}from"./d-color-923ca52e.js";import{d as m}from"./dayjs.min-39fed9c4.js";import{l as d}from"./local-82fd2aea.js";import c from"./indexdb-76ab5eed.js";import{SAVE_CONFIG as j}from"./save_config-35e78de8.js";import{u}from"./todo-998e5e96.js";import{_ as f}from"./_plugin-vue_export-helper-1b428a4d.js";import{d as b}from"./debounce-c2dba7cb.js";import{o as x}from"./orderBy-11c850c9.js";import{S as v}from"./Select-b8d931fc.js";import{E as h}from"./index-e52000c7.js";import{E as _}from"./index-ed559feb.js";import{q as g,o as y,h as w,f as k,w as V,c as C,K as z,a as E,l as L,e as T,F,m as M,b as U,g as q,p as B,i as I}from"./runtime-core.esm-bundler-77b13fca.js";import{e as D}from"./main-f5b07798.js";import O from"./Plus-9ce421bd.js";import{b as S,r as Y,v as A,u as H,a as R,n as G}from"./reactivity.esm-bundler-72867dac.js";import"./preload-helper-706a0e5c.js";import"./el-dialog-9345927c.js";import"./index-f72b3ea9.js";import"./index-08eda97d.js";import"./_MapCache-31dad113.js";import"./isSymbol-1e3d4c76.js";import"./style-ac750348.js";import"./icon-b1cf815e.js";import"./index-4f6840b9.js";import"./index-11ecaac6.js";import"./focus-trap-a7ebc7ce.js";import"./aria-60e0cdc6.js";import"./index-e1484003.js";import"./index-9f7efeb4.js";import"./error-c58402b8.js";import"./scroll-f7c38f71.js";/* empty css                   */import"./utils-73d66301.js";/* empty css                                                 */import"./Close-20719dd3.js";import"./panel-time-pick-00eea5ad.js";import"./_commonjsHelpers-e5557959.js";import"./index-854ce82e.js";import"./index-ece06083.js";import"./index-62715ce7.js";import"./index-2e34e30b.js";import"./isEqual-13dbd678.js";import"./_baseIsEqual-f45591d3.js";import"./_baseClone-93129bef.js";import"./index-a8bd21df.js";import"./index-d0686f1c.js";import"./index-40ae5b07.js";import"./flatten-86d5e527.js";import"./_baseFlatten-db7d3a92.js";import"./index-5cc9b162.js";import"./vue.runtime.esm-bundler-07884c49.js";import"./position-7d705053.js";import"./localforage-5beca937.js";import"./_commonjs-dynamic-modules-3e972b61.js";import"./public-api-84c5ab9b.js";import"./index-98e2e8c6.js";import"./axios-a986ab8c.js";import"./baseRequest-a74f719c.js";import"./index-ea316b3a.js";import"./version-62e2ec50.js";import"./website-234d9ff3.js";import"./index-2a5711a9.js";/* empty css                */import"./Check-63155ac6.js";import"./globStorageState-d3feed6a.js";import"./notes-a9d23bdb.js";import"./stocks-0eb3a6ed.js";import"./_baseOrderBy-853e8739.js";import"./_baseMap-d2af9b95.js";import"./hasIn-68e1becf.js";import"./identity-4a5ba4c0.js";import"./_baseFor-c8f908ff.js";import"./typescript-5028724d.js";import"./index-de1201fd.js";import"./d-text-icon-0c972c3a.js";import"./browser-c7a4f02b.js";import"./week-7975c4f4.js";import"./global-3c385e89.js";import"./icon-a5a7f81d.js";import"./icon-fdb117a5.js";import"./d-calendar-9992ce38.js";import"./icon-92d26b08.js";import"./dateTime-73945ad3.js";import"./icon-0ad693e8.js";import"./dateTools-6203f8f7.js";import"./icon-e7ca50f5.js";import"./icon2-d4bc0c65.js";import"./icon3-aa79709d.js";import"./icon-73c56842.js";import"./icon-9c80e3eb.js";import"./icon-c3851054.js";import"./icon-8d5583fa.js";import"./icon-cc372385.js";import"./icon-c1c85589.js";import"./icon-5996535b.js";import"./icon-c531cb5b.js";import"./icon-e1d7edae.js";import"./icon-2b215e9e.js";import"./icon-eca13f38.js";import"./icon-51af1d1d.js";import"./icon-133d69b9.js";import"./icon-dd45f250.js";import"./icon-d391b03b.js";import"./icon-60032c73.js";import"./icon-a65bc46c.js";import"./icon-0ba8aff4.js";import"./icon-6322d102.js";import"./icon-1216e893.js";import"./icon-4fbf9766.js";import"./icon-3f2dfd1c.js";import"./icon-449c1bca.js";import"./icon-7d2de9c9.js";var K=g({name:"MoreFilled"});const $={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},N=k("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1);K.render=function(o,t,s,e,i,r){return y(),w("svg",$,[N])},K.__file="packages/components/MoreFilled.vue";const P=K,X=""+new URL("../audio/complete.wav",import.meta.url).href,Z=o=>(B("data-v-b3da7dcb"),o=o(),I(),o),J={class:"todo-wrap d-layout"},Q=Z((()=>U("p",{class:"d-left-tabs-item"},"所有待办",-1))),W={key:0,class:"mt10 f12 pl20"},oo=["onClick"],to={class:"d-cell d-hidden d-main"},so={style:{width:"50px",height:"34px"}},eo={class:"todo-add"},io=["onKeyup"],ro=Z((()=>U("span",{class:"toto-add-line"},null,-1))),lo=[Z((()=>U("source",{src:X},null,-1)))],ao=f({__name:"Content",setup(o){const f=u(),g=S({inputValue:"",todoList:[],sortTodo:[]});function B(o){if(!o)return;let t=m(`${o} 23:59:59`).valueOf();return!!o&&m().valueOf()>t}const I=Y(null);(async()=>{let o=await c.get("todo");o||(o=d.get("todo"),await c.set("todo",o)),g.todoList=o})();const K=b((async o=>{c.set("todo",A(o))}),500);V((()=>g.todoList),(o=>{let t=x(o=o||[],["ut","done"],["asc"]);g.sortTodo=t,f.value=g.sortTodo.slice(0,3),K(o)}),{deep:!0});const $=()=>{if(!g.inputValue)return;let o={content:g.inputValue,expire:"",color:"",done:!1,ct:m().valueOf()};g.todoList.unshift(o),g.inputValue="",N()};function N(){j("todo")}const X=C((()=>100*(g.todoList||[]).filter((o=>o.done)).length/g.todoList.length+"%"));return(o,m)=>{const d=z("el-icon");return y(),E("div",J,[k(H(a),{class:"d-layout hfull"},{default:L((()=>[k(H(r),{class:"d-left-tabs pt30",style:{"background-color":"var(--bg-info)",width:"160px"}},{default:L((()=>[Q])),_:1}),k(H(l),{class:"todo-content pr10 hfull"},{default:L((()=>[g.todoList.length?T("",!0):(y(),E("div",W,"赶快添加您的第一条待办吧")),k(t,{tag:"ul",name:"list-complete",class:"todo-content-ul d-sub"},{default:L((()=>[(y(!0),E(F,null,M(g.sortTodo,((o,t)=>(y(),E("li",{class:"todo-content-li",key:o},[U("button",{class:R(["todo-check",{done:o.done}]),style:G({borderColor:o.color}),onClick:s((t=>(o=>{o.done=!o.done,o.done&&(I.value.load(),I.value.play()),N()})(o)),["prevent"])},[k(d,{class:"todo-icon-check"},{default:L((()=>[k(H(v))])),_:1})],14,oo),U("div",to,[k(H(h),{autosize:{minRows:1,maxRows:10},type:"textarea",size:"small",onInput:N,class:R(["todo-text",{done:o.done}]),modelValue:o.content,"onUpdate:modelValue":t=>o.content=t},null,8,["class","modelValue","onUpdate:modelValue"]),k(H(n),{onChange:t=>o.focus=!1,clearable:!0,class:R(["item-expire",{isExpire:B(o.expire)}]),"value-format":"YYYY-MM-DD",size:"small",modelValue:o.expire,"onUpdate:modelValue":t=>o.expire=t,type:"date",style:{"--el-input-hover-border-color":"transparent","--el-input-focus-border-color":"transparent"},placeholder:"-"},null,8,["onChange","class","modelValue","onUpdate:modelValue"])]),U("div",so,[o.done?T("",!0):(y(),w(H(_),{key:0,placement:"bottom-end",width:200,trigger:"hover"},{reference:L((()=>[k(d,null,{default:L((()=>[k(H(P))])),_:1})])),default:L((()=>[U("div",null,[k(p,{title:"优先级",custom:!1,modelValue:o.color,"onUpdate:modelValue":t=>o.color=t,colors:["#e03131","#ffb000","#4772fa","var(--d-sub)"]},null,8,["modelValue","onUpdate:modelValue","colors"])])])),_:2},1024)),k(d,{class:"ml10 mr10",title:"删除",onClick:t=>(o=>{let t=g.todoList.findIndex((t=>t===o));g.todoList.splice(t,1),N()})(o)},{default:L((()=>[k(H(D))])),_:2},1032,["onClick"])])])))),128))])),_:1}),U("div",eo,[k(d,{size:16,class:"todo-add-icon d-sub"},{default:L((()=>[k(H(O))])),_:1}),q(U("input",{autofocus:"autofocus",class:"todo-add-input bb",type:"text",onKeyup:e($,["enter"]),placeholder:"添加任务","onUpdate:modelValue":m[0]||(m[0]=o=>g.inputValue=o)},null,40,io),[[i,g.inputValue,void 0,{trim:!0}]]),ro])])),_:1})])),_:1}),U("div",{class:"todo-progress",style:G({width:H(X)})},[U("audio",{class:"d-hidden",ref_key:"refAudio",ref:I},lo,512)],4)])}}},[["__scopeId","data-v-b3da7dcb"]]),no={name:"appTodo"},po=Object.assign(no,{setup:t=>(t,s)=>(y(),w(o,{height:"600px"},{default:L((()=>[k(ao)])),_:1}))});export{po as default};
