import{k as e}from"./runtime-dom.esm-bundler-8f945973.js";import{b as a,d as l,u as n}from"./index-62715ce7.js";import{U as o}from"./focus-trap-a7ebc7ce.js";import{d as t,r as i,h as s,g as u,v as d,a as r,u as c,i as b,t as m,n as v,aa as h}from"./reactivity.esm-bundler-72867dac.js";import{c as p,i as f,d as x}from"./style-ac750348.js";import{_ as k,b as g,d as y,w as C,a as L}from"./index-f72b3ea9.js";import{y as B,c as S,w as I,v as j,k as E,q as F,at as w,o as z,h as V,l as _,b as D,g as N,a as O,x as $,F as G,j as R,e as U,r as q,ag as A}from"./runtime-core.esm-bundler-77b13fca.js";import{u as K,a as M}from"./index-2e34e30b.js";import{d as P}from"./error-c58402b8.js";import{i as H}from"./isEqual-13dbd678.js";import{f as J,j as Q,h as T,u as W}from"./index-08eda97d.js";import{h as X}from"./hasIn-68e1becf.js";import{f as Y}from"./flatten-86d5e527.js";import{s as Z,o as ee}from"./_overRest-675ccd63.js";function ae(e,a){return function(e,a,l){for(var n=-1,o=a.length,t={};++n<o;){var i=a[n],s=J(e,i);l(s,i)&&Q(t,T(i,e),s)}return t}(e,a,(function(a,l){return X(e,l)}))}var le;const ne=Z(ee(le=function(e,a){return null==e?{}:ae(e,a)},void 0,Y),le+""),oe=Symbol("checkboxGroupContextKey"),te={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:a,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},ie={[o]:e=>t(e)||p(e)||f(e),change:e=>t(e)||p(e)||f(e)},se=(e,{model:a,isLimitExceeded:l,hasOwnLabel:n,isDisabled:o,isLabeledByFormItem:t})=>{const i=B(oe,void 0),{formItem:s}=K(),{emit:u}=E();function d(a){var l,n;return a===e.trueLabel||!0===a?null==(l=e.trueLabel)||l:null!=(n=e.falseLabel)&&n}const r=S((()=>(null==i?void 0:i.validateEvent)||e.validateEvent));return I((()=>e.modelValue),(()=>{r.value&&(null==s||s.validate("change").catch((e=>P())))})),{handleChange:function(e){if(l.value)return;const a=e.target;u("change",d(a.checked),e)},onClickRoot:async function(i){if(!l.value&&!n.value&&!o.value&&t.value){i.composedPath().some((e=>"LABEL"===e.tagName))||(a.value=d([!1,e.falseLabel].includes(a.value)),await j(),function(e,a){u("change",d(e),a)}(a.value,i))}}}},ue=(e,a)=>{const{formItem:t}=K(),{model:r,isGroup:c,isLimitExceeded:b}=(e=>{const a=i(!1),{emit:l}=E(),n=B(oe,void 0),t=S((()=>!1===x(n))),u=i(!1);return{model:S({get(){var l,o;return t.value?null==(l=null==n?void 0:n.modelValue)?void 0:l.value:null!=(o=e.modelValue)?o:a.value},set(e){var i,d;t.value&&s(e)?(u.value=void 0!==(null==(i=null==n?void 0:n.max)?void 0:i.value)&&e.length>(null==n?void 0:n.max.value),!1===u.value&&(null==(d=null==n?void 0:n.changeEvent)||d.call(n,e))):(l(o,e),a.value=e)}}),isGroup:t,isLimitExceeded:u}})(e),{isFocused:m,isChecked:v,checkboxButtonSize:h,checkboxSize:p,hasOwnLabel:k}=((e,a,{model:l})=>{const o=B(oe,void 0),t=i(!1),r=S((()=>{const a=l.value;return f(a)?a:s(a)?u(e.label)?a.map(d).some((a=>H(a,e.label))):a.map(d).includes(e.label):null!=a?a===e.trueLabel:!!a}));return{checkboxButtonSize:n(S((()=>{var e;return null==(e=null==o?void 0:o.size)?void 0:e.value})),{prop:!0}),isChecked:r,isFocused:t,checkboxSize:n(S((()=>{var e;return null==(e=null==o?void 0:o.size)?void 0:e.value}))),hasOwnLabel:S((()=>!(!a.default&&!e.label)))}})(e,a,{model:r}),{isDisabled:g}=(({model:e,isChecked:a})=>{const n=B(oe,void 0),o=S((()=>{var l,o;const t=null==(l=null==n?void 0:n.max)?void 0:l.value,i=null==(o=null==n?void 0:n.min)?void 0:o.value;return!x(t)&&e.value.length>=t&&!a.value||!x(i)&&e.value.length<=i&&a.value}));return{isDisabled:l(S((()=>(null==n?void 0:n.disabled.value)||o.value))),isLimitDisabled:o}})({model:r,isChecked:v}),{inputId:y,isLabeledByFormItem:C}=M(e,{formItemContext:t,disableIdGeneration:k,disableIdManagement:c}),{handleChange:L,onClickRoot:I}=se(e,{model:r,isLimitExceeded:b,hasOwnLabel:k,isDisabled:g,isLabeledByFormItem:C});return((e,{model:a})=>{e.checked&&(s(a.value)&&!a.value.includes(e.label)?a.value.push(e.label):a.value=e.trueLabel||!0)})(e,{model:r}),{inputId:y,isLabeledByFormItem:C,isChecked:v,isDisabled:g,isFocused:m,checkboxButtonSize:h,checkboxSize:p,hasOwnLabel:k,model:r,handleChange:L,onClickRoot:I}},de=["tabindex","role","aria-checked"],re=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],ce=["id","aria-hidden","disabled","value","name","tabindex"],be=F({name:"ElCheckbox"});var me=k(F({...be,props:te,emits:ie,setup(a){const l=a,n=w(),{inputId:o,isLabeledByFormItem:t,isChecked:i,isDisabled:s,isFocused:u,checkboxSize:d,hasOwnLabel:v,model:h,handleChange:p,onClickRoot:f}=ue(l,n),x=W("checkbox");return(a,l)=>(z(),V(q(!c(v)&&c(t)?"span":"label"),{class:r([c(x).b(),c(x).m(c(d)),c(x).is("disabled",c(s)),c(x).is("bordered",a.border),c(x).is("checked",c(i))]),"aria-controls":a.indeterminate?a.controls:null,onClick:c(f)},{default:_((()=>[D("span",{class:r([c(x).e("input"),c(x).is("disabled",c(s)),c(x).is("checked",c(i)),c(x).is("indeterminate",a.indeterminate),c(x).is("focus",c(u))]),tabindex:a.indeterminate?0:void 0,role:a.indeterminate?"checkbox":void 0,"aria-checked":a.indeterminate?"mixed":void 0},[a.trueLabel||a.falseLabel?N((z(),O("input",{key:0,id:c(o),"onUpdate:modelValue":l[0]||(l[0]=e=>b(h)?h.value=e:null),class:r(c(x).e("original")),type:"checkbox","aria-hidden":a.indeterminate?"true":"false",name:a.name,tabindex:a.tabindex,disabled:c(s),"true-value":a.trueLabel,"false-value":a.falseLabel,onChange:l[1]||(l[1]=(...e)=>c(p)&&c(p)(...e)),onFocus:l[2]||(l[2]=e=>u.value=!0),onBlur:l[3]||(l[3]=e=>u.value=!1)},null,42,re)),[[e,c(h)]]):N((z(),O("input",{key:1,id:c(o),"onUpdate:modelValue":l[4]||(l[4]=e=>b(h)?h.value=e:null),class:r(c(x).e("original")),type:"checkbox","aria-hidden":a.indeterminate?"true":"false",disabled:c(s),value:a.label,name:a.name,tabindex:a.tabindex,onChange:l[5]||(l[5]=(...e)=>c(p)&&c(p)(...e)),onFocus:l[6]||(l[6]=e=>u.value=!0),onBlur:l[7]||(l[7]=e=>u.value=!1)},null,42,ce)),[[e,c(h)]]),D("span",{class:r(c(x).e("inner"))},null,2)],10,de),c(v)?(z(),O("span",{key:0,class:r(c(x).e("label"))},[$(a.$slots,"default"),a.$slots.default?U("v-if",!0):(z(),O(G,{key:0},[R(m(a.label),1)],64))],2)):U("v-if",!0)])),_:3},8,["class","aria-controls","onClick"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const ve=["name","tabindex","disabled","true-value","false-value"],he=["name","tabindex","disabled","value"],pe=F({name:"ElCheckboxButton"});var fe=k(F({...pe,props:te,emits:ie,setup(a){const l=a,n=w(),{isFocused:o,isChecked:t,isDisabled:i,checkboxButtonSize:s,model:u,handleChange:d}=ue(l,n),h=B(oe,void 0),p=W("checkbox"),f=S((()=>{var e,a,l,n;const o=null!=(a=null==(e=null==h?void 0:h.fill)?void 0:e.value)?a:"";return{backgroundColor:o,borderColor:o,color:null!=(n=null==(l=null==h?void 0:h.textColor)?void 0:l.value)?n:"",boxShadow:o?`-1px 0 0 0 ${o}`:void 0}}));return(a,l)=>(z(),O("label",{class:r([c(p).b("button"),c(p).bm("button",c(s)),c(p).is("disabled",c(i)),c(p).is("checked",c(t)),c(p).is("focus",c(o))])},[a.trueLabel||a.falseLabel?N((z(),O("input",{key:0,"onUpdate:modelValue":l[0]||(l[0]=e=>b(u)?u.value=e:null),class:r(c(p).be("button","original")),type:"checkbox",name:a.name,tabindex:a.tabindex,disabled:c(i),"true-value":a.trueLabel,"false-value":a.falseLabel,onChange:l[1]||(l[1]=(...e)=>c(d)&&c(d)(...e)),onFocus:l[2]||(l[2]=e=>o.value=!0),onBlur:l[3]||(l[3]=e=>o.value=!1)},null,42,ve)),[[e,c(u)]]):N((z(),O("input",{key:1,"onUpdate:modelValue":l[4]||(l[4]=e=>b(u)?u.value=e:null),class:r(c(p).be("button","original")),type:"checkbox",name:a.name,tabindex:a.tabindex,disabled:c(i),value:a.label,onChange:l[5]||(l[5]=(...e)=>c(d)&&c(d)(...e)),onFocus:l[6]||(l[6]=e=>o.value=!0),onBlur:l[7]||(l[7]=e=>o.value=!1)},null,42,he)),[[e,c(u)]]),a.$slots.default||a.label?(z(),O("span",{key:2,class:r(c(p).be("button","inner")),style:v(c(t)?c(f):void 0)},[$(a.$slots,"default",{},(()=>[R(m(a.label),1)]))],6)):U("v-if",!0)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const xe=g({modelValue:{type:y(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:a,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),ke={[o]:e=>s(e),change:e=>s(e)},ge=F({name:"ElCheckboxGroup"});var ye=k(F({...ge,props:xe,emits:ke,setup(e,{emit:a}){const l=e,n=W("checkbox"),{formItem:t}=K(),{inputId:i,isLabeledByFormItem:s}=M(l,{formItemContext:t}),u=async e=>{a(o,e),await j(),a("change",e)},d=S({get:()=>l.modelValue,set(e){u(e)}});return A(oe,{...ne(h(l),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:d,changeEvent:u}),I((()=>l.modelValue),(()=>{l.validateEvent&&(null==t||t.validate("change").catch((e=>P())))})),(e,a)=>{var l;return z(),V(q(e.tag),{id:c(i),class:r(c(n).b("group")),role:"group","aria-label":c(s)?void 0:e.label||"checkbox-group","aria-labelledby":c(s)?null==(l=c(t))?void 0:l.labelId:void 0},{default:_((()=>[$(e.$slots,"default")])),_:3},8,["id","class","aria-label","aria-labelledby"])}}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Ce=C(me,{CheckboxButton:fe,CheckboxGroup:ye});L(fe);const Le=L(ye);export{Ce as E,Le as a};
