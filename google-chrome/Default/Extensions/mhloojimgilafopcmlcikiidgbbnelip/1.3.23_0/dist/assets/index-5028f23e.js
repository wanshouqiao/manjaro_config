import{w as e}from"./runtime-dom.esm-bundler-8f945973.js";import{getRandomColor as t,uuid as o}from"./utils-73d66301.js";/* empty css             *//* empty css                   *//* empty css                 *//* empty css                  *//* empty css                *//* empty css                        *//* empty css                   *//* empty css                  *//* empty css                    *//* empty css                          */import{_ as i}from"./d-dialog-563b2957.js";import{a as l,m as s}from"./globStorageState-d3feed6a.js";import{browserName as r}from"./browser-c7a4f02b.js";import{_ as a}from"./_plugin-vue_export-helper-1b428a4d.js";import{E as n}from"./index-e52000c7.js";import{E as p,a as c}from"./index-794b0406.js";import{E as m,a as d}from"./index-b42e10cf.js";import{buttonTypes as u,ElButton as f}from"./index-40ae5b07.js";import{ElImage as j}from"./index-ff2d0a55.js";import{P as h}from"./PictureFilled-e69f5059.js";import y from"./Plus-9ce421bd.js";import{C as k}from"./Check-63155ac6.js";import{E as b,e as x}from"./main-f5b07798.js";import{b as v,d as g,E as C,_,w}from"./index-f72b3ea9.js";import{u as V,E as B}from"./index-ece06083.js";import{C as T}from"./index-4f6840b9.js";import{i as z}from"./icon-b1cf815e.js";import{u as D}from"./index-11ecaac6.js";import{u as E}from"./index-08eda97d.js";import{a as I}from"./style-ac750348.js";import{q as S,c as $,o as F,h as U,l as q,b as A,r as K,e as P,j as H,f as N,x as O,a6 as G,w as L,K as R,a as Z,F as M,m as Q,p as W,i as X}from"./runtime-core.esm-bundler-77b13fca.js";import{r as Y,a as J,u as ee,n as te,t as oe,b as ie,i as le}from"./reactivity.esm-bundler-72867dac.js";import{ElMessage as se}from"./index-da9a90a7.js";import"./preload-helper-706a0e5c.js";import"./el-dialog-9345927c.js";import"./focus-trap-a7ebc7ce.js";import"./aria-60e0cdc6.js";import"./index-e1484003.js";import"./index-9f7efeb4.js";import"./error-c58402b8.js";import"./scroll-f7c38f71.js";/* empty css                   *//* empty css                                                 */import"./Close-20719dd3.js";import"./index-ea316b3a.js";import"./local-82fd2aea.js";import"./index-854ce82e.js";import"./index-62715ce7.js";import"./typescript-5028724d.js";import"./index-de1201fd.js";import"./index-2e34e30b.js";import"./index-a8bd21df.js";import"./strings-23817cc8.js";import"./isEqual-13dbd678.js";import"./_baseIsEqual-f45591d3.js";import"./_baseClone-93129bef.js";import"./_MapCache-31dad113.js";import"./debounce-c2dba7cb.js";import"./isSymbol-1e3d4c76.js";import"./index-5cc9b162.js";import"./validator-c5991710.js";import"./hasIn-68e1becf.js";import"./flatten-86d5e527.js";import"./_baseFlatten-db7d3a92.js";import"./_overRest-675ccd63.js";import"./identity-4a5ba4c0.js";import"./throttle-c9305476.js";import"./position-7d705053.js";import"./d-text-icon-0c972c3a.js";import"./dayjs.min-39fed9c4.js";import"./_commonjsHelpers-e5557959.js";import"./week-7975c4f4.js";import"./vue.runtime.esm-bundler-07884c49.js";import"./global-3c385e89.js";import"./icon-a5a7f81d.js";import"./icon-fdb117a5.js";import"./d-calendar-9992ce38.js";import"./icon-92d26b08.js";import"./dateTime-73945ad3.js";import"./icon-0ad693e8.js";import"./dateTools-6203f8f7.js";import"./icon-e7ca50f5.js";import"./icon2-d4bc0c65.js";import"./icon3-aa79709d.js";import"./icon-73c56842.js";import"./icon-9c80e3eb.js";import"./icon-c3851054.js";import"./icon-8d5583fa.js";import"./icon-cc372385.js";import"./icon-c1c85589.js";import"./icon-5996535b.js";import"./icon-c531cb5b.js";import"./icon-e1d7edae.js";import"./notes-a9d23bdb.js";import"./icon-2b215e9e.js";import"./icon-eca13f38.js";import"./icon-51af1d1d.js";import"./stocks-0eb3a6ed.js";import"./icon-133d69b9.js";import"./icon-dd45f250.js";import"./icon-d391b03b.js";import"./todo-998e5e96.js";import"./icon-60032c73.js";import"./icon-a65bc46c.js";import"./icon-0ba8aff4.js";import"./icon-6322d102.js";import"./icon-1216e893.js";import"./icon-4fbf9766.js";import"./icon-3f2dfd1c.js";import"./icon-449c1bca.js";import"./icon-7d2de9c9.js";import"./config-provider-6b9f90d0.js";const re=v({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:u,default:"primary"},cancelButtonType:{type:String,values:u,default:"text"},icon:{type:z,default:()=>T},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:g(Function)},onCancel:{type:g(Function)},teleported:V.teleported,persistent:V.persistent,width:{type:[String,Number],default:150}}),ae=S({name:"ElPopconfirm"});const ne=w(_(S({...ae,props:re,setup(e){const t=e,{t:o}=D(),i=E("popconfirm"),l=Y(),s=()=>{var e,t;null==(t=null==(e=l.value)?void 0:e.onClose)||t.call(e)},r=$((()=>({width:I(t.width)}))),a=e=>{var o;null==(o=t.onConfirm)||o.call(t,e),s()},n=e=>{var o;null==(o=t.onCancel)||o.call(t,e),s()},p=$((()=>t.confirmButtonText||o("el.popconfirm.confirmButtonText"))),c=$((()=>t.cancelButtonText||o("el.popconfirm.cancelButtonText")));return(e,t)=>(F(),U(ee(B),G({ref_key:"tooltipRef",ref:l,trigger:"click",effect:"light"},e.$attrs,{"popper-class":`${ee(i).namespace.value}-popover`,"popper-style":ee(r),teleported:e.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":e.hideAfter,persistent:e.persistent}),{content:q((()=>[A("div",{class:J(ee(i).b())},[A("div",{class:J(ee(i).e("main"))},[!e.hideIcon&&e.icon?(F(),U(ee(C),{key:0,class:J(ee(i).e("icon")),style:te({color:e.iconColor})},{default:q((()=>[(F(),U(K(e.icon)))])),_:1},8,["class","style"])):P("v-if",!0),H(" "+oe(e.title),1)],2),A("div",{class:J(ee(i).e("action"))},[N(ee(f),{size:"small",type:"text"===e.cancelButtonType?"":e.cancelButtonType,text:"text"===e.cancelButtonType,onClick:n},{default:q((()=>[H(oe(ee(c)),1)])),_:1},8,["type","text"]),N(ee(f),{size:"small",type:"text"===e.confirmButtonType?"":e.confirmButtonType,text:"text"===e.confirmButtonType,onClick:a},{default:q((()=>[H(oe(ee(p)),1)])),_:1},8,["type","text"])],2)],2)])),default:q((()=>[e.$slots.reference?O(e.$slots,"reference",{key:0}):P("v-if",!0)])),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]])),pe=e=>(W("data-v-05adf5fc"),e=e(),X(),e),ce={class:"bookmarks-content wfull hfull"},me={style:{"line-height":"40px"},class:"bookmarks-header bb d-row"},de=pe((()=>A("li",{class:"pl30 f16 ac d-col-8"},"书签管理",-1))),ue={class:"d-col-8",span:8},fe={class:"d-col-8",span:8},je=pe((()=>A("div",{class:"d-inline f12 ml20 mr10"},"导入到",-1))),he={class:"f12"},ye={class:"d-layout hfull"},ke={class:"d-layout-aside d-auto-y",style:{height:"calc(100% - 40px)",width:"160px"}},be=["onClick"],xe={ref:"refBody",style:{height:"calc(100% - 40px)"},class:"d-layout-content bookmarks-body"},ve={key:0,class:"ac mt50"},ge=pe((()=>A("p",{class:"mt10"},[H(" 进入官网选择适合自己浏览器的版本下载 "),A("a",{href:"https://itab.link",class:"book-item-a",target:"_blank"},"https://itab.link")],-1))),Ce={class:"body-item d-flex-y",style:{"justify-content":"space-between"}},_e={key:0,class:"d-cell d-flex"},we=["href"],Ve={class:"hfull d-flex-center"},Be={class:"d-elip"},Te={class:"bookmarks-handle",style:{"min-width":"52px"}},ze={name:"appBookmarks"},De=a(Object.assign(ze,{setup(a){const u=l(),v=Y(!1),g=Y(!1);let C=[];const _=ie({activeIndex:0,keyword:"",selectData:[],booksData:[],booksChildren:[]});function w(e){_.selectData=e?C:[],g.value=!1}function V(e){const t=e.length;v.value=t===C.length,g.value=t>0&&t<C.length}function B(){if(_.selectData.length){let e=_.booksChildren.filter((e=>_.selectData.includes(e.id)));if(e.length>50)return void se.warning("最多只能导入50条数据");let i=e.map((e=>({backgroundColor:t(),iconText:e.title.trim().substring(0,2),id:o(),name:e.title,src:"",type:"text",url:e.url})));z.value.children.push(...i),se.success(`批量导入了${i.length}条数据`)}}const T=!(chrome&&chrome.bookmarks),z=$((()=>u.value.find((e=>e.id==s.value))));let D=[];function E(e){e&&!T.value?(_.activeIndex=-1,chrome.bookmarks.search(e,(e=>{_.booksChildren=e||[]}))):(_.activeIndex=0,_.booksChildren=_.booksData[0].children||[])}function I(e){e.edit?chrome.bookmarks.update(e.id,{title:e.title,url:e.url},(t=>{e.edit=!1})):e.edit=!0}function S(e,t){let o={...t,children:[]};e.forEach(((e,t)=>{e.url?o.children.push(e):e.children&&S(e.children,e)})),o.children.length&&D.push(o)}return chrome&&chrome.bookmarks&&chrome.bookmarks.getTree((e=>{S(e,{}),_.booksData=D||[],_.booksData[0]&&(_.booksChildren=_.booksData[0].children||[])})),L((()=>_.booksChildren),(e=>{e.length?(_.selectData=[],v.value=!1,g.value=!1,C=e.map((e=>e.id))):C=[]})),(l,a)=>{const C=R("el-icon");return F(),U(i,{height:"600px",destroyOnClose:!0},{default:q((()=>[A("div",ce,[A("ul",me,[de,A("li",ue,[N(ee(n),{style:{width:"200px"},placeholder:"搜索",onInput:E,size:"small",modelValue:_.keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>_.keyword=e)},null,8,["modelValue"])]),A("li",fe,[je,N(ee(p),{modelValue:ee(s),"onUpdate:modelValue":a[1]||(a[1]=e=>le(s)?s.value=e:null),style:{width:"100px"},size:"small",placeholder:"group"},{default:q((()=>[(F(!0),Z(M,null,Q(ee(u),(e=>(F(),U(ee(c),{key:e.id,label:e.name,value:e.id},{default:q((()=>[A("span",he,oe(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])]),A("div",ye,[A("ul",ke,[(F(!0),Z(M,null,Q(_.booksData,((e,t)=>(F(),Z("li",{onClick:o=>function(e,t){_.activeIndex=t,_.booksChildren=e.children||[]}(e,t),class:J([{active:_.activeIndex==t},"d-left-tabs-item"]),key:t},oe(e.title),11,be)))),128))]),A("ul",xe,[T?(F(),Z("div",ve,[H(" 书签管理只能在扩展模式下使用 "),ge])):P("",!0),A("div",null,[N(ee(m),{modelValue:v.value,"onUpdate:modelValue":a[2]||(a[2]=e=>v.value=e),indeterminate:g.value,onChange:w},{default:q((()=>[H("全选")])),_:1},8,["modelValue","indeterminate"]),N(ee(f),{class:"fr",disabled:!_.selectData.length,size:"small",type:"primary",onClick:B},{default:q((()=>[H("批量导入")])),_:1},8,["disabled"])]),N(ee(d),{modelValue:_.selectData,"onUpdate:modelValue":a[3]||(a[3]=e=>_.selectData=e),onChange:V},{default:q((()=>[(F(!0),Z(M,null,Q(_.booksChildren,((i,l)=>(F(),Z("div",{class:"body-card","body-style":{padding:"10px"},key:i.id},[(F(),U(ee(m),{key:i.id,label:i.id},{default:q((()=>[A("div",Ce,[i.edit?(F(),Z("p",_e,[N(ee(n),{src:`chrome://favicon/size/32@2x/${i.url}`,class:"d-cell",onKeyup:e((e=>I(i)),["enter"]),size:"small",placeholder:"标题",modelValue:i.title,"onUpdate:modelValue":e=>i.title=e},null,8,["src","onKeyup","modelValue","onUpdate:modelValue"]),N(ee(n),{placeholder:"url",class:"d-cell ml5",onKeyup:e((e=>I(i)),["enter"]),size:"small",modelValue:i.url,"onUpdate:modelValue":e=>i.url=e},null,8,["onKeyup","modelValue","onUpdate:modelValue"])])):(F(),Z("a",{key:1,href:i.url,target:"_blank",class:"d-flex-y d-hidden"},[N(ee(j),{style:{width:"16px",height:"16px"},src:"firefox"==ee(r)()?`https://ico.codelife.cc/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=${i.url}&size=16`:`chrome://favicon/size/32@2x/${i.url}`,class:"mr10"},{error:q((()=>[A("div",Ve,[N(C,{class:"d-sub",size:16},{default:q((()=>[N(ee(h))])),_:1})])])),_:2},1032,["src"]),A("span",Be,oe(i.title),1)],8,we)),A("p",Te,[N(ee(f),{type:"warning",onClick:e=>function(e){let i={backgroundColor:t(),iconText:e.title.trim().substring(0,4),id:o(),name:e.title,src:"",type:"text",url:e.url};z.value.children.push(i),se.success(`导入【${i.name}】成功`)}(i),size:"small",icon:ee(y)},null,8,["onClick","icon"]),N(ee(f),{onClick:e=>I(i),size:"small",type:"primary",icon:i.edit?ee(k):ee(b)},null,8,["onClick","icon"]),N(ee(ne),{onConfirm:e=>function(e,t){chrome.bookmarks.remove(e.id,(()=>{_.booksChildren.splice(t,1)}))}(i,l),title:"确认删除?"},{reference:q((()=>[N(ee(f),{size:"small",type:"danger",icon:ee(x)},null,8,["icon"])])),_:2},1032,["onConfirm"])])])])),_:2},1032,["label"]))])))),128))])),_:1},8,["modelValue"])],512)])])])),_:1})}}}),[["__scopeId","data-v-05adf5fc"]]);export{De as default};
