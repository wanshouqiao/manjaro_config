import{_ as e}from"./preload-helper-706a0e5c.js";import{u as s}from"./stocks-0eb3a6ed.js";import{l as t}from"./local-82fd2aea.js";import{_ as a}from"./_plugin-vue_export-helper-1b428a4d.js";import{r as l,t as o,n as r}from"./reactivity.esm-bundler-72867dac.js";import{u as i,w as c,K as n,o as u,h as p,l as d,a as m,b as f,F as _,m as k,e as h}from"./runtime-core.esm-bundler-77b13fca.js";const b={key:0,alt:"股票",class:"d-block wfull hfull",style:{"background-color":"#e73237","object-fit":"contain"},src:"https://files.codelife.cc/icons/stock.svg"},g={key:1,class:"todo-icon d-flex-center"},v={class:"stock-icon-content"},y={class:"d-elip title",style:{width:"50%"}},j={style:{"margin-bottom":"2px"}},x={class:"d-sub left"},w={class:"d-elip ar"},z={class:"d-sub right"},C={name:"stock-icon"},I=a(Object.assign(C,{props:{size:String},setup(a){const C=a,I=s(),O=l(t.get("stocksCache")||[]);function E(e){return 0==e?"gray":e>0?"#e5353d":"#41c662"}let S=null;async function A(s){if(I.value.length){let a=I.value.map((e=>`${e.MktNum}.${e.Code}`)),l=await e((()=>import("./indexdb-76ab5eed.js")),["./indexdb-76ab5eed.js","./localforage-5beca937.js","./_commonjsHelpers-e5557959.js","./_commonjs-dynamic-modules-3e972b61.js","./dayjs.min-39fed9c4.js"],import.meta.url);l=l.default;let o=await l.get("stocksCache");if(!s&&o)return void(O.value=o||[]);e((()=>import("./stock-602bfbb2.js")),["./stock-602bfbb2.js","./axios-a986ab8c.js","./dayjs.min-39fed9c4.js","./_commonjsHelpers-e5557959.js"],import.meta.url).then((e=>{e.pushListApi(a.join(",")).then((e=>{let s=e.data.diff||[];s=s.slice(0,4),O.value=s,t.set("stocksCache",s),l.set("stocksCache",s,6e4)}))}))}}return S?clearInterval(S):S=setInterval((()=>{A(!1)}),12e4),i((()=>{S&&clearInterval(S)})),c((()=>I),(e=>{A(!0)}),{deep:!0}),A(!1),(e,s)=>{const t=n("d-watch-resize");return u(),p(t,null,{default:d((()=>[["1x1","1x2","mini","2x1"].includes(a.size)?(u(),m("img",b)):(u(),m("div",g,[f("ul",v,[(u(!0),m(_,null,k(O.value,(e=>(u(),m("li",{class:"d-flex-y",key:e.id},[f("span",y,[f("p",j,o(e&&e.f14),1),f("p",x,o(e&&e.f12),1)]),"medium"==a.size?(u(),m("span",{key:0,class:"al",style:r({color:E(e.f3)})},o(e&&e.f2),5)):h("",!0),f("span",w,[f("p",{class:"percent d-inline",style:r([{"margin-bottom":"2px"},"medium"==C.size?{backgroundColor:E(e.f3)}:{color:E(e.f3)}])},o(e&&e.f3)+"%",5),f("p",z,o(e&&e.f2),1)])])))),128))])]))])),_:1})}}}),[["__scopeId","data-v-35a49563"]]),O=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{O as _};
