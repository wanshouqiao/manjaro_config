import{_ as o}from"./d-dialog-563b2957.js";import{j as s}from"./runtime-dom.esm-bundler-8f945973.js";import{d as t}from"./dayjs.min-39fed9c4.js";import{a as i}from"./icon-dd45f250.js";/* empty css             *//* empty css                */import{todayShiciApi as e}from"./todayShici-7168aa98.js";import{l as a}from"./local-82fd2aea.js";import r from"./indexdb-76ab5eed.js";import{_ as l}from"./_plugin-vue_export-helper-1b428a4d.js";import{q as m,o as p,h as n,f as c,a as j,b as d,l as u,F as v,m as f,e as h,p as y,i as b}from"./runtime-core.esm-bundler-77b13fca.js";import{E as x}from"./index-6ed52375.js";import{r as _,a as w,t as g,u as k}from"./reactivity.esm-bundler-72867dac.js";import"./preload-helper-706a0e5c.js";import"./el-dialog-9345927c.js";import"./index-f72b3ea9.js";import"./index-08eda97d.js";import"./_MapCache-31dad113.js";import"./isSymbol-1e3d4c76.js";import"./style-ac750348.js";import"./icon-b1cf815e.js";import"./index-4f6840b9.js";import"./index-11ecaac6.js";import"./focus-trap-a7ebc7ce.js";import"./aria-60e0cdc6.js";import"./index-e1484003.js";import"./index-9f7efeb4.js";import"./error-c58402b8.js";import"./scroll-f7c38f71.js";/* empty css                   */import"./utils-73d66301.js";import"./main-f5b07798.js";import"./d-text-icon-0c972c3a.js";import"./_baseClone-93129bef.js";import"./globStorageState-d3feed6a.js";import"./index-ea316b3a.js";import"./browser-c7a4f02b.js";import"./week-7975c4f4.js";import"./vue.runtime.esm-bundler-07884c49.js";import"./_commonjsHelpers-e5557959.js";import"./global-3c385e89.js";import"./Plus-9ce421bd.js";import"./Check-63155ac6.js";import"./icon-a5a7f81d.js";import"./icon-fdb117a5.js";import"./d-calendar-9992ce38.js";import"./icon-92d26b08.js";import"./dateTime-73945ad3.js";import"./icon-0ad693e8.js";import"./dateTools-6203f8f7.js";import"./icon-e7ca50f5.js";import"./icon2-d4bc0c65.js";import"./icon3-aa79709d.js";import"./icon-73c56842.js";import"./icon-9c80e3eb.js";import"./icon-c3851054.js";import"./icon-8d5583fa.js";import"./icon-cc372385.js";import"./icon-c1c85589.js";import"./icon-5996535b.js";import"./icon-c531cb5b.js";import"./icon-e1d7edae.js";import"./notes-a9d23bdb.js";import"./icon-2b215e9e.js";import"./icon-eca13f38.js";import"./icon-51af1d1d.js";import"./stocks-0eb3a6ed.js";import"./icon-133d69b9.js";import"./icon-d391b03b.js";import"./todo-998e5e96.js";import"./icon-60032c73.js";import"./icon-a65bc46c.js";import"./icon-0ba8aff4.js";import"./icon-6322d102.js";import"./icon-1216e893.js";import"./icon-4fbf9766.js";/* empty css                 *//* empty css                  */import"./icon-3f2dfd1c.js";import"./icon-449c1bca.js";import"./icon-7d2de9c9.js";/* empty css                                                 */import"./Close-20719dd3.js";import"./baseRequest-a74f719c.js";import"./axios-a986ab8c.js";import"./version-62e2ec50.js";import"./localforage-5beca937.js";import"./_commonjs-dynamic-modules-3e972b61.js";var C=m({name:"ArrowDown"});const q={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},D=c("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1);C.render=function(o,s,t,i,e,a){return p(),n("svg",q,[D])},C.__file="packages/components/ArrowDown.vue";const S=C,Y=o=>(y("data-v-615ba75a"),o=o(),b(),o),z={class:"app-shici-body al d-relative",style:{"z-index":"2"}},M={class:"ac quotes d-relative",style:{"z-index":"2"}},A={class:"f14 mb20"},B={style:{"max-width":"700px",margin:"0 auto","line-height":"1.6"}},E=Y((()=>d("h2",{class:"f20 mb20"},"全文",-1))),T={class:"b"},F={class:"f12 mb20"},H={class:"mb50 al"},G=Y((()=>d("h2",{class:"f20 mb20"},"译文",-1))),I=Y((()=>d("h2",{class:"f20 mb20"},"注释",-1))),R=Y((()=>d("h2",{class:"f20 mb20"},"序",-1))),Z=l({__name:"Content",setup(o){s((o=>({"699fe4e8":y.value})));const l=_(null),m=_({}),y=_(""),b=_(!1);function C(o){y.value=o}async function q(o){let s=null;o||(s=await r.get("app-todayShici"),m.value=s),!o&&s&&s.date==t().format("YYYYMMDD")||e().then((o=>{let s=o.data||{};s.date=t().format("YYYYMMDD"),m.value=s,r.set("app-todayShici",s);let i={quotes:s.quotes,dynasty:s.dynasty,title:s.title,author:s.author,date:s.date};a.set("app-todayShici",i),b.value=!0,setTimeout((()=>{b.value=!1}),1200)}))}function D(){l.value.scrollTo({top:500,behavior:"smooth"})}return q(),(o,s)=>(p(),j("div",{ref_key:"appShiciRef",ref:l,class:"app-shici-wrap wfull d-relative hfull d-scrollbar-hide"},[d("div",z,[d("div",M,[d("h2",{class:w(["quotes-text",{animation:b.value}])},g(m.value.quotes),3),d("p",A,"出自 "+g(m.value.dynasty)+"⋅ "+g(m.value.author)+" 的《"+g(m.value.title)+"》",1),d("button",{onClick:s[0]||(s[0]=o=>q(!0)),class:"f14 mb20 app-button"},"换一句")]),c(i,{onColor:C,class:"app-bg",style:{width:"100%",height:"auto"}}),d("div",{onClick:D,class:"arrow-down d-icon f22",style:{color:"#fff"}},[c(k(S))])]),d("div",B,[m.value.content?(p(),n(k(x),{key:0,shadow:"never",class:"mb50",style:{"margin-top":"120px"}},{default:u((()=>[E,d("h2",T,g(m.value.title),1),d("p",F,g(m.value.dynasty)+"⋅ "+g(m.value.author),1),d("div",null,[(p(!0),j(v,null,f(m.value.content.split("\n"),(o=>(p(),j("p",{style:{},class:"f14 mb10",key:o},g(o),1)))),128))])])),_:1})):h("",!0),m.value.translate?(p(),n(k(x),{key:1,shadow:"never",class:"mb50"},{default:u((()=>[d("div",H,[G,(p(!0),j(v,null,f(m.value.translate.split("\n"),(o=>(p(),j("p",{style:{"text-indent":"2em"},class:"mb20",key:o},g(o),1)))),128))])])),_:1})):h("",!0),m.value.annotation?(p(),n(k(x),{key:2,shadow:"never",class:"mb50"},{default:u((()=>[I,(p(!0),j(v,null,f(m.value.annotation.split("\n"),(o=>(p(),j("p",{class:"mb20",key:o},g(o),1)))),128))])),_:1})):h("",!0),m.value.preface?(p(),n(k(x),{key:3,shadow:"never",class:"mb50"},{default:u((()=>[R,(p(!0),j(v,null,f(m.value.preface.split("\n"),(o=>(p(),j("p",{style:{"line-height":"22px","text-indent":"2em"},key:o},g(o),1)))),128))])),_:1})):h("",!0)])],512))}},[["__scopeId","data-v-615ba75a"]]),L={__name:"index",setup:s=>(s,t)=>(p(),n(o,{width:"860px",height:"550px",destroyOnClose:!0},{default:u((()=>[c(Z)])),_:1}))};export{L as default};
