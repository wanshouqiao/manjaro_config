import{_ as e}from"./preload-helper-706a0e5c.js";import{l as s}from"./local-82fd2aea.js";import{c as r,u as t}from"./index-ea316b3a.js";import{a as o}from"./axios-a986ab8c.js";import{p as a}from"./version-62e2ec50.js";import{d as i}from"./dayjs.min-39fed9c4.js";let n="https://api.codelife.cc/";n="https://api.codelife.cc/";const m="https://api.codelife.cc/",c=r((()=>t("userInfo",{},{listenToStorageChanges:!1}))),p=c(),l=()=>{s.remove("token"),p.value={}};const g=async()=>{const s=i().valueOf().toString();return(await e((()=>import("./aes-5d0ed9f4.js").then((e=>e.a))),["./aes-5d0ed9f4.js","./_commonjsHelpers-e5557959.js","./_commonjs-dynamic-modules-3e972b61.js"],import.meta.url)).encrypt(s,"itab1314").toString()},d=o.create({baseURL:m,timeout:15e3});d.interceptors.request.use((async e=>{let r=s.get("token"),t=await g();return e.headers.signaturekey=t,e.headers.version=a.version,r&&(e.headers.token=r),"get"==e.method&&(e.params={lang:"cn",...e.params}),e}),(e=>{Promise.reject(e)})),d.interceptors.response.use((s=>{const r=s.data;return 401==r.code?(l(),Promise.reject(r.msg)):500==r.code?(e((()=>import("./index-da9a90a7.js")),["./index-da9a90a7.js","./runtime-dom.esm-bundler-8f945973.js","./runtime-core.esm-bundler-77b13fca.js","./reactivity.esm-bundler-72867dac.js","./config-provider-6b9f90d0.js","./index-f72b3ea9.js","./index-08eda97d.js","./_MapCache-31dad113.js","./isSymbol-1e3d4c76.js","./style-ac750348.js","./index-62715ce7.js","./index-854ce82e.js","./typescript-5028724d.js","./icon-b1cf815e.js","./index-4f6840b9.js","./aria-60e0cdc6.js","./index-e1484003.js"],import.meta.url).then((e=>{e.ElMessage({type:"error",message:r.msg,duration:3e3,dangerouslyUseHTMLString:!0,showClose:!0})})),Promise.reject(r.msg)):501==r.code?(e((()=>import("./index-da9a90a7.js")),["./index-da9a90a7.js","./runtime-dom.esm-bundler-8f945973.js","./runtime-core.esm-bundler-77b13fca.js","./reactivity.esm-bundler-72867dac.js","./config-provider-6b9f90d0.js","./index-f72b3ea9.js","./index-08eda97d.js","./_MapCache-31dad113.js","./isSymbol-1e3d4c76.js","./style-ac750348.js","./index-62715ce7.js","./index-854ce82e.js","./typescript-5028724d.js","./icon-b1cf815e.js","./index-4f6840b9.js","./aria-60e0cdc6.js","./index-e1484003.js"],import.meta.url).then((e=>{e.ElMessage({type:"warning",message:r.msg,duration:3e3,dangerouslyUseHTMLString:!0,showClose:!0})})),Promise.reject(r.msg)):r}),(e=>Promise.reject(e)));const u=d;export{m as B,l as L,g as a,u as b,c as u};
