import{T as t,b as e}from"./runtime-dom.esm-bundler-8f945973.js";import{_ as o}from"./d-dialog-563b2957.js";import{_ as i}from"./_plugin-vue_export-helper-1b428a4d.js";import{o as s,a as r,h as n,l as a,b as l,j as m,F as p,m as c,f as d,g as j,e as u,p as f,i as v}from"./runtime-core.esm-bundler-77b13fca.js";/* empty css             *//* empty css                 *//* empty css                       *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                  *//* empty css                   */import{uuid as x}from"./utils-73d66301.js";import{SAVE_CONFIG as b}from"./save_config-35e78de8.js";import{l as y}from"./local-82fd2aea.js";import{d as g}from"./dayjs.min-39fed9c4.js";import{a as h}from"./timeFormat-9f457c07.js";import{u as w,f as _}from"./notes-a9d23bdb.js";import{r as k}from"./vue.runtime.esm-bundler-07884c49.js";import{_ as I}from"./PinOff16Regular-7ec39d02.js";import B from"./indexdb-76ab5eed.js";import{o as C}from"./orderBy-11c850c9.js";import{c as E}from"./d-text-icon-0c972c3a.js";import{d as M}from"./debounce-c2dba7cb.js";import{E as H}from"./index-f72b3ea9.js";import Y from"./Plus-9ce421bd.js";import{E as V}from"./index-e52000c7.js";import{E as z}from"./index-ed559feb.js";import{E as N}from"./index-fb7d3c00.js";import{r as L,b as O,a as D,u as A,t as F}from"./reactivity.esm-bundler-72867dac.js";import"./preload-helper-706a0e5c.js";import"./el-dialog-9345927c.js";import"./index-08eda97d.js";import"./_MapCache-31dad113.js";import"./isSymbol-1e3d4c76.js";import"./icon-b1cf815e.js";import"./index-4f6840b9.js";import"./index-11ecaac6.js";import"./focus-trap-a7ebc7ce.js";import"./aria-60e0cdc6.js";import"./style-ac750348.js";import"./index-e1484003.js";import"./index-9f7efeb4.js";import"./error-c58402b8.js";import"./scroll-f7c38f71.js";import"./main-f5b07798.js";import"./globStorageState-d3feed6a.js";import"./index-ea316b3a.js";import"./browser-c7a4f02b.js";import"./week-7975c4f4.js";import"./global-3c385e89.js";import"./_commonjsHelpers-e5557959.js";import"./Check-63155ac6.js";import"./icon-a5a7f81d.js";import"./icon-fdb117a5.js";import"./d-calendar-9992ce38.js";import"./icon-92d26b08.js";import"./dateTime-73945ad3.js";import"./icon-0ad693e8.js";import"./dateTools-6203f8f7.js";import"./icon-e7ca50f5.js";import"./icon2-d4bc0c65.js";import"./icon3-aa79709d.js";import"./icon-73c56842.js";import"./icon-9c80e3eb.js";import"./icon-c3851054.js";import"./icon-8d5583fa.js";import"./icon-cc372385.js";import"./icon-c1c85589.js";import"./icon-5996535b.js";import"./icon-c531cb5b.js";import"./icon-e1d7edae.js";import"./icon-2b215e9e.js";import"./icon-eca13f38.js";import"./icon-51af1d1d.js";import"./stocks-0eb3a6ed.js";import"./icon-133d69b9.js";import"./icon-dd45f250.js";import"./icon-d391b03b.js";import"./todo-998e5e96.js";import"./icon-60032c73.js";import"./icon-a65bc46c.js";import"./icon-0ba8aff4.js";import"./icon-6322d102.js";import"./icon-1216e893.js";import"./icon-4fbf9766.js";import"./icon-3f2dfd1c.js";import"./icon-449c1bca.js";import"./icon-7d2de9c9.js";import"./_baseClone-93129bef.js";/* empty css                                                 */import"./Close-20719dd3.js";import"./public-api-84c5ab9b.js";import"./index-98e2e8c6.js";import"./axios-a986ab8c.js";import"./baseRequest-a74f719c.js";import"./version-62e2ec50.js";import"./website-234d9ff3.js";import"./index-2a5711a9.js";import"./localforage-5beca937.js";import"./_commonjs-dynamic-modules-3e972b61.js";import"./_baseOrderBy-853e8739.js";import"./_baseMap-d2af9b95.js";import"./_baseIsEqual-f45591d3.js";import"./hasIn-68e1becf.js";import"./identity-4a5ba4c0.js";import"./_baseFor-c8f908ff.js";import"./index-854ce82e.js";import"./index-62715ce7.js";import"./typescript-5028724d.js";import"./index-de1201fd.js";import"./index-2e34e30b.js";import"./index-ece06083.js";import"./index-40ae5b07.js";import"./validator-c5991710.js";const q={class:"ac mt50 f14"};const P=i({},[["render",function(t,e){return s(),r("div",q,"暂无内容")}]]);var S={};Object.defineProperty(S,"__esModule",{value:!0});const T=k,R={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},G=[(0,T.createElementVNode)("g",{fill:"none"},[(0,T.createElementVNode)("path",{d:"M10.059 2.445a1.5 1.5 0 0 0-2.386.354l-2.02 3.79l-2.811.937a.5.5 0 0 0-.196.828L4.793 10.5l-2.647 2.647L2 14l.854-.146L5.5 11.207l2.146 2.147a.5.5 0 0 0 .828-.196l.937-2.81l3.779-2.024a1.5 1.5 0 0 0 .354-2.38L10.06 2.444zm-1.504.824a.5.5 0 0 1 .796-.118l3.485 3.498a.5.5 0 0 1-.118.794L8.764 9.559a.5.5 0 0 0-.238.283l-.744 2.233l-3.856-3.856l2.232-.744a.5.5 0 0 0 .283-.24L8.555 3.27z",fill:"currentColor"})],-1)];var U=S.default=(0,T.defineComponent)({name:"Pin16Regular",render:function(t,e){return(0,T.openBlock)(),(0,T.createElementBlock)("svg",R,G)}}),X={};Object.defineProperty(X,"__esModule",{value:!0});const Z=k,$={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},J=[(0,Z.createElementVNode)("g",{fill:"none"},[(0,Z.createElementVNode)("path",{d:"M6.5 7v4a.5.5 0 0 0 1 0V7a.5.5 0 0 0-1 0zM9 6.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V7a.5.5 0 0 1 .5-.5zM10 4h3a.5.5 0 0 1 0 1h-.553l-.752 6.776A2.5 2.5 0 0 1 9.21 14H6.79a2.5 2.5 0 0 1-2.485-2.224L3.552 5H3a.5.5 0 0 1 0-1h3a2 2 0 1 1 4 0zM8 3a1 1 0 0 0-1 1h2a1 1 0 0 0-1-1zM4.559 5l.74 6.666A1.5 1.5 0 0 0 6.79 13h2.42a1.5 1.5 0 0 0 1.49-1.334L11.442 5H4.56z",fill:"currentColor"})],-1)];var K=X.default=(0,Z.defineComponent)({name:"Delete16Regular",render:function(t,e){return(0,Z.openBlock)(),(0,Z.createElementBlock)("svg",$,J)}});const Q=t=>(f("data-v-5bbd1450"),t=t(),v(),t),W={class:"d-layout app-notes hfull"},tt={class:"d-layout-aside notes-tabs",width:"200px",style:{"background-color":"var(--bg-input)"}},et={class:"f18 bb pl20"},ot={class:"d-relative notes-sort fr pr10"},it=["onClick"],st={class:"f14 b d-elip"},rt={class:"f12 d-inline d-sub"},nt=["onClick"],at=["title","onClick"],lt={class:"d-layout-content hfull p10 d-bg-input"},mt={key:0,class:"hfull"},pt={class:"d-flex-between f12 d-sub mt5"},ct=Q((()=>l("img",{style:{width:"180px"},src:"https://files.codelife.cc/itab/app-jijian.png"},null,-1))),dt=Q((()=>l("span",null,"在手机上使用备忘录",-1))),jt={name:"appNotes"},ut=i(Object.assign(jt,{setup(i){var f;const v=w(),k=L(null),q=O({activeItem:v.value[0],activeId:null==(f=v.value[0])?void 0:f.id,sortBy:y.get("noteSortBy")||"desc",sortNotes:[]});let S=[];async function T(t){var e;S=await B.get("notes"),S||(S=v._rawValue,await B.set("notes",S));let o=C(S,["ut"],[q.sortBy]),i=E(o.slice(0,3));i.forEach((t=>{t.content&&(t.content=t.content.slice(0,40))})),v.value=i,q.sortNotes=o,"del"==t&&(q.activeId=null==(e=o[0])?void 0:e.id);let s=q.sortNotes.find((t=>t.id==q.activeId))||{};q.activeItem=s}function R(){b("notes")}T();const G=()=>{"desc"==q.sortBy?q.sortBy="asc":q.sortBy="desc",y.set("noteSortBy",q.sortBy),T()};const X=M((async()=>{await B.set("notes",S),T()}),1e3),Z=async()=>{q.activeItem.ut=g().valueOf(),X(),R()};async function $(){let t={id:x(),title:"",content:"",fixed:!1,ct:g().valueOf(),ut:g().valueOf()};q.activeId=t.id,S.push(t),await B.set("notes",S),T(),requestAnimationFrame((()=>{k.value.focus()})),R()}return(i,f)=>(s(),n(o,null,{default:a((()=>[l("div",W,[l("div",tt,[l("h2",et,[m(" 备忘录 "),l("span",ot,[(s(),r(p,null,c(["asc","desc"],((t,e)=>l("i",{key:e,class:D([[{active:q.sortBy==t},t],"sort-caret"]),onClick:G},null,2))),64))])]),A(v).length?(s(),n(t,{key:1,tag:"ul",name:"list-complete",class:"notes-tabs-body"},{default:a((()=>[(s(!0),r(p,null,c(q.sortNotes,((t,o)=>(s(),r("li",{onClick:e=>(q.activeItem=t,q.activeId=t.id),class:D([{active:q.activeId===t.id},"notes-tabs-item d-elip"]),key:t.id},[l("h4",st,F(t.title||t.content||"无标题"),1),l("time",rt,F(A(h)(t.ut,"YYYY/M/D HH:mm")),1),l("span",{class:"notes-del",title:"删除备忘录",onClick:e=>function(t,e){N.confirm("删除这条备忘录?","提示",{center:!0,type:"warning"}).then((async()=>{let e=S.findIndex((e=>e.id==t.id));S.splice(e,1),await B.set("notes",S),await T("del"),R()}))}(t)},[d(A(H),{size:18},{default:a((()=>[d(A(K))])),_:1})],8,nt),l("span",{class:"notes-del fixed",title:""+(t.fixed?"取消固定":"固定到桌面"),onClick:e=>async function(t){if(t.fixed=!t.fixed,await B.set("notes",S),t.fixed)_.value.push(t);else{let e=_.value.findIndex((e=>e.id==t.id));_.value.splice(e,1)}R()}(t)},[d(A(H),{size:18},{default:a((()=>[j(d(A(U),null,null,512),[[e,!t.fixed]]),j(d(A(I),null,null,512),[[e,t.fixed]])])),_:2},1024)],8,at)],10,it)))),128))])),_:1})):(s(),n(P,{key:0})),l("div",{class:"notes-add d-flex-center",onClick:$,title:"新增备忘录"},[d(A(H),null,{default:a((()=>[d(A(Y))])),_:1})])]),l("div",lt,[A(v).length?(s(),r("div",mt,[d(A(V),{ref_key:"refTitle",ref:k,class:"note-title",modelValue:q.activeItem.title,"onUpdate:modelValue":f[0]||(f[0]=t=>q.activeItem.title=t),onInput:Z,placeholder:"请输入笔记标题"},null,8,["modelValue"]),d(A(V),{onInput:Z,class:"note-content",type:"textarea",modelValue:q.activeItem.content,"onUpdate:modelValue":f[1]||(f[1]=t=>q.activeItem.content=t),placeholder:"请输入笔记内容"},null,8,["modelValue"]),l("div",pt,[l("span",null," 最后编辑："+F(A(h)(q.activeItem.ut,"YYYY-M-D HH:mm:ss"))+", 创建："+F(A(h)(q.activeItem.ct,"YYYY-MM-DD HH:mm:ss")),1),d(A(z),{effect:"light",width:"210px",placement:"top-end"},{reference:a((()=>[dt])),default:a((()=>[ct])),_:1})])])):u("",!0)])])])),_:1}))}}),[["__scopeId","data-v-5bbd1450"]]);export{ut as default};
