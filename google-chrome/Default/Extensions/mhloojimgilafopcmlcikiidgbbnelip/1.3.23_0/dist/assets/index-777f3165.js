import{_ as i}from"./d-dialog-563b2957.js";import{a as t}from"./runtime-dom.esm-bundler-8f945973.js";/* empty css             *//* empty css                   *//* empty css                 *//* empty css                  */import{l as e}from"./local-82fd2aea.js";import{d as o}from"./dayjs.min-39fed9c4.js";import s from"./eventBus-5f383961.js";import{a as r}from"./timezone-55e2064a.js";import{a as n}from"./utc-1e4790ad.js";import{w as m}from"./week-7975c4f4.js";import{w as a,d as l}from"./zh-cn-bdf1e228.js";import{b as p}from"./weatherApi-ad490135.js";import c from"./indexdb-76ab5eed.js";import"./browser-c7a4f02b.js";import"./icon-4fbf9766.js";import{_ as d}from"./_plugin-vue_export-helper-1b428a4d.js";import{a as j,E as u,b as f}from"./index-794b0406.js";import{q as g,o as w,h as x,f as h,a as v,b as y,v as z,u as b,l as k,F as L,m as _,j as C}from"./runtime-core.esm-bundler-77b13fca.js";import{ElMessage as A}from"./index-da9a90a7.js";import{r as I,b as E,u as H,t as F,a as $,n as q,v as O}from"./reactivity.esm-bundler-72867dac.js";import"./preload-helper-706a0e5c.js";import"./el-dialog-9345927c.js";import"./index-f72b3ea9.js";import"./index-08eda97d.js";import"./_MapCache-31dad113.js";import"./isSymbol-1e3d4c76.js";import"./style-ac750348.js";import"./icon-b1cf815e.js";import"./index-4f6840b9.js";import"./index-11ecaac6.js";import"./focus-trap-a7ebc7ce.js";import"./aria-60e0cdc6.js";import"./index-e1484003.js";import"./index-9f7efeb4.js";import"./error-c58402b8.js";import"./scroll-f7c38f71.js";/* empty css                   */import"./utils-73d66301.js";import"./main-f5b07798.js";import"./d-text-icon-0c972c3a.js";import"./_baseClone-93129bef.js";import"./globStorageState-d3feed6a.js";import"./index-ea316b3a.js";import"./vue.runtime.esm-bundler-07884c49.js";import"./_commonjsHelpers-e5557959.js";import"./global-3c385e89.js";import"./Plus-9ce421bd.js";import"./Check-63155ac6.js";import"./icon-a5a7f81d.js";import"./icon-fdb117a5.js";import"./d-calendar-9992ce38.js";import"./icon-92d26b08.js";import"./dateTime-73945ad3.js";import"./icon-0ad693e8.js";import"./dateTools-6203f8f7.js";import"./icon-e7ca50f5.js";import"./icon2-d4bc0c65.js";import"./icon3-aa79709d.js";import"./icon-73c56842.js";import"./icon-9c80e3eb.js";import"./icon-c3851054.js";import"./icon-8d5583fa.js";import"./icon-cc372385.js";import"./icon-c1c85589.js";import"./icon-5996535b.js";import"./icon-c531cb5b.js";import"./icon-e1d7edae.js";import"./notes-a9d23bdb.js";import"./icon-2b215e9e.js";import"./icon-eca13f38.js";import"./icon-51af1d1d.js";import"./stocks-0eb3a6ed.js";import"./icon-133d69b9.js";import"./icon-dd45f250.js";import"./icon-d391b03b.js";import"./todo-998e5e96.js";import"./icon-60032c73.js";import"./icon-a65bc46c.js";import"./icon-0ba8aff4.js";import"./icon-6322d102.js";import"./icon-1216e893.js";import"./icon-3f2dfd1c.js";import"./icon-449c1bca.js";import"./icon-7d2de9c9.js";/* empty css                                                 */import"./Close-20719dd3.js";import"./axios-a986ab8c.js";import"./baseRequest-a74f719c.js";import"./version-62e2ec50.js";import"./localforage-5beca937.js";import"./_commonjs-dynamic-modules-3e972b61.js";import"./index-854ce82e.js";import"./index-ece06083.js";import"./index-62715ce7.js";import"./index-e52000c7.js";import"./typescript-5028724d.js";import"./index-de1201fd.js";import"./index-2e34e30b.js";import"./index-a8bd21df.js";import"./strings-23817cc8.js";import"./isEqual-13dbd678.js";import"./_baseIsEqual-f45591d3.js";import"./debounce-c2dba7cb.js";import"./index-5cc9b162.js";import"./validator-c5991710.js";import"./config-provider-6b9f90d0.js";var S=g({name:"RemoveFilled"});const B={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},R=h("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zM288 512a38.4 38.4 0 0 0 38.4 38.4h371.2a38.4 38.4 0 0 0 0-76.8H326.4A38.4 38.4 0 0 0 288 512z"},null,-1);S.render=function(i,t,e,o,s,r){return w(),x("svg",B,[R])},S.__file="packages/components/RemoveFilled.vue";const Y=S,M={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},D=[y("path",{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"},null,-1)],T=g({name:"RefreshTwotone",render:function(i,t){return w(),v("svg",M,D)}}),V={class:"ar"},G={class:"curr-timezone ac"},N={class:"ar f16 mt10 d-sub",style:{"margin-right":"110px"}},P={class:"fr mt20 ar",style:{"margin-right":"110px"}},K={class:"timezone-list d-inline"},U=["onClick"],Z=["onClick"],J={class:"b d-elip d-block"},Q={class:"mt20 d-hidden",style:{clear:"both"}},W={name:"yiyan-icon"},X=d(Object.assign(W,{props:{size:String},setup(i){const d=i,g=I(null);o.extend(a),o.extend(l),o.locale("zh-cn"),o.extend(n),o.extend(r);const S=I("");function B(i=""){return i?o().tz(i).format("HH:mm"):o().format("HH:mm:ss")}const R=[{name:"洛杉矶",code:"America/Los_Angeles"},{name:"纽约",code:"America/New_York"},{name:"伦敦",code:"Europe/London"},{name:"巴黎",code:"Europe/Paris"},{name:"基辅",code:"Europe/Kiev"},{name:"北京",code:"Asia/Shanghai"},{name:"东京",code:"Asia/Tokyo"}],M=E({fontFamily:"",cityList:[],cityId:"",cityOptions:[],tzList:[],widgetList:e.get("app-worldClock")||[{name:"北京",code:"Asia/Shanghai"},{name:"洛杉矶",code:"America/Los_Angeles"},{name:"纽约",code:"America/New_York"},{name:"巴黎",code:"Europe/Paris"}]});function D(i){z((()=>{let{contentRect:t}=i[0],e=document.querySelector(".curr-timezone");e&&(e.style.fontSize=t.width/5.2+"px",e.style.lineHeight=t.width/5.2+"px")}))}function W(i){return M.widgetList.findIndex((t=>i.code===t.code))}function X(i){i&&p({location:i}).then((i=>{let t=i.location||[];t=t.map((i=>({label:i.adm2+"-"+i.name,...i}))),M.cityOptions=t}))}async function ii(i){if(!i)return;let t=M.cityOptions.find((t=>t.id==i));M.tzList.some((i=>i.name===t.name))?A.warning("当前城市已添加"):(M.tzList.push({name:t.name,code:t.tz}),M.cityId="",c.set("app-worldClock-tzList",O(M.tzList)))}function ti(i){let t=W(i);if(-1!=t){if(1==M.widgetList.length)return void A.warning("至少保留一个");M.widgetList.splice(t,1)}else{if(M.widgetList.length>=4)return void A.warning("最多只能选4个");M.widgetList.push(i)}s.emit("app-worldClock",M.widgetList),e.set("app-worldClock",M.widgetList)}function ei(){M.tzList=R,c.set("app-worldClock-tzList",O(M.tzList))}c.get("app-worldClock-tzList").then((i=>{M.tzList=i||R,si()})),z((()=>{let i=g.value;new ResizeObserver(D).observe(i)}));let oi=null;function si(){let i=m[o().day()],t=o(d.date).week(),e=o(d.date).dayOfYear(),s=o.tz.guess();S.value=`${s}  ${o().format("YYYY年MM月DD日")} 星期${i} 第${t}周  第${e}天`,M.tzList=M.tzList.map((i=>({...i,time:B(i.code)})))}return oi&&clearInterval(oi),oi=setInterval((()=>{si()}),1e3),b((()=>{clearInterval(oi)})),(e,o)=>(w(),v("div",{class:$(["hfull workClock-wrap",`icon-size-${i.size}`]),ref_key:"watchResize",ref:g,style:q([{padding:"12px"},`--fontFamily:${M.fontFamily}`])},[y("div",V,[h(H(u),{class:"wfull mt20 mr20","append-to":"",modelValue:M.cityId,"onUpdate:modelValue":o[0]||(o[0]=i=>M.cityId=i),"remote-method":X,filterable:"",remote:"",placeholder:"输入城市",onChange:ii,size:"default",style:{width:"220px"}},{default:k((()=>[(w(!0),v(L,null,_(M.cityOptions,(i=>(w(),x(H(j),{key:i.value,label:i.label,value:i.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),y("p",G,[y("time",null,F(B()),1)]),y("p",N,F(S.value),1),y("div",P,[y("ul",K,[(w(!0),v(L,null,_(M.tzList,((i,e)=>(w(),v("li",{onClick:t=>ti(i),class:$({active:"-1"!=W(i)}),key:i.tz},[y("i",{onClick:t((i=>function(i){M.tzList.splice(i,1),c.set("app-worldClock-tzList",O(M.tzList))}(e)),["stop"]),class:"d-icon item-delete",title:"删除"},[h(H(Y))],8,Z),y("b",J,F(i.name),1),y("p",null,F(i.time),1)],10,U)))),128))]),y("ul",Q,[C(" 组件时区列表: "),(w(!0),v(L,null,_(M.widgetList,(i=>(w(),x(H(f),{key:i.code,class:"mr5",style:{"--el-color-primary":"#409eff"},closable:"","disable-transitions":!1,onClose:t=>ti(i)},{default:k((()=>[C(F(i.name),1)])),_:2},1032,["onClose"])))),128)),y("i",{onClick:ei,title:"重置时区列表",class:"d-icon reset-icon",style:{"vertical-align":"-2px"}},[h(H(T))])])])],6))}}),[["__scopeId","data-v-dc982c32"]]),ii={__name:"index",setup:t=>(t,e)=>(w(),x(i,{width:"860px",height:"550px",destroyOnClose:!0},{default:k((()=>[h(X)])),_:1}))};export{ii as default};
