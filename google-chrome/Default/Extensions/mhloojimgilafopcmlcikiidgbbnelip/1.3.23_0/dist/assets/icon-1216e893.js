import{_ as e}from"./preload-helper-706a0e5c.js";import{d as t}from"./dayjs.min-39fed9c4.js";import{l}from"./local-82fd2aea.js";import{c as i,u as s}from"./index-ea316b3a.js";import{w as n}from"./week-7975c4f4.js";import{_ as a}from"./_plugin-vue_export-helper-1b428a4d.js";import{q as o,o as r,h as c,f as d,c as m,K as f,l as p,b as u,a as w,e as y,j as h,F as g,m as _}from"./runtime-core.esm-bundler-77b13fca.js";import{a as x,u as v,t as b}from"./reactivity.esm-bundler-72867dac.js";var z=o({name:"Position"});const j={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},k=d("path",{fill:"currentColor",d:"m249.6 417.088 319.744 43.072 39.168 310.272L845.12 178.88 249.6 417.088zm-129.024 47.168a32 32 0 0 1-7.68-61.44l777.792-311.04a32 32 0 0 1 41.6 41.6l-310.336 775.68a32 32 0 0 1-61.44-7.808L512 516.992l-391.424-52.736z"},null,-1);z.render=function(e,t,l,i,s,n){return r(),c("svg",j,[k])},z.__file="packages/components/Position.vue";const $=z,P=()=>{let e=l.get("weather")||{};if(e.moment)return e.moment;let i=t().hour();return i>6&&i<19?"d":"n"},I={100:"sunny",101:"cloudy",102:"cloudy",103:"cloudy",104:"yin",302:"thunder",303:"thunder",300:"rain",301:"rain",304:"rain",305:"rain",306:"rain",307:"rain",308:"rain",309:"rain",310:"rain",311:"rain",312:"rain",313:"rain",314:"rain",315:"rain",316:"rain",317:"rain",318:"rain",350:"rain",351:"rain",399:"rain",400:"snow",401:"snow",402:"snow",403:"snow",404:"snow",405:"snow",406:"snow",407:"snow",408:"snow",409:"snow",410:"snow",500:"foggy",501:"foggy",509:"foggy",510:"foggy",514:"foggy",515:"foggy",502:"haze"},O=e=>{if(!e)return"";let t="";if(I[e])t=`weather-${I[e]}_${P()}`;else{let l=`url(https://cdn.heweather.com/img/plugin/190516/bg/h5/${e}${P()}.png)`;document.body.style.setProperty("--weather-other",l),t="weather-other"}return t},S={location:{},now:{tmp:0},daily_forecast:[{}],air_now_city:{},sun:{},rain:{},lifestyle:[]},q=i((()=>s("weather",S,{listenToStorageChanges:!1}))),L={key:0,class:"d-flex-center wfull hfull"},T={class:"d-elip f12"},A={class:"f16 mt5 b"},C={key:1,class:"d-flex-between wfull"},E={class:"d-elip"},B={class:"f22 mt5"},D={style:{"font-size":"0.57em"}},F={style:{"margin-bottom":"2px"}},K=["src"],M={key:2,class:"d-flex-between hfull wfull ac",style:{"align-items":"flex-start","flex-direction":"column"}},Q={class:"wfull"},R={class:"d-elip f12"},V={class:"f22 mt5"},W={style:{"font-size":"0.57em"},class:"ac wfull"},Z=["src"],G={key:3,class:"d-flex-between hfull wfull",style:{"align-items":"flex-start","flex-direction":"column"}},H={class:"d-flex-between wfull"},J={style:{"flex-direction":"column",display:"flex","justify-content":"space-between"}},N={class:"d-elip f12"},U={class:"d-icon",style:{"margin-left":"2px","vertical-align":"-2px"}},X={style:{"font-size":"1.3em"},class:"mt5 b"},Y=["src"],ee={class:"f12 ac"},te={style:{"font-size":"0.57em"}},le={style:{"margin-bottom":"2px"}},ie={key:4,class:"weather-icon-medius d-flex-between wfull hfull"},se={class:"d-flex-between wfull"},ne={style:{"flex-direction":"column",display:"flex","justify-content":"space-between"}},ae={style:{"font-size":"12px"}},oe={class:"d-icon",style:{"margin-left":"2px","font-size":"12px","vertical-align":"-2px"}},re={style:{"font-size":"1.4em"},class:"mt5 b"},ce={class:"ar",style:{"line-height":"1.1","font-size":"0.57em"}},de=["title","src"],me={style:{"margin-top":"0.3em"}},fe={class:"d-flex-between wfull",style:{"font-size":"0.57em","line-height":"1.4","margin-top":"0.2em"}},pe={key:0},ue={class:"d-flex-center"},we=["src"],ye={name:"weather-icon"},he=a(Object.assign(ye,{props:{size:String},setup(l){const i=l,s=q(),a=m((()=>s.value.now.cond_code&&O(s.value.now.cond_code)));function o(e,l){let i="周"+n[t(e).day()];return 1==l&&(i="明天"),i}return m((()=>{const e=s.value.now||{};if(e.cond_code)return{backgroundImage:weatherbg(e.cond_code)}})),e((()=>import("./weather-21c06441.js")),["./weather-21c06441.js","./index-ea316b3a.js","./reactivity.esm-bundler-72867dac.js","./runtime-core.esm-bundler-77b13fca.js","./weatherApi-ad490135.js","./axios-a986ab8c.js","./baseRequest-a74f719c.js","./preload-helper-706a0e5c.js","./local-82fd2aea.js","./version-62e2ec50.js","./dayjs.min-39fed9c4.js","./_commonjsHelpers-e5557959.js","./baseApi-346658f0.js","./indexdb-76ab5eed.js","./localforage-5beca937.js","./_commonjs-dynamic-modules-3e972b61.js","./week-7975c4f4.js","./_plugin-vue_export-helper-1b428a4d.js"],import.meta.url).then((e=>{e.getWeather(s.value.location)})),(e,t)=>{const n=f("d-watch-resize");return r(),c(n,null,{default:p((()=>{var e,t;return[u("div",{class:x([`icon-size-${l.size} ${v(a)}`,"weather-icon"])},["1x1"==i.size||"mini"==i.size?(r(),w("div",L,[u("span",null,[u("p",T,b(v(s).location.name),1),u("div",A,b(v(s).now.tmp)+"°",1)])])):y("",!0),"1x2"==i.size?(r(),w("div",C,[u("span",null,[u("p",E,b(v(s).location.name),1),u("div",B,b(v(s).now.tmp)+"°",1)]),u("div",D,[u("div",F,[h(b(v(s).now.cond_txt)+" ",1),u("img",{style:{width:"16px",height:"16px","vertical-align":"-2px"},src:`https://files.codelife.cc/itab/weather/icon/${v(s).now.cond_code}-fill.svg`},null,8,K)]),h(" "+b(v(s).daily_forecast[0].tmp_min)+"° ~ "+b(v(s).daily_forecast[0].tmp_max)+"° ",1)])])):y("",!0),"2x1"==i.size?(r(),w("div",M,[u("span",Q,[u("p",R,b(v(s).location.name),1),u("div",V,b(v(s).now.tmp)+"°",1)]),u("div",W,[u("img",{style:{width:"16px",height:"16px","vertical-align":"-2px"},src:`https://files.codelife.cc/itab/weather/icon/${v(s).now.cond_code}-fill.svg`},null,8,Z),u("p",null,b(v(s).now.cond_txt),1)])])):y("",!0),"2x2"==i.size||"small"==i.size?(r(),w("div",G,[u("span",H,[u("div",J,[u("span",N,[u("i",null,b(v(s).location.name),1),u("i",U,[d(v($))])]),u("p",X,b(v(s).now.tmp)+"°",1)]),u("div",null,[u("img",{style:{width:"1.23em",height:"1.23em"},src:`https://files.codelife.cc/itab/weather/icon/${v(s).now.cond_code}-fill.svg`},null,8,Y),u("p",ee,b(v(s).now.cond_txt),1)])]),u("div",te,[u("p",le," AQI "+b(null==(e=v(s).air_now_city)?void 0:e.qlty)+"/"+b(null==(t=v(s).air_now_city)?void 0:t.aqi),1),h(" 最高"+b(v(s).daily_forecast[0].tmp_max)+"° 最低"+b(v(s).daily_forecast[0].tmp_min)+"° ",1)])])):y("",!0),"2x4"==i.size||"medium"==i.size?(r(),w("div",ie,[u("div",se,[u("div",ne,[u("span",ae,[h(b(v(s).location.name)+" ",1),u("i",oe,[d(v($))])]),u("p",re,b(v(s).now.tmp)+"°",1)]),u("div",ce,[u("p",null,[h(b(v(s).now.cond_txt)+" ",1),u("img",{title:v(s).now.cond_txt,style:{width:"22px",height:"22px","vertical-align":"-4px"},src:`https://files.codelife.cc/itab/weather/icon/${v(s).now.cond_code}-fill.svg`},null,8,de)]),u("p",me," 最低 "+b(v(s).daily_forecast[0]&&v(s).daily_forecast[0].tmp_min)+"° 最高 "+b(v(s).daily_forecast[0]&&v(s).daily_forecast[0].tmp_max)+"° ",1)])]),u("ul",fe,[(r(!0),w(g,null,_(v(s).daily_forecast,((e,t)=>(r(),w(g,{key:t},[0!==t?(r(),w("li",pe,[u("p",null,b(o(e.date,t)),1),u("p",ue,[u("img",{class:"mr5",style:{width:"16px",height:"16px"},src:`https://files.codelife.cc/itab/weather/icon/${e.cond_code_d}-fill.svg`},null,8,we)]),u("p",null,b(e.tmp_min)+"/"+b(e.tmp_max),1)])):y("",!0)],64)))),128))])])):y("",!0)],2)]})),_:1})}}}),[["__scopeId","data-v-774b69dc"]]),ge=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));export{$ as P,ge as _,q as u,O as w};
