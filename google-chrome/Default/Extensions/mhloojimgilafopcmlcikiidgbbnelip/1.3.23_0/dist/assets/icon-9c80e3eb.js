import{_ as e}from"./preload-helper-706a0e5c.js";import{a as t}from"./runtime-dom.esm-bundler-8f945973.js";import{_ as s}from"./_plugin-vue_export-helper-1b428a4d.js";import{r as a,a as r,t as l,u as i}from"./reactivity.esm-bundler-72867dac.js";import{w as d,v as n,o as c,a as o,b as p,x as u,d as f,c as m,K as h,h as g,l as y,f as _,e as k}from"./runtime-core.esm-bundler-77b13fca.js";import{d as v}from"./dayjs.min-39fed9c4.js";const x={class:"d-progress"},b=["stroke-width"],w=["stroke-width"],z={class:"d-progress-text"},j=s({__name:"d-progress",props:{percentage:{type:Number,default:0},width:{type:String,default:"6.3"}},setup(e){const t=e,s=a(null);return d((()=>t.percentage),(e=>{n((()=>{s.value.querySelector(".d-progress-circle__path").style.strokeDasharray=289.027/100*e+" 289.027"}))}),{immediate:!0}),(t,a)=>(c(),o("div",x,[(c(),o("svg",{ref_key:"dProgress",ref:s,viewBox:"0 0 100 100"},[p("path",{d:"M 50 50 m 0 -46 a 46 46 0 1 1 0 92 a 46 46 0 1 1 0 -92",stroke:"rgba(var(--alpha-color),.1)","stroke-width":e.width,fill:"none",style:{"stroke-dasharray":"289.027px, 289.027px","stroke-dashoffset":"0px"}},null,8,b),p("path",{class:"d-progress-circle__path",d:" M 50 50 m 0 -46 a 46 46 0 1 1 0 92 a 46 46 0 1 1 0 -92",stroke:"#1890ff",fill:"none",opacity:"1","stroke-linecap":"round","stroke-width":e.width,style:{"stroke-dasharray":"0, 289.027px","stroke-dashoffset":"0px",transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease 0s, opacity 0.6s ease 0s"}},null,8,w)],512)),p("span",z,[u(t.$slots,"default",{},void 0,!0)])]))}},[["__scopeId","data-v-3337146f"]]),M={class:"wfull hfull d-flex-center"},D={key:0,class:"b f14"},O={key:1,class:"d-flex-center"},P={class:"ml20"},R={class:"f12",style:{"margin-bottom":"0.2em"}},S={class:"b f14"},C={key:2,class:"d-flex-center ac"},E={class:"mt20"},I={class:"f12",style:{"margin-bottom":"0.2em"}},Y={class:"b f14"},L={key:3,class:"d-flex-center wfull hfull"},T={key:0,class:"checkin-handle"},A={class:"checkin-progress"},V={class:"b f30"},$={class:"f12",style:{"margin-top":"0.2em"}},q={key:0,class:"d-flex-y",style:{width:"50%"}},B={class:"b f30"},K={style:{"margin-top":"0.2em","font-size":"0.7em"},class:"d-elip"},N=["onClick"],F=["onClick"],G=s({__name:"icon",props:{size:{type:String,defautl:"2x2"},data:{type:Object,default:{title:"每天喝8杯水",target:8,current:0,reset:"1"}}},setup(s){const d=s,n=f((()=>e((()=>import("./RefreshRight-a8736f10.js")),["./RefreshRight-a8736f10.js","./runtime-core.esm-bundler-77b13fca.js","./reactivity.esm-bundler-72867dac.js"],import.meta.url))),u=f((()=>e((()=>import("./Plus-9ce421bd.js")),["./Plus-9ce421bd.js","./runtime-core.esm-bundler-77b13fca.js","./reactivity.esm-bundler-72867dac.js"],import.meta.url)));if(d.data.reset){const e=v().format("YYYYMMDD");d.data.date!==e&&(d.data.date=e,d.data.current=0)}const x=m((()=>{let e=Math.floor(d.data.current/d.data.target*100);return e>=100?100:e})),b=a("size-3"),w=a(120);function z(e){let t=e.height;w.value=t?t-24:120,b.value=t>0&&t<=100?"size-1":"size-2"}function G(){d.data.current=0}function H(){d.data.current=d.data.current+1}return(e,a)=>{const f=h("d-watch-resize");return c(),g(f,{onResize:z},{default:y((()=>[p("div",{class:r([s.size,"checkin-icon"])},[p("div",M,[["mini","1x1"].includes(s.size)?(c(),o("div",D,[p("span",null,l(s.data.current)+"/"+l(s.data.target),1)])):["1x2"].includes(s.size)?(c(),o("div",O,[_(j,{width:"10",style:{width:"40px",height:"40px"},percentage:i(x)},null,8,["percentage"]),p("span",P,[p("div",R,l(s.data.title),1),p("div",S,l(s.data.current)+"/"+l(s.data.target),1)])])):["2x1"].includes(s.size)?(c(),o("div",C,[_(j,{width:"10",style:{width:"40px",height:"40px"},percentage:i(x)},null,8,["percentage"]),p("span",E,[p("div",I,l(s.data.title),1),p("div",Y,l(s.data.current)+"/"+l(s.data.target),1)])])):["2x2","small","medium","2x4"].includes(d.size)?(c(),o("div",L,[p("div",{class:r(["habit-progress",`icon-size-${s.size}`])},[_(j,{percentage:i(x)},{default:y((()=>[["medium","2x4"].includes(d.size)?k("",!0):(c(),o("div",T,[p("span",A,[p("div",V,l(s.data.current)+"/"+l(s.data.target),1),p("div",$,l(s.data.title),1)])]))])),_:1},8,["percentage"]),["medium","2x4"].includes(d.size)?(c(),o("span",q,[p("div",null,[p("div",B,l(s.data.current)+"/"+l(s.data.target),1),p("div",K,l(s.data.title),1)])])):k("",!0)],2)])):k("",!0),p("i",{class:"checkin-handle-box d-flex-center reset d-icon f16",style:{left:"12%"},title:"重置",onClick:t(G,["stop"])},[_(i(n))],8,N),p("i",{class:"checkin-handle-box d-flex-center plus d-icon f16",style:{right:"12%"},title:"+",onClick:t(H,["stop"])},[_(i(u))],8,F)])],2)])),_:1})}}},[["__scopeId","data-v-71c6a39a"]]),H=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{H as _,G as i};
