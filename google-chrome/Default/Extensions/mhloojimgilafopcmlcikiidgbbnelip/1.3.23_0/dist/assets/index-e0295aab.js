import{_ as t}from"./d-dialog-563b2957.js";import{_ as e}from"./preload-helper-706a0e5c.js";import{a as s}from"./runtime-dom.esm-bundler-8f945973.js";import{D as i}from"./vuedraggable.umd-15a97714.js";/* empty css             *//* empty css                 *//* empty css                  */import{a,E as o}from"./el-col-cf47d7b5.js";import{a as l,c as r,E as n}from"./el-main-e7d2c9c5.js";/* empty css                *//* empty css                */import{u as m}from"./stocks-0eb3a6ed.js";import{pushListApi as p,getStockMinute as c,stockSearchApi as d,getStockInfo as u,getStockKLine as j}from"./stock-602bfbb2.js";import{isEmptyObject as f}from"./utils-73d66301.js";import"./save_config-35e78de8.js";import{_ as v}from"./_plugin-vue_export-helper-1b428a4d.js";import{R as y}from"./Refresh-60fd7e4b.js";import{E as b}from"./index-f72b3ea9.js";import{E as k,a as h}from"./index-794b0406.js";import{e as x}from"./main-f5b07798.js";import{E as _,a as g}from"./index-f8eeafa4.js";import{b as D,u as C,t as w,a as N,n as S}from"./reactivity.esm-bundler-72867dac.js";import{aj as T,g as E,o as I,a as O,b as K,f as V,l as $,F as z,m as F,h as G,r as q,d as A,e as H}from"./runtime-core.esm-bundler-77b13fca.js";import"./el-dialog-9345927c.js";import"./index-08eda97d.js";import"./_MapCache-31dad113.js";import"./isSymbol-1e3d4c76.js";import"./icon-b1cf815e.js";import"./index-4f6840b9.js";import"./index-11ecaac6.js";import"./focus-trap-a7ebc7ce.js";import"./aria-60e0cdc6.js";import"./style-ac750348.js";import"./index-e1484003.js";import"./index-9f7efeb4.js";import"./error-c58402b8.js";import"./scroll-f7c38f71.js";/* empty css                   *//* empty css                                                 */import"./Close-20719dd3.js";import"./_commonjsHelpers-e5557959.js";import"./vue.runtime.esm-bundler-07884c49.js";import"./sortable.esm-ca16c14a.js";import"./typescript-5028724d.js";import"./index-ea316b3a.js";import"./axios-a986ab8c.js";import"./dayjs.min-39fed9c4.js";import"./public-api-84c5ab9b.js";import"./local-82fd2aea.js";import"./index-98e2e8c6.js";import"./baseRequest-a74f719c.js";import"./version-62e2ec50.js";import"./website-234d9ff3.js";import"./index-2a5711a9.js";import"./Check-63155ac6.js";import"./globStorageState-d3feed6a.js";import"./notes-a9d23bdb.js";import"./todo-998e5e96.js";import"./indexdb-76ab5eed.js";import"./localforage-5beca937.js";import"./_commonjs-dynamic-modules-3e972b61.js";import"./debounce-c2dba7cb.js";import"./index-854ce82e.js";import"./index-ece06083.js";import"./index-62715ce7.js";import"./index-e52000c7.js";import"./index-de1201fd.js";import"./index-2e34e30b.js";import"./index-a8bd21df.js";import"./strings-23817cc8.js";import"./isEqual-13dbd678.js";import"./_baseIsEqual-f45591d3.js";import"./_baseClone-93129bef.js";import"./index-5cc9b162.js";import"./validator-c5991710.js";import"./d-text-icon-0c972c3a.js";import"./browser-c7a4f02b.js";import"./week-7975c4f4.js";import"./global-3c385e89.js";import"./Plus-9ce421bd.js";import"./icon-a5a7f81d.js";import"./icon-fdb117a5.js";import"./d-calendar-9992ce38.js";import"./icon-92d26b08.js";import"./dateTime-73945ad3.js";import"./icon-0ad693e8.js";import"./dateTools-6203f8f7.js";import"./icon-e7ca50f5.js";import"./icon2-d4bc0c65.js";import"./icon3-aa79709d.js";import"./icon-73c56842.js";import"./icon-9c80e3eb.js";import"./icon-c3851054.js";import"./icon-8d5583fa.js";import"./icon-cc372385.js";import"./icon-c1c85589.js";import"./icon-5996535b.js";import"./icon-c531cb5b.js";import"./icon-e1d7edae.js";import"./icon-2b215e9e.js";import"./icon-eca13f38.js";import"./icon-51af1d1d.js";import"./icon-133d69b9.js";import"./icon-dd45f250.js";import"./icon-d391b03b.js";import"./icon-60032c73.js";import"./icon-a65bc46c.js";import"./icon-0ba8aff4.js";import"./icon-6322d102.js";import"./icon-1216e893.js";import"./icon-4fbf9766.js";import"./icon-3f2dfd1c.js";import"./icon-449c1bca.js";import"./icon-7d2de9c9.js";import"./index-6639a375.js";const R={class:"stock-wrap"},B={class:"stock-handle d-absolute d-hover d-sub"},L={class:"stock-search"},M={class:"d-flex f12",style:{width:"200px"}},P={class:"d-elip",style:{width:"30%"}},U={class:"d-elip",style:{width:"50%"}},J={class:"d-elip",style:{width:"20%"}},Y=["onClick"],Z={class:"title fl",style:{width:"44%"}},Q={class:"d-elip"},W={class:"f12 d-main"},X={class:"fl",style:{width:"30%"}},tt={class:"fl",style:{width:"26%"}},et=["onClick"],st={class:"mb10 d-flex"},it={class:"d-main"},at={class:"b f20 mt5"},ot={class:"f12"},lt={class:"content-header d-flex pt10",style:{"padding-right":"120px"}},rt={class:"d-cell b f28 d-elip"},nt={class:"f16"},mt={class:"f16"},pt={class:"b"},ct={class:"b"},dt=v({__name:"Content",setup(t){const v=m(),dt=[{label:"分时",value:"trends"},{label:"日K",value:"101"},{label:"周K",value:"102"},{label:"月K",value:"103"},{label:"季K",value:"104"},{label:"年K",value:"106"}],ut=D({keyword:"",activeName:"trends",activeData:{},stockOption:[],selfStockData:[],subOptions:[],stockInfo:[],stockGrails:[],loading:!1,timer:null});function jt(t){return 0==t?"gray":t>0?"#e5353d":"#41c662"}function ft(t){var e,s,i,a;v.value=(e=v.value,s=t.newIndex,i=t.oldIndex,a=e[i],e[i]=e[s],e[s]=a,e)}function vt(t){t&&d(t).then((t=>{ut.subOptions=t.Data||[]}))}function yt(t){if(v.value.some((e=>e.Code==t.Code)))return;let e={Code:t.Code,MktNum:t.MktNum,SecurityTypeName:t.SecurityTypeName,SecurityType:t.SecurityType};v.value.unshift(e),_t()}function bt(t){"trends"==ut.activeName?gt():function(){const t={secid:`${ut.activeData.f13}.${ut.activeData.f12}`,klt:ut.activeName};j(t).then((t=>{ut.stockOption=t.data.klines||[]}))}()}ut.timer?clearInterval(ut.timer):ut.timer=setInterval((()=>{_t()}),12e4);let kt={1:"sh",2:"sz",5:"sz",19:"r_hk",20:"us"};const ht=[{n:"最高",i:33},{n:"今开",i:5},{n:"成交量",i:6,unit:"手"},{n:"最低",i:34},{n:"昨收",i:4},{n:"成交额",i:37,unit:"亿"},{n:"总市值",i:45,unit:"亿"},{n:"流通",i:44,unit:"亿"}];function xt(){let t=v.value.find((t=>t.Code==ut.activeData.f12));ut.activeData.SecurityTypeName=t.SecurityTypeName;let e=kt[t.SecurityType],s=`${e}${t.Code}`;ut.stockInfo=[],u(s).then((t=>{if(!t)return;t=t.split("~");let s=1e4;["r_hk","us"].includes(e)&&(s=1e8),t[37]=(t[37]/s).toFixed(2),t[44]=(t[44]/1).toFixed(2),t[45]=(t[45]/1).toFixed(2),ut.stockInfo=t}))}function _t(){if(!v.value.length)return;ut.loading=!0;let t=v.value.map((t=>`${t.MktNum}.${t.Code}`));p(t.join(",")).then((t=>{ut.selfStockData=t.data.diff||[],f(ut.activeData)&&(ut.activeData=ut.selfStockData[0]),ut.activeName="trends",gt(),xt()})).finally((()=>{setTimeout((()=>{ut.loading=!1}),200)}));p(["1.000001","0.399001","0.399006","1.000688","100.HSI"].join(",")).then((t=>{ut.stockGrails=t.data.diff||[]}))}function gt(){const t={secid:`${ut.activeData.f13}.${ut.activeData.f12}`};c(t).then((t=>{ut.stockOption=t.data.trends||[]}))}return _t(),(t,m)=>{const p=T("loading");return E((I(),O("div",R,[K("div",B,[V(C(b),{size:16,title:"手动刷新，2分钟自动刷新一次",onClick:_t},{default:$((()=>[V(C(y))])),_:1})]),V(C(n),{class:"d-layout hfull"},{default:$((()=>[V(C(l),{class:"d-left-tabs pt30",style:{"background-color":"var(--bg-card)",width:"220px","border-right":"1px solid rgba(var(--alpha-color), 0.04)"}},{default:$((()=>[K("div",L,[V(C(k),{class:"wfull",modelValue:ut.keyword,"onUpdate:modelValue":m[0]||(m[0]=t=>ut.keyword=t),size:"default",filterable:"",remote:"","reserve-keyword":"","value-key":"Code",placeholder:"输入股票名称、代码","remote-method":vt,onChange:yt},{default:$((()=>[(I(!0),O(z,null,F(ut.subOptions,(t=>(I(),G(C(h),{key:t.ID,value:t},{default:$((()=>[K("li",M,[K("span",P,w(t.Code),1),K("span",U,w(t.Name),1),K("span",J,w(t.SecurityTypeName),1)])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])]),V(C(i),{class:"self-content d-scrollbar-hide",animation:200,list:ut.selfStockData,itemKey:"f12",onEnd:ft},{item:$((({element:t,index:e})=>[(I(),O("p",{class:N(["self-content-li d-hidden",[jt(t.f3),{active:ut.activeData==t}]]),key:t.f12,onClick:e=>{return s=t,ut.activeData=s,ut.activeName="trends",gt(),void xt();var s},style:S({color:jt(t.f3)})},[K("span",Z,[K("p",Q,w(t.f14),1),K("code",W,w(t.f12),1)]),K("span",X,w(t.f2),1),K("span",tt,w(t.f3)+"%",1),K("span",{class:"stock-del d-flex-center",onClick:s((s=>function(t,e){t.f12==ut.activeData.f12&&(ut.activeData={}),v.value.splice(e,1),_t()}(t,e)),["stop"])},[V(C(b),null,{default:$((()=>[V(C(x))])),_:1})],8,et)],14,Y))])),_:1},8,["list"])])),_:1}),V(C(r),{class:"todo-content pr10 hfull",style:{"padding-top":"10px"}},{default:$((()=>[K("ul",st,[(I(!0),O(z,null,F(ut.stockGrails,(t=>(I(),O("li",{style:S({color:jt(t.f3)}),class:"mr20",key:t.f1},[K("span",it,w(t.f14),1),K("p",at,w(t.f2),1),K("p",ot,w(t.f4)+"("+w(t.f3)+"%)",1)],4)))),128))]),K("div",lt,[K("span",rt,[K("b",null,w(ut.activeData.f14),1),K("small",nt,w(ut.activeData.f12),1),K("small",mt,w(ut.activeData.SecurityTypeName),1)]),K("p",pt,[K("span",null,w(ut.activeData.f2),1),K("span",{style:S([{background:"gray","border-radius":"3px",padding:"0 4px","line-height":"18px",color:"#fff"},{backgroundColor:jt(ut.activeData.f3)}]),class:"ml10 f12 d-inline"},w(ut.activeData.f3),5)])]),V(C(a),{class:"mt10 bt",style:{"line-height":"26px"}},{default:$((()=>[(I(),O(z,null,F(ht,(t=>V(C(o),{span:8,key:t},{default:$((()=>[K("span",null,w(t.n)+"：",1),K("span",ct,w(ut.stockInfo[t.i]||"-")+" "+w(t.unit),1)])),_:2},1024))),64))])),_:1}),V(C(_),{class:"stock-title bb bt",modelValue:ut.activeName,"onUpdate:modelValue":m[1]||(m[1]=t=>ut.activeName=t),onTabClick:bt},{default:$((()=>[(I(),O(z,null,F(dt,(t=>V(C(g),{key:t.value,name:t.value,label:t.label},null,8,["name","label"]))),64))])),_:1},8,["modelValue"]),"trends"==ut.activeName?(I(),G(q(A((()=>e((()=>import("./Trends-3fa1dd22.js")),["./Trends-3fa1dd22.js","./install-1773bb34.js","./runtime-core.esm-bundler-77b13fca.js","./reactivity.esm-bundler-72867dac.js","./install-a9a0f69e.js"],import.meta.url)))),{key:0,data:ut.stockOption,style:{width:"100%",height:"316px"}},null,8,["data"])):H("",!0),"trends"!=ut.activeName?(I(),G(q(A((()=>e((()=>import("./KLine-2029a065.js")),["./KLine-2029a065.js","./install-1773bb34.js","./runtime-core.esm-bundler-77b13fca.js","./reactivity.esm-bundler-72867dac.js","./install-a9a0f69e.js"],import.meta.url)))),{key:1,data:ut.stockOption,style:{width:"100%",height:"316px"}},null,8,["data"])):H("",!0)])),_:1})])),_:1})])),[[p,ut.loading]])}}},[["__scopeId","data-v-98f5134a"]]),ut={name:"appStock"},jt=Object.assign(ut,{setup:e=>(e,s)=>(I(),G(t,{height:"600px"},{default:$((()=>[V(dt)])),_:1}))});export{jt as default};
